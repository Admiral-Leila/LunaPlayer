(function(){function _wrapNativeSuper(e){var t="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(e){if(null===e||!_isNativeFunction(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return _construct(e,arguments,_getPrototypeOf(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(n,e)})(e)}function _construct(e,t,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&_setPrototypeOf(a,n.prototype),a}).apply(null,arguments)}function _isNativeFunction(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_superPropBase(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(e);if(t){var a=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _slicedToArray2(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(u){s=!0,a=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw a}}return i}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _createForOfIteratorHelper(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _objectSpread2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty2(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty2(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(self.webpackChunkng_luna_player=self.webpackChunkng_luna_player||[]).push([[179],{8255:function(e){function t(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=function(){return[]},t.resolve=t,t.id=8255,e.exports=t},6698:function(e,t){"use strict";t.byteLength=function(e){var t=u(e),n=t[1];return 3*(t[0]+n)/4-n},t.toByteArray=function(e){var t,n,i=u(e),o=i[0],s=i[1],c=new a(function(e,t,n){return 3*(t+n)/4-n}(0,o,s)),l=0,f=s>0?o-4:o;for(n=0;n<f;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;return 2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[l++]=255&t),1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t),c},t.fromByteArray=function(e){for(var t,r=e.length,a=r%3,i=[],o=0,s=r-a;o<s;o+=16383)i.push(c(e,o,o+16383>s?s:o+16383));return 1===a?i.push(n[(t=e[r-1])>>2]+n[t<<4&63]+"=="):2===a&&i.push(n[(t=(e[r-2]<<8)+e[r-1])>>10]+n[t>>4&63]+n[t<<2&63]+"="),i.join("")};for(var n=[],r=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,s=i.length;o<s;++o)n[o]=i[o],r[i.charCodeAt(o)]=o;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,r){for(var a,i=[],o=t;o<r;o+=3)i.push(n[(a=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]))>>18&63]+n[a>>12&63]+n[a>>6&63]+n[63&a]);return i.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},3833:function(e,t,n){"use strict";var r=n(6698),a=n(2390),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function o(e){if(e>2147483647)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,s.prototype),t}function s(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}return u(e,t,n)}function u(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!s.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|p(e,t),r=o(n),a=r.write(e,t);return a!==n&&(r=r.slice(0,a)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(z(e,Uint8Array)){var t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(z(e,ArrayBuffer)||e&&z(e.buffer,ArrayBuffer))return h(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(z(e,SharedArrayBuffer)||e&&z(e.buffer,SharedArrayBuffer)))return h(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return s.from(r,t,n);var a=function(e){if(s.isBuffer(e)){var t=0|d(e.length),n=o(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||U(e.length)?o(0):f(e):"Buffer"===e.type&&Array.isArray(e.data)?f(e.data):void 0}(e);if(a)return a;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return c(e),o(e<0?0:0|d(e))}function f(e){for(var t=e.length<0?0:0|d(e.length),n=o(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function h(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,s.prototype),r}function d(e){if(e>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|e}function p(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||z(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var a=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return N(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return B(e).length;default:if(a)return r?-1:N(e).length;t=(""+t).toLowerCase(),a=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,n);case"utf8":case"utf-8":return x(this,t,n);case"ascii":return S(this,t,n);case"latin1":case"binary":return E(this,t,n);case"base64":return T(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function v(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,a){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),U(n=+n)&&(n=a?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(a)return-1;n=e.length-1}else if(n<0){if(!a)return-1;n=0}if("string"==typeof t&&(t=s.from(t,r)),s.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,a);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,a);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,a){var i,o=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,u/=2,n/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(a){var l=-1;for(i=n;i<s;i++)if(c(e,i)===c(t,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===u)return l*o}else-1!==l&&(i-=i-l),l=-1}else for(n+u>s&&(n=s-u),i=n;i>=0;i--){for(var f=!0,h=0;h<u;h++)if(c(e,i+h)!==c(t,h)){f=!1;break}if(f)return i}return-1}function b(e,t,n,r){n=Number(n)||0;var a=e.length-n;r?(r=Number(r))>a&&(r=a):r=a;var i=t.length;r>i/2&&(r=i/2);for(var o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16);if(U(s))return o;e[n+o]=s}return o}function k(e,t,n,r){return F(N(t,e.length-n),e,n,r)}function _(e,t,n,r){return F(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function w(e,t,n,r){return F(B(t),e,n,r)}function C(e,t,n,r){return F(function(e,t){for(var n,r,a=[],i=0;i<e.length&&!((t-=2)<0);++i)r=(n=e.charCodeAt(i))>>8,a.push(n%256),a.push(r);return a}(t,e.length-n),e,n,r)}function T(e,t,n){return r.fromByteArray(0===t&&n===e.length?e:e.slice(t,n))}function x(e,t,n){n=Math.min(e.length,n);for(var r=[],a=t;a<n;){var i,o,s,u,c=e[a],l=null,f=c>239?4:c>223?3:c>191?2:1;if(a+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(i=e[a+1]))&&(u=(31&c)<<6|63&i)>127&&(l=u);break;case 3:o=e[a+2],128==(192&(i=e[a+1]))&&128==(192&o)&&(u=(15&c)<<12|(63&i)<<6|63&o)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[a+2],s=e[a+3],128==(192&(i=e[a+1]))&&128==(192&o)&&128==(192&s)&&(u=(15&c)<<18|(63&i)<<12|(63&o)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(r.push((l-=65536)>>>10&1023|55296),l=56320|1023&l),r.push(l),a+=f}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}function S(e,t,n){var r="";n=Math.min(e.length,n);for(var a=t;a<n;++a)r+=String.fromCharCode(127&e[a]);return r}function E(e,t,n){var r="";n=Math.min(e.length,n);for(var a=t;a<n;++a)r+=String.fromCharCode(e[a]);return r}function I(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var a="",i=t;i<n;++i)a+=j[e[i]];return a}function A(e,t,n){for(var r=e.slice(t,n),a="",i=0;i<r.length-1;i+=2)a+=String.fromCharCode(r[i]+256*r[i+1]);return a}function R(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,n,r,a,i){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function P(e,t,n,r,a,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function M(e,t,n,r,i){return t=+t,n>>>=0,i||P(e,0,n,4),a.write(e,t,n,r,23,4),n+4}function D(e,t,n,r,i){return t=+t,n>>>=0,i||P(e,0,n,8),a.write(e,t,n,r,52,8),n+8}t.Buffer=s,t.SlowBuffer=function(e){return+e!=e&&(e=0),s.alloc(+e)},t.INSPECT_MAX_BYTES=50,t.kMaxLength=2147483647,(s.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(n){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(e,t,n){return u(e,t,n)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(e,t,n){return function(e,t,n){return c(e),e<=0?o(e):void 0!==t?"string"==typeof n?o(e).fill(t,n):o(e).fill(t):o(e)}(e,t,n)},s.allocUnsafe=function(e){return l(e)},s.allocUnsafeSlow=function(e){return l(e)},s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(z(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),z(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,a=0,i=Math.min(n,r);a<i;++a)if(e[a]!==t[a]){n=e[a],r=t[a];break}return n<r?-1:r<n?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=s.allocUnsafe(t),a=0;for(n=0;n<e.length;++n){var i=e[n];if(z(i,Uint8Array))a+i.length>r.length?s.from(i).copy(r,a):Uint8Array.prototype.set.call(r,i,a);else{if(!s.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,a)}a+=i.length}return r},s.byteLength=p,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},s.prototype.toLocaleString=s.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?x(this,0,e):m.apply(this,arguments)},s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},i&&(s.prototype[i]=s.prototype.inspect),s.prototype.compare=function(e,t,n,r,a){if(z(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===a&&(a=this.length),t<0||n>e.length||r<0||a>this.length)throw new RangeError("out of range index");if(r>=a&&t>=n)return 0;if(r>=a)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(a>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0),u=Math.min(i,o),c=this.slice(r,a),l=e.slice(t,n),f=0;f<u;++f)if(c[f]!==l[f]){i=c[f],o=l[f];break}return i<o?-1:o<i?1:0},s.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},s.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},s.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},s.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var a=this.length-t;if((void 0===n||n>a)&&(n=a),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return k(this,e,t,n);case"ascii":case"latin1":case"binary":return _(this,e,t,n);case"base64":return w(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},s.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,s.prototype),r},s.prototype.readUintLE=s.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);for(var r=this[e],a=1,i=0;++i<t&&(a*=256);)r+=this[e+i]*a;return r},s.prototype.readUintBE=s.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);for(var r=this[e+--t],a=1;t>0&&(a*=256);)r+=this[e+--t]*a;return r},s.prototype.readUint8=s.prototype.readUInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),this[e]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);for(var r=this[e],a=1,i=0;++i<t&&(a*=256);)r+=this[e+i]*a;return r>=(a*=128)&&(r-=Math.pow(2,8*t)),r},s.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);for(var r=t,a=1,i=this[e+--r];r>0&&(a*=256);)i+=this[e+--r]*a;return i>=(a*=128)&&(i-=Math.pow(2,8*t)),i},s.prototype.readInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(e,t){e>>>=0,t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return e>>>=0,t||R(e,4,this.length),a.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||R(e,4,this.length),a.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||R(e,8,this.length),a.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||R(e,8,this.length),a.read(this,e,!1,52,8)},s.prototype.writeUintLE=s.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||O(this,e,t,n,Math.pow(2,8*n)-1,0);var a=1,i=0;for(this[t]=255&e;++i<n&&(a*=256);)this[t+i]=e/a&255;return t+n},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||O(this,e,t,n,Math.pow(2,8*n)-1,0);var a=n-1,i=1;for(this[t+a]=255&e;--a>=0&&(i*=256);)this[t+a]=e/i&255;return t+n},s.prototype.writeUint8=s.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var a=Math.pow(2,8*n-1);O(this,e,t,n,a-1,-a)}var i=0,o=1,s=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},s.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var a=Math.pow(2,8*n-1);O(this,e,t,n,a-1,-a)}var i=n-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},s.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeFloatLE=function(e,t,n){return M(this,e,t,!0,n)},s.prototype.writeFloatBE=function(e,t,n){return M(this,e,t,!1,n)},s.prototype.writeDoubleLE=function(e,t,n){return D(this,e,t,!0,n)},s.prototype.writeDoubleBE=function(e,t,n){return D(this,e,t,!1,n)},s.prototype.copy=function(e,t,n,r){if(!s.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var a=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),a},s.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var a=e.charCodeAt(0);("utf8"===r&&a<128||"latin1"===r)&&(e=a)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var o=s.isBuffer(e)?e:s.from(e,r),u=o.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=o[i%u]}return this};var L=/[^+/0-9A-Za-z-_]/g;function N(e,t){var n;t=t||1/0;for(var r=e.length,a=null,i=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!a){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&i.push(239,191,189);continue}a=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),a=n;continue}n=65536+(a-55296<<10|n-56320)}else a&&(t-=3)>-1&&i.push(239,191,189);if(a=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function B(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(L,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function F(e,t,n,r){for(var a=0;a<r&&!(a+n>=t.length||a>=e.length);++a)t[a+n]=e[a];return a}function z(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function U(e){return e!=e}var j=function(){for(var e=new Array(256),t=0;t<16;++t)for(var n=16*t,r=0;r<16;++r)e[n+r]="0123456789abcdef"[t]+"0123456789abcdef"[r];return e}()},7436:function(e,t){"use strict";var n=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,r=/^[\u000b\u0020-\u007e\u0080-\u00ff]+$/,a=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,i=/\\([\u000b\u0020-\u00ff])/g,o=/([\\"])/g,s=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/;function u(e){var t=String(e);if(a.test(t))return t;if(t.length>0&&!r.test(t))throw new TypeError("invalid parameter value");return'"'+t.replace(o,"\\$1")+'"'}function c(e){this.parameters=Object.create(null),this.type=e}t.format=function(e){if(!e||"object"!=typeof e)throw new TypeError("argument obj is required");var t=e.parameters,n=e.type;if(!n||!s.test(n))throw new TypeError("invalid type");var r=n;if(t&&"object"==typeof t)for(var i,o=Object.keys(t).sort(),c=0;c<o.length;c++){if(!a.test(i=o[c]))throw new TypeError("invalid parameter name");r+="; "+i+"="+u(t[i])}return r},t.parse=function(e){if(!e)throw new TypeError("argument string is required");var t="object"==typeof e?function(e){var t;if("function"==typeof e.getHeader?t=e.getHeader("content-type"):"object"==typeof e.headers&&(t=e.headers&&e.headers["content-type"]),"string"!=typeof t)throw new TypeError("content-type header is missing from object");return t}(e):e;if("string"!=typeof t)throw new TypeError("argument string is required to be a string");var r=t.indexOf(";"),a=-1!==r?t.substr(0,r).trim():t.trim();if(!s.test(a))throw new TypeError("invalid media type");var o=new c(a.toLowerCase());if(-1!==r){var u,l,f;for(n.lastIndex=r;l=n.exec(t);){if(l.index!==r)throw new TypeError("invalid parameter format");r+=l[0].length,u=l[1].toLowerCase(),'"'===(f=l[2])[0]&&(f=f.substr(1,f.length-2).replace(i,"$1")),o.parameters[u]=f}if(r!==t.length)throw new TypeError("invalid parameter format")}return o}},7807:function(e,t,n){var r;t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,a=0;t[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(r++,"%c"===e&&(a=r))}),t.splice(a,0,n)}},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(n){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(r=!1,function(){r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||function(){},e.exports=n(333)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},333:function(e,t,n){e.exports=function(e){function t(e){var n,a=null;function i(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];if(i.enabled){var o=i,s=Number(new Date);o.diff=s-(n||s),o.prev=n,o.curr=s,n=s,r[0]=t.coerce(r[0]),"string"!=typeof r[0]&&r.unshift("%O");var u=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,function(e,n){if("%%"===e)return"%";u++;var a=t.formatters[n];return"function"==typeof a&&(e=a.call(o,r[u]),r.splice(u,1),u--),e}),t.formatArgs.call(o,r),(o.log||t.log).apply(o,r)}}return i.namespace=e,i.useColors=t.useColors(),i.color=t.selectColor(e),i.extend=r,i.destroy=t.destroy,Object.defineProperty(i,"enabled",{enumerable:!0,configurable:!1,get:function(){return null===a?t.enabled(e):a},set:function(e){a=e}}),"function"==typeof t.init&&t.init(i),i}function r(e,n){var r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function a(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){var e=[].concat(_toConsumableArray(t.names.map(a)),_toConsumableArray(t.skips.map(a).map(function(e){return"-"+e}))).join(",");return t.enable(""),e},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),a=r.length;for(n=0;n<a;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(2691),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(function(n){t[n]=e[n]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){for(var n=0,r=0;r<e.length;r++)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},5068:function(e){"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(e,t){return new Promise(function(n,r){function a(n){e.removeListener(t,i),r(n)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",a),n([].slice.call(arguments))}m(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&m(e,"error",t,{once:!0})}(e,a)})},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var o=10;function s(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var a,i,o;if(s(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),o=i[t]),void 0===o)o=i[t]=n,++e._eventsCount;else if("function"==typeof o?o=i[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(a=u(e))>0&&o.length>a&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,console&&console.warn&&console.warn(c)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},a=l.bind(r);return a.listener=n,r.wrapFn=a,a}function h(e,t,n){var r=e._events;if(void 0===r)return[];var a=r[t];return void 0===a?[]:"function"==typeof a?n?[a.listener||a]:[a]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(a):p(a,a.length)}function d(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function m(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function a(i){r.once&&e.removeEventListener(t,a),n(i)})}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return u(this)},i.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var a="error"===e,i=this._events;if(void 0!==i)a=a&&void 0===i.error;else if(!a)return!1;if(a){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)r(u,this,t);else{var c=u.length,l=p(u,c);for(n=0;n<c;++n)r(l[n],this,t)}return!0},i.prototype.on=i.prototype.addListener=function(e,t){return c(this,e,t,!1)},i.prototype.prependListener=function(e,t){return c(this,e,t,!0)},i.prototype.once=function(e,t){return s(t),this.on(e,f(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,f(this,e,t)),this},i.prototype.off=i.prototype.removeListener=function(e,t){var n,r,a,i,o;if(s(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(a=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){o=n[i].listener,a=i;break}if(a<0)return this;0===a?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,a),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},i.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var a,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(a=i[r])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},i.prototype.listeners=function(e){return h(this,e,!0)},i.prototype.rawListeners=function(e){return h(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},i.prototype.listenerCount=d,i.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},2878:function _(module,__unused_webpack_exports,__webpack_require__){"use strict";var _asyncToGenerator=__webpack_require__(1052).default,Token=__webpack_require__(5148),strtok3=__webpack_require__(4074),_webpack_require__=__webpack_require__(591),stringToBytes=_webpack_require__.stringToBytes,tarHeaderChecksumMatches=_webpack_require__.tarHeaderChecksumMatches,uint32SyncSafeToken=_webpack_require__.uint32SyncSafeToken,supported=__webpack_require__(784),minimumBytes=4100;function fromStream(e){return _fromStream.apply(this,arguments)}function _fromStream(){return(_fromStream=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,strtok3.fromStream(t);case 2:return n=e.sent,e.prev=3,e.next=6,fromTokenizer(n);case 6:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.next=10,n.close();case 10:return e.finish(7);case 11:case"end":return e.stop()}},e,null,[[3,,7,11]])}))).apply(this,arguments)}function fromBuffer(e){return _fromBuffer.apply(this,arguments)}function _fromBuffer(){return(_fromBuffer=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof Uint8Array||t instanceof ArrayBuffer||Buffer.isBuffer(t)){e.next=2;break}throw new TypeError("Expected the `input` argument to be of type `Uint8Array` or `Buffer` or `ArrayBuffer`, got `".concat(typeof t,"`"));case 2:if(!((n=t instanceof Buffer?t:Buffer.from(t))&&n.length>1)){e.next=5;break}return e.abrupt("return",fromTokenizer(strtok3.fromBuffer(n)));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _check(e,t,n){n=_objectSpread2({offset:0},n);var r,a=_createForOfIteratorHelper(t.entries());try{for(a.s();!(r=a.n()).done;){var i=_slicedToArray2(r.value,2),o=i[0],s=i[1];if(n.mask){if(s!==(n.mask[o]&e[o+n.offset]))return!1}else if(s!==e[o+n.offset])return!1}}catch(u){a.e(u)}finally{a.f()}return!0}function fromTokenizer(e){return _fromTokenizer2.apply(this,arguments)}function _fromTokenizer2(){return(_fromTokenizer2=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",_fromTokenizer(t));case 4:if(e.prev=4,e.t0=e.catch(0),e.t0 instanceof strtok3.EndOfStreamError){e.next=8;break}throw e.t0;case 8:case"end":return e.stop()}},e,null,[[0,4]])}))).apply(this,arguments)}function _fromTokenizer(e){return _fromTokenizer3.apply(this,arguments)}function _fromTokenizer3(){return(_fromTokenizer3=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var n,r,a,i,o,s,u,c,l,f,h,d,p,m,v,g,y,b,k,_,w,C,T,x,S;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Buffer.alloc(minimumBytes),r=function(e,t){return _check(n,e,t)},a=function(e,t){return r(stringToBytes(e),t)},t.fileInfo.size||(t.fileInfo.size=Number.MAX_SAFE_INTEGER),e.next=5,t.peekBuffer(n,{length:12,mayBeLess:!0});case 5:if(!r([66,77])){e.next=7;break}return e.abrupt("return",{ext:"bmp",mime:"image/bmp"});case 7:if(!r([11,119])){e.next=9;break}return e.abrupt("return",{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"});case 9:if(!r([120,1])){e.next=11;break}return e.abrupt("return",{ext:"dmg",mime:"application/x-apple-diskimage"});case 11:if(!r([77,90])){e.next=13;break}return e.abrupt("return",{ext:"exe",mime:"application/x-msdownload"});case 13:if(!r([37,33])){e.next=17;break}return e.next=16,t.peekBuffer(n,{length:24,mayBeLess:!0});case 16:return e.abrupt("return",a("PS-Adobe-",{offset:2})&&a(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"});case 17:if(!r([31,160])&&!r([31,157])){e.next=19;break}return e.abrupt("return",{ext:"Z",mime:"application/x-compress"});case 19:if(!r([255,216,255])){e.next=21;break}return e.abrupt("return",{ext:"jpg",mime:"image/jpeg"});case 21:if(!r([73,73,188])){e.next=23;break}return e.abrupt("return",{ext:"jxr",mime:"image/vnd.ms-photo"});case 23:if(!r([31,139,8])){e.next=25;break}return e.abrupt("return",{ext:"gz",mime:"application/gzip"});case 25:if(!r([66,90,104])){e.next=27;break}return e.abrupt("return",{ext:"bz2",mime:"application/x-bzip2"});case 27:if(!a("ID3")){e.next=41;break}return e.next=30,t.ignore(6);case 30:return e.next=32,t.readToken(uint32SyncSafeToken);case 32:if(i=e.sent,!(t.position+i>t.fileInfo.size)){e.next=37;break}e.t0={ext:"mp3",mime:"audio/mpeg"},e.next=40;break;case 37:return e.next=39,t.ignore(i);case 39:e.t0=fromTokenizer(t);case 40:return e.abrupt("return",e.t0);case 41:if(!a("MP+")){e.next=43;break}return e.abrupt("return",{ext:"mpc",mime:"audio/x-musepack"});case 43:if(67!==n[0]&&70!==n[0]||!r([87,83],{offset:1})){e.next=45;break}return e.abrupt("return",{ext:"swf",mime:"application/x-shockwave-flash"});case 45:if(!r([71,73,70])){e.next=47;break}return e.abrupt("return",{ext:"gif",mime:"image/gif"});case 47:if(!a("FLIF")){e.next=49;break}return e.abrupt("return",{ext:"flif",mime:"image/flif"});case 49:if(!a("8BPS")){e.next=51;break}return e.abrupt("return",{ext:"psd",mime:"image/vnd.adobe.photoshop"});case 51:if(!a("WEBP",{offset:8})){e.next=53;break}return e.abrupt("return",{ext:"webp",mime:"image/webp"});case 53:if(!a("MPCK")){e.next=55;break}return e.abrupt("return",{ext:"mpc",mime:"audio/x-musepack"});case 55:if(!a("FORM")){e.next=57;break}return e.abrupt("return",{ext:"aif",mime:"audio/aiff"});case 57:if(!a("icns",{offset:0})){e.next=59;break}return e.abrupt("return",{ext:"icns",mime:"image/icns"});case 59:if(!r([80,75,3,4])){e.next=117;break}e.prev=60;case 61:if(!(t.position+30<t.fileInfo.size)){e.next=110;break}return e.next=64,t.readBuffer(n,{length:30});case 64:return o={compressedSize:n.readUInt32LE(18),uncompressedSize:n.readUInt32LE(22),filenameLength:n.readUInt16LE(26),extraFieldLength:n.readUInt16LE(28)},e.next=67,t.readToken(new Token.StringType(o.filenameLength,"utf-8"));case 67:return o.filename=e.sent,e.next=70,t.ignore(o.extraFieldLength);case 70:if("META-INF/mozilla.rsa"!==o.filename){e.next=72;break}return e.abrupt("return",{ext:"xpi",mime:"application/x-xpinstall"});case 72:if(!o.filename.endsWith(".rels")&&!o.filename.endsWith(".xml")){e.next=80;break}e.t1=o.filename.split("/")[0],e.next="_rels"===e.t1?76:"word"===e.t1?77:"ppt"===e.t1?78:"xl"===e.t1?79:80;break;case 76:return e.abrupt("break",80);case 77:return e.abrupt("return",{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"});case 78:return e.abrupt("return",{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"});case 79:return e.abrupt("return",{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});case 80:if(!o.filename.startsWith("xl/")){e.next=82;break}return e.abrupt("return",{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});case 82:if(!o.filename.startsWith("3D/")||!o.filename.endsWith(".model")){e.next=84;break}return e.abrupt("return",{ext:"3mf",mime:"model/3mf"});case 84:if("mimetype"!==o.filename||o.compressedSize!==o.uncompressedSize){e.next=94;break}return e.next=87,t.readToken(new Token.StringType(o.compressedSize,"utf-8"));case 87:e.t2=e.sent,e.next="application/epub+zip"===e.t2?90:"application/vnd.oasis.opendocument.text"===e.t2?91:"application/vnd.oasis.opendocument.spreadsheet"===e.t2?92:"application/vnd.oasis.opendocument.presentation"===e.t2?93:94;break;case 90:return e.abrupt("return",{ext:"epub",mime:"application/epub+zip"});case 91:return e.abrupt("return",{ext:"odt",mime:"application/vnd.oasis.opendocument.text"});case 92:return e.abrupt("return",{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"});case 93:return e.abrupt("return",{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"});case 94:if(0!==o.compressedSize){e.next=106;break}s=-1;case 96:if(!(s<0&&t.position<t.fileInfo.size)){e.next=104;break}return e.next=99,t.peekBuffer(n,{mayBeLess:!0});case 99:return s=n.indexOf("504B0304",0,"hex"),e.next=102,t.ignore(s>=0?s:n.length);case 102:e.next=96;break;case 104:e.next=108;break;case 106:return e.next=108,t.ignore(o.compressedSize);case 108:e.next=61;break;case 110:e.next=116;break;case 112:if(e.prev=112,e.t3=e.catch(60),e.t3 instanceof strtok3.EndOfStreamError){e.next=116;break}throw e.t3;case 116:return e.abrupt("return",{ext:"zip",mime:"application/zip"});case 117:if(!a("OggS")){e.next=124;break}return e.next=120,t.ignore(28);case 120:return u=Buffer.alloc(8),e.next=123,t.readBuffer(u);case 123:return e.abrupt("return",_check(u,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/opus"}:_check(u,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:_check(u,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:_check(u,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:_check(u,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:_check(u,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"});case 124:if(!r([80,75])||3!==n[2]&&5!==n[2]&&7!==n[2]||4!==n[3]&&6!==n[3]&&8!==n[3]){e.next=126;break}return e.abrupt("return",{ext:"zip",mime:"application/zip"});case 126:if(!a("ftyp",{offset:4})||0==(96&n[8])){e.next=147;break}c=n.toString("binary",8,12).replace("\0"," ").trim(),e.t4=c,e.next="avif"===e.t4?131:"mif1"===e.t4?132:"msf1"===e.t4?133:"heic"===e.t4||"heix"===e.t4?134:"hevc"===e.t4||"hevx"===e.t4?135:"qt"===e.t4?136:"M4V"===e.t4||"M4VH"===e.t4||"M4VP"===e.t4?137:"M4P"===e.t4?138:"M4B"===e.t4?139:"M4A"===e.t4?140:"F4V"===e.t4?141:"F4P"===e.t4?142:"F4A"===e.t4?143:"F4B"===e.t4?144:"crx"===e.t4?145:146;break;case 131:return e.abrupt("return",{ext:"avif",mime:"image/avif"});case 132:return e.abrupt("return",{ext:"heic",mime:"image/heif"});case 133:return e.abrupt("return",{ext:"heic",mime:"image/heif-sequence"});case 134:return e.abrupt("return",{ext:"heic",mime:"image/heic"});case 135:return e.abrupt("return",{ext:"heic",mime:"image/heic-sequence"});case 136:return e.abrupt("return",{ext:"mov",mime:"video/quicktime"});case 137:return e.abrupt("return",{ext:"m4v",mime:"video/x-m4v"});case 138:return e.abrupt("return",{ext:"m4p",mime:"video/mp4"});case 139:return e.abrupt("return",{ext:"m4b",mime:"audio/mp4"});case 140:return e.abrupt("return",{ext:"m4a",mime:"audio/x-m4a"});case 141:return e.abrupt("return",{ext:"f4v",mime:"video/mp4"});case 142:return e.abrupt("return",{ext:"f4p",mime:"video/mp4"});case 143:return e.abrupt("return",{ext:"f4a",mime:"audio/mp4"});case 144:return e.abrupt("return",{ext:"f4b",mime:"audio/mp4"});case 145:return e.abrupt("return",{ext:"cr3",mime:"image/x-canon-cr3"});case 146:return e.abrupt("return",c.startsWith("3g")?c.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"});case 147:if(!a("MThd")){e.next=149;break}return e.abrupt("return",{ext:"mid",mime:"audio/midi"});case 149:if(!a("wOFF")||!r([0,1,0,0],{offset:4})&&!a("OTTO",{offset:4})){e.next=151;break}return e.abrupt("return",{ext:"woff",mime:"font/woff"});case 151:if(!a("wOF2")||!r([0,1,0,0],{offset:4})&&!a("OTTO",{offset:4})){e.next=153;break}return e.abrupt("return",{ext:"woff2",mime:"font/woff2"});case 153:if(!r([212,195,178,161])&&!r([161,178,195,212])){e.next=155;break}return e.abrupt("return",{ext:"pcap",mime:"application/vnd.tcpdump.pcap"});case 155:if(!a("DSD ")){e.next=157;break}return e.abrupt("return",{ext:"dsf",mime:"audio/x-dsf"});case 157:if(!a("LZIP")){e.next=159;break}return e.abrupt("return",{ext:"lz",mime:"application/x-lzip"});case 159:if(!a("fLaC")){e.next=161;break}return e.abrupt("return",{ext:"flac",mime:"audio/x-flac"});case 161:if(!r([66,80,71,251])){e.next=163;break}return e.abrupt("return",{ext:"bpg",mime:"image/bpg"});case 163:if(!a("wvpk")){e.next=165;break}return e.abrupt("return",{ext:"wv",mime:"audio/wavpack"});case 165:if(!a("%PDF")){e.next=172;break}return e.next=168,t.ignore(1350);case 168:return l=Buffer.alloc(Math.min(10485760,t.fileInfo.size)),e.next=171,t.readBuffer(l,{mayBeLess:!0});case 171:return e.abrupt("return",l.includes(Buffer.from("AIPrivateData"))?{ext:"ai",mime:"application/postscript"}:{ext:"pdf",mime:"application/pdf"});case 172:if(!r([0,97,115,109])){e.next=174;break}return e.abrupt("return",{ext:"wasm",mime:"application/wasm"});case 174:if(!r([73,73,42,0])){e.next=194;break}if(!a("CR",{offset:8})){e.next=179;break}e.t5={ext:"cr2",mime:"image/x-canon-cr2"},e.next=193;break;case 179:if(!r([28,0,254,0],{offset:8})&&!r([31,0,11,0],{offset:8})){e.next=183;break}e.t6={ext:"nef",mime:"image/x-nikon-nef"},e.next=192;break;case 183:if(!r([8,0,0,0],{offset:4})||!r([45,0,254,0],{offset:8})&&!r([39,0,254,0],{offset:8})){e.next=187;break}e.t7={ext:"dng",mime:"image/x-adobe-dng"},e.next=191;break;case 187:return n=Buffer.alloc(24),e.next=190,t.peekBuffer(n);case 190:e.t7=(r([16,251,134,1],{offset:4})||r([8,0,0,0],{offset:4}))&&r([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9})?{ext:"arw",mime:"image/x-sony-arw"}:{ext:"tif",mime:"image/tiff"};case 191:e.t6=e.t7;case 192:e.t5=e.t6;case 193:return e.abrupt("return",e.t5);case 194:if(!r([77,77,0,42])){e.next=196;break}return e.abrupt("return",{ext:"tif",mime:"image/tiff"});case 196:if(!a("MAC ")){e.next=198;break}return e.abrupt("return",{ext:"ape",mime:"audio/ape"});case 198:if(!r([26,69,223,163])){e.next=215;break}return f=function(){return h.apply(this,arguments)},h=function(){return(h=_asyncToGenerator(regeneratorRuntime.mark(function e(){var n,r,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.peekNumber(Token.UINT8);case 2:for(n=e.sent,r=128,a=0;0==(n&r);)++a,r>>=1;return i=Buffer.alloc(a+1),e.next=8,t.readBuffer(i);case 8:return e.abrupt("return",i);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)},d=function(){return p.apply(this,arguments)},p=function(){return(p=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:return t=e.sent,e.next=5,f();case 5:return(n=e.sent)[0]^=128>>n.length-1,r=Math.min(6,n.length),e.abrupt("return",{id:t.readUIntBE(0,t.length),len:n.readUIntBE(n.length-r,r)});case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)},m=function(){return(m=_asyncToGenerator(regeneratorRuntime.mark(function e(n,r){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r>0)){e.next=11;break}return e.next=3,d();case 3:if(17026!==(a=e.sent).id){e.next=6;break}return e.abrupt("return",t.readToken(new Token.StringType(a.len,"utf-8")));case 6:return e.next=8,t.ignore(a.len);case 8:--r;case 9:e.next=0;break;case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)},e.next=206,d();case 206:return v=e.sent,e.next=209,function(e,t){return m.apply(this,arguments)}(1,v.len);case 209:e.t8=e.sent,e.next="webm"===e.t8?212:"matroska"===e.t8?213:214;break;case 212:return e.abrupt("return",{ext:"webm",mime:"video/webm"});case 213:return e.abrupt("return",{ext:"mkv",mime:"video/x-matroska"});case 214:return e.abrupt("return");case 215:if(!r([82,73,70,70])){e.next=222;break}if(!r([65,86,73],{offset:8})){e.next=218;break}return e.abrupt("return",{ext:"avi",mime:"video/vnd.avi"});case 218:if(!r([87,65,86,69],{offset:8})){e.next=220;break}return e.abrupt("return",{ext:"wav",mime:"audio/vnd.wave"});case 220:if(!r([81,76,67,77],{offset:8})){e.next=222;break}return e.abrupt("return",{ext:"qcp",mime:"audio/qcelp"});case 222:if(!a("SQLi")){e.next=224;break}return e.abrupt("return",{ext:"sqlite",mime:"application/x-sqlite3"});case 224:if(!r([78,69,83,26])){e.next=226;break}return e.abrupt("return",{ext:"nes",mime:"application/x-nintendo-nes-rom"});case 226:if(!a("Cr24")){e.next=228;break}return e.abrupt("return",{ext:"crx",mime:"application/x-google-chrome-extension"});case 228:if(!a("MSCF")&&!a("ISc(")){e.next=230;break}return e.abrupt("return",{ext:"cab",mime:"application/vnd.ms-cab-compressed"});case 230:if(!r([237,171,238,219])){e.next=232;break}return e.abrupt("return",{ext:"rpm",mime:"application/x-rpm"});case 232:if(!r([197,208,211,198])){e.next=234;break}return e.abrupt("return",{ext:"eps",mime:"application/eps"});case 234:if(!r([40,181,47,253])){e.next=236;break}return e.abrupt("return",{ext:"zst",mime:"application/zstd"});case 236:if(!r([79,84,84,79,0])){e.next=238;break}return e.abrupt("return",{ext:"otf",mime:"font/otf"});case 238:if(!a("#!AMR")){e.next=240;break}return e.abrupt("return",{ext:"amr",mime:"audio/amr"});case 240:if(!a("{\\rtf")){e.next=242;break}return e.abrupt("return",{ext:"rtf",mime:"application/rtf"});case 242:if(!r([70,76,86,1])){e.next=244;break}return e.abrupt("return",{ext:"flv",mime:"video/x-flv"});case 244:if(!a("IMPM")){e.next=246;break}return e.abrupt("return",{ext:"it",mime:"audio/x-it"});case 246:if(!(a("-lh0-",{offset:2})||a("-lh1-",{offset:2})||a("-lh2-",{offset:2})||a("-lh3-",{offset:2})||a("-lh4-",{offset:2})||a("-lh5-",{offset:2})||a("-lh6-",{offset:2})||a("-lh7-",{offset:2})||a("-lzs-",{offset:2})||a("-lz4-",{offset:2})||a("-lz5-",{offset:2})||a("-lhd-",{offset:2}))){e.next=248;break}return e.abrupt("return",{ext:"lzh",mime:"application/x-lzh-compressed"});case 248:if(!r([0,0,1,186])){e.next=253;break}if(!r([33],{offset:4,mask:[241]})){e.next=251;break}return e.abrupt("return",{ext:"mpg",mime:"video/MP1S"});case 251:if(!r([68],{offset:4,mask:[196]})){e.next=253;break}return e.abrupt("return",{ext:"mpg",mime:"video/MP2P"});case 253:if(!a("ITSF")){e.next=255;break}return e.abrupt("return",{ext:"chm",mime:"application/vnd.ms-htmlhelp"});case 255:if(!r([253,55,122,88,90,0])){e.next=257;break}return e.abrupt("return",{ext:"xz",mime:"application/x-xz"});case 257:if(!a("<?xml ")){e.next=259;break}return e.abrupt("return",{ext:"xml",mime:"application/xml"});case 259:if(!r([55,122,188,175,39,28])){e.next=261;break}return e.abrupt("return",{ext:"7z",mime:"application/x-7z-compressed"});case 261:if(!r([82,97,114,33,26,7])||0!==n[6]&&1!==n[6]){e.next=263;break}return e.abrupt("return",{ext:"rar",mime:"application/x-rar-compressed"});case 263:if(!a("solid ")){e.next=265;break}return e.abrupt("return",{ext:"stl",mime:"model/stl"});case 265:if(!a("BLENDER")){e.next=267;break}return e.abrupt("return",{ext:"blend",mime:"application/x-blender"});case 267:if(!a("!<arch>")){e.next=279;break}return e.next=270,t.ignore(8);case 270:return e.next=272,t.readToken(new Token.StringType(13,"ascii"));case 272:if(e.t9=e.sent,"debian-binary"!==e.t9){e.next=277;break}e.t10={ext:"deb",mime:"application/x-deb"},e.next=278;break;case 277:e.t10={ext:"ar",mime:"application/x-unix-archive"};case 278:return e.abrupt("return",e.t10);case 279:if(!r([137,80,78,71,13,10,26,10])){e.next=298;break}return g=function(){return y.apply(this,arguments)},y=function(){return(y=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.readToken(Token.INT32_BE);case 2:return e.t0=e.sent,e.next=5,t.readToken(new Token.StringType(4,"binary"));case 5:return e.t1=e.sent,e.abrupt("return",{length:e.t0,type:e.t1});case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)},e.next=284,t.ignore(8);case 284:return e.next=286,g();case 286:if(!((b=e.sent).length<0)){e.next=289;break}return e.abrupt("return");case 289:e.t11=b.type,e.next="IDAT"===e.t11?292:"acTL"===e.t11?293:294;break;case 292:return e.abrupt("return",{ext:"png",mime:"image/png"});case 293:return e.abrupt("return",{ext:"apng",mime:"image/apng"});case 294:return e.next=296,t.ignore(b.length+4);case 296:if(t.position+8<t.fileInfo.size){e.next=284;break}case 297:return e.abrupt("return",{ext:"png",mime:"image/png"});case 298:if(!r([65,82,82,79,87,49,0,0])){e.next=300;break}return e.abrupt("return",{ext:"arrow",mime:"application/x-apache-arrow"});case 300:if(!r([103,108,84,70,2,0,0,0])){e.next=302;break}return e.abrupt("return",{ext:"glb",mime:"model/gltf-binary"});case 302:if(!(r([102,114,101,101],{offset:4})||r([109,100,97,116],{offset:4})||r([109,111,111,118],{offset:4})||r([119,105,100,101],{offset:4}))){e.next=304;break}return e.abrupt("return",{ext:"mov",mime:"video/quicktime"});case 304:if(!r([73,73,82,79,8,0,0,0,24])){e.next=306;break}return e.abrupt("return",{ext:"orf",mime:"image/x-olympus-orf"});case 306:if(!a("gimp xcf ")){e.next=308;break}return e.abrupt("return",{ext:"xcf",mime:"image/x-xcf"});case 308:if(!r([73,73,85,0,24,0,0,0,136,231,116,216])){e.next=310;break}return e.abrupt("return",{ext:"rw2",mime:"image/x-panasonic-rw2"});case 310:if(!r([48,38,178,117,142,102,207,17,166,217])){e.next=336;break}return k=function(){return _.apply(this,arguments)},_=function(){return(_=_asyncToGenerator(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Buffer.alloc(16),e.next=3,t.readBuffer(n);case 3:return e.t0=n,e.next=6,t.readToken(Token.UINT64_LE);case 6:return e.t1=e.sent,e.abrupt("return",{id:e.t0,size:e.t1});case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)},e.next=315,t.ignore(30);case 315:if(!(t.position+24<t.fileInfo.size)){e.next=335;break}return e.next=318,k();case 318:if(w=e.sent,C=w.size-24,!_check(w.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){e.next=331;break}return T=Buffer.alloc(16),e.t12=C,e.next=325,t.readBuffer(T);case 325:if(C=e.t12-=e.sent,!_check(T,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43])){e.next=328;break}return e.abrupt("return",{ext:"asf",mime:"audio/x-ms-asf"});case 328:if(!_check(T,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43])){e.next=330;break}return e.abrupt("return",{ext:"asf",mime:"video/x-ms-asf"});case 330:return e.abrupt("break",335);case 331:return e.next=333,t.ignore(C);case 333:e.next=315;break;case 335:return e.abrupt("return",{ext:"asf",mime:"application/vnd.ms-asf"});case 336:if(!r([171,75,84,88,32,49,49,187,13,10,26,10])){e.next=338;break}return e.abrupt("return",{ext:"ktx",mime:"image/ktx"});case 338:if(!r([126,16,4])&&!r([126,24,4])||!r([48,77,73,69],{offset:4})){e.next=340;break}return e.abrupt("return",{ext:"mie",mime:"application/x-mie"});case 340:if(!r([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2})){e.next=342;break}return e.abrupt("return",{ext:"shp",mime:"application/x-esri-shape"});case 342:if(!r([0,0,0,12,106,80,32,32,13,10,135,10])){e.next=355;break}return e.next=345,t.ignore(20);case 345:return e.next=347,t.readToken(new Token.StringType(4,"ascii"));case 347:e.t13=e.sent,e.next="jp2 "===e.t13?350:"jpx "===e.t13?351:"jpm "===e.t13?352:"mjp2"===e.t13?353:354;break;case 350:return e.abrupt("return",{ext:"jp2",mime:"image/jp2"});case 351:return e.abrupt("return",{ext:"jpx",mime:"image/jpx"});case 352:return e.abrupt("return",{ext:"jpm",mime:"image/jpm"});case 353:return e.abrupt("return",{ext:"mj2",mime:"image/mj2"});case 354:return e.abrupt("return");case 355:if(!r([255,10])&&!r([0,0,0,12,74,88,76,32,13,10,135,10])){e.next=357;break}return e.abrupt("return",{ext:"jxl",mime:"image/jxl"});case 357:if(!r([0,0,1,186])&&!r([0,0,1,179])){e.next=359;break}return e.abrupt("return",{ext:"mpg",mime:"video/mpeg"});case 359:if(!r([0,1,0,0,0])){e.next=361;break}return e.abrupt("return",{ext:"ttf",mime:"font/ttf"});case 361:if(!r([0,0,1,0])){e.next=363;break}return e.abrupt("return",{ext:"ico",mime:"image/x-icon"});case 363:if(!r([0,0,2,0])){e.next=365;break}return e.abrupt("return",{ext:"cur",mime:"image/x-icon"});case 365:if(!r([208,207,17,224,161,177,26,225])){e.next=367;break}return e.abrupt("return",{ext:"cfb",mime:"application/x-cfb"});case 367:return e.next=369,t.peekBuffer(n,{length:Math.min(256,t.fileInfo.size),mayBeLess:!0});case 369:if(!a("BEGIN:")){e.next=374;break}if(!a("VCARD",{offset:6})){e.next=372;break}return e.abrupt("return",{ext:"vcf",mime:"text/vcard"});case 372:if(!a("VCALENDAR",{offset:6})){e.next=374;break}return e.abrupt("return",{ext:"ics",mime:"text/calendar"});case 374:if(!a("FUJIFILMCCD-RAW")){e.next=376;break}return e.abrupt("return",{ext:"raf",mime:"image/x-fujifilm-raf"});case 376:if(!a("Extended Module:")){e.next=378;break}return e.abrupt("return",{ext:"xm",mime:"audio/x-xm"});case 378:if(!a("Creative Voice File")){e.next=380;break}return e.abrupt("return",{ext:"voc",mime:"audio/x-voc"});case 380:if(!(r([4,0,0,0])&&n.length>=16)){e.next=391;break}if(!((x=n.readUInt32LE(12))>12&&n.length>=x+16)){e.next=391;break}if(e.prev=383,S=n.slice(16,x+16).toString(),!JSON.parse(S).files){e.next=387;break}return e.abrupt("return",{ext:"asar",mime:"application/x-asar"});case 387:e.next=391;break;case 389:e.prev=389,e.t14=e.catch(383);case 391:if(!r([6,14,43,52,2,5,1,1,13,1,2,1,1,2])){e.next=393;break}return e.abrupt("return",{ext:"mxf",mime:"application/mxf"});case 393:if(!a("SCRM",{offset:44})){e.next=395;break}return e.abrupt("return",{ext:"s3m",mime:"audio/x-s3m"});case 395:if(!r([71],{offset:4})||!r([71],{offset:192})&&!r([71],{offset:196})){e.next=397;break}return e.abrupt("return",{ext:"mts",mime:"video/mp2t"});case 397:if(!r([66,79,79,75,77,79,66,73],{offset:60})){e.next=399;break}return e.abrupt("return",{ext:"mobi",mime:"application/x-mobipocket-ebook"});case 399:if(!r([68,73,67,77],{offset:128})){e.next=401;break}return e.abrupt("return",{ext:"dcm",mime:"application/dicom"});case 401:if(!r([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70])){e.next=403;break}return e.abrupt("return",{ext:"lnk",mime:"application/x.ms.shortcut"});case 403:if(!r([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0])){e.next=405;break}return e.abrupt("return",{ext:"alias",mime:"application/x.apple.alias"});case 405:if(!r([76,80],{offset:34})||!(r([0,0,1],{offset:8})||r([1,0,2],{offset:8})||r([2,0,2],{offset:8}))){e.next=407;break}return e.abrupt("return",{ext:"eot",mime:"application/vnd.ms-fontobject"});case 407:if(!r([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29])){e.next=409;break}return e.abrupt("return",{ext:"indd",mime:"application/x-indesign"});case 409:return e.next=411,t.peekBuffer(n,{length:Math.min(512,t.fileInfo.size),mayBeLess:!0});case 411:if(!tarHeaderChecksumMatches(n)){e.next=413;break}return e.abrupt("return",{ext:"tar",mime:"application/x-tar"});case 413:if(!r([255,254,255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0])){e.next=415;break}return e.abrupt("return",{ext:"skp",mime:"application/vnd.sketchup.skp"});case 415:if(!a("-----BEGIN PGP MESSAGE-----")){e.next=417;break}return e.abrupt("return",{ext:"pgp",mime:"application/pgp-encrypted"});case 417:if(!(n.length>=2&&r([255,224],{offset:0,mask:[255,224]}))){e.next=426;break}if(!r([16],{offset:1,mask:[22]})){e.next=420;break}return e.abrupt("return",(r([8],{offset:1,mask:[8]}),{ext:"aac",mime:"audio/aac"}));case 420:if(!r([2],{offset:1,mask:[6]})){e.next=422;break}return e.abrupt("return",{ext:"mp3",mime:"audio/mpeg"});case 422:if(!r([4],{offset:1,mask:[6]})){e.next=424;break}return e.abrupt("return",{ext:"mp2",mime:"audio/mpeg"});case 424:if(!r([6],{offset:1,mask:[6]})){e.next=426;break}return e.abrupt("return",{ext:"mp1",mime:"audio/mpeg"});case 426:case"end":return e.stop()}},e,null,[[60,112],[383,389]])}))).apply(this,arguments)}var stream=function stream(readableStream){return new Promise(function(resolve,reject){var stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new stream.PassThrough,n=stream.pipeline?stream.pipeline(readableStream,t,function(){}):readableStream.pipe(t),r=readableStream.read(minimumBytes)||readableStream.read()||Buffer.alloc(0),e.prev=3,e.next=6,fromBuffer(r);case 6:a=e.sent,t.fileType=a,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),reject(e.t0);case 13:resolve(n);case 14:case"end":return e.stop()}},e,null,[[3,10]])})))})},fileType={fromStream:fromStream,fromTokenizer:fromTokenizer,fromBuffer:fromBuffer,stream:stream};Object.defineProperty(fileType,"extensions",{get:function(){return new Set(supported.extensions)}}),Object.defineProperty(fileType,"mimeTypes",{get:function(){return new Set(supported.mimeTypes)}}),module.exports=fileType},784:function(e){"use strict";e.exports={extensions:["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd"]}},591:function(e,t){"use strict";t.stringToBytes=function(e){return _toConsumableArray(e).map(function(e){return e.charCodeAt(0)})},t.tarHeaderChecksumMatches=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=parseInt(e.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(isNaN(n))return!1;for(var r=256,a=t;a<t+148;a++)r+=e[a];for(var i=t+156;i<t+512;i++)r+=e[i];return n===r},t.uint32SyncSafeToken={get:function(e,t){return 127&e[t+3]|e[t+2]<<7|e[t+1]<<14|e[t]<<21},len:4}},2390:function(e,t){t.read=function(e,t,n,r,a){var i,o,s=8*a-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?a-1:0,h=n?-1:1,d=e[t+f];for(f+=h,i=d&(1<<-l)-1,d>>=-l,l+=s;l>0;i=256*i+e[t+f],f+=h,l-=8);for(o=i&(1<<-l)-1,i>>=-l,l+=r;l>0;o=256*o+e[t+f],f+=h,l-=8);if(0===i)i=1-c;else{if(i===u)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,r),i-=c}return(d?-1:1)*o*Math.pow(2,i-r)},t.write=function(e,t,n,r,a,i){var o,s,u,c=8*i-a-1,l=(1<<c)-1,f=l>>1,h=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:i-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(o++,u/=2),o+f>=l?(s=0,o=l):o+f>=1?(s=(t*u-1)*Math.pow(2,a),o+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,a),o=0));a>=8;e[n+d]=255&s,d+=p,s/=256,a-=8);for(o=o<<a|s,c+=a;c>0;e[n+d]=255&o,d+=p,o/=256,c-=8);e[n+d-p]|=128*m}},5457:function(e){e.exports="function"==typeof Object.create?function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},2691:function(e){var t=1e3,n=60*t,r=60*n,a=24*r;function i(e,t,n,r){var a=t>=1.5*n;return Math.round(e/n)+" "+r+(a?"s":"")}e.exports=function(e,o){o=o||{};var s,u,c=typeof e;if("string"===c&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var i=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(i){var o=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*o;case"weeks":case"week":case"w":return 6048e5*o;case"days":case"day":case"d":return o*a;case"hours":case"hour":case"hrs":case"hr":case"h":return o*r;case"minutes":case"minute":case"mins":case"min":case"m":return o*n;case"seconds":case"second":case"secs":case"sec":case"s":return o*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}}}(e);if("number"===c&&isFinite(e))return o.long?(s=e,(u=Math.abs(s))>=a?i(s,u,a,"day"):u>=r?i(s,u,r,"hour"):u>=n?i(s,u,n,"minute"):u>=t?i(s,u,t,"second"):s+" ms"):function(e){var i=Math.abs(e);return i>=a?Math.round(e/a)+"d":i>=r?Math.round(e/r)+"h":i>=n?Math.round(e/n)+"m":i>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},6223:function(e,t,n){"use strict";var r=n(1052).default;Object.defineProperty(t,"__esModule",{value:!0}),t.fetchFromUrl=t.parseBlob=t.parseReadableStream=t.parseNodeStream=t.selectCover=t.ratingToStars=t.orderTags=t.parseFromTokenizer=t.parseBuffer=void 0;var a=n(7807),i=n(4670),o=n(1762),s=n(8171),u=a("music-metadata-browser:main"),c=n(4670);function l(){return(l=r(regeneratorRuntime.mark(function e(n,r,a){var i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=new o.ReadableWebToNodeStream(n),e.next=3,t.parseNodeStream(i,"string"==typeof r?{mimeType:r}:r,a);case 3:return s=e.sent,e.next=6,i.close();case 6:return e.abrupt("return",s);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function f(){return(f=r(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t);case 2:return r=e.sent,e.abrupt("return",(t.name&&({mimeType:t.type,size:t.size}.path=t.name),i.parseBuffer(r,{mimeType:t.type,size:t.size},n)));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function h(){return(h=r(regeneratorRuntime.mark(function e(t,n){var r,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if(r=e.sent,a={size:parseInt(r.headers.get("Content-Length"),10),mimeType:r.headers.get("Content-Type")},!r.ok){e.next=22;break}if(!r.body){e.next=16;break}return e.next=8,this.parseReadableStream(r.body,a,n);case 8:if(i=e.sent,u("Closing HTTP-readable-stream..."),e.t0=r.body.locked,e.t0){e.next=14;break}return e.next=14,r.body.cancel();case 14:return u("HTTP-readable-stream closed."),e.abrupt("return",i);case 16:return e.t1=this,e.next=19,r.blob();case 19:return e.t2=e.sent,e.t3=n,e.abrupt("return",e.t1.parseBlob.call(e.t1,e.t2,e.t3));case 22:throw new Error("HTTP error status=".concat(r.status,": ").concat(r.statusText));case 23:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function d(e){return new Promise(function(t,n){var r=new FileReader;r.onloadend=function(e){var n=e.target.result;n instanceof ArrayBuffer&&(n=s(new Uint8Array(e.target.result))),t(n)},r.onerror=function(e){n(new Error(e.type))},r.onabort=function(e){n(new Error(e.type))},r.readAsArrayBuffer(e)})}Object.defineProperty(t,"parseBuffer",{enumerable:!0,get:function(){return c.parseBuffer}}),Object.defineProperty(t,"parseFromTokenizer",{enumerable:!0,get:function(){return c.parseFromTokenizer}}),Object.defineProperty(t,"orderTags",{enumerable:!0,get:function(){return c.orderTags}}),Object.defineProperty(t,"ratingToStars",{enumerable:!0,get:function(){return c.ratingToStars}}),Object.defineProperty(t,"selectCover",{enumerable:!0,get:function(){return c.selectCover}}),t.parseNodeStream=i.parseStream,t.parseReadableStream=function(e,t,n){return l.apply(this,arguments)},t.parseBlob=function(e,t){return f.apply(this,arguments)},t.fetchFromUrl=function(e,t){return h.apply(this,arguments)}},7253:function(e,t,n){"use strict";var r=n(1052).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ParserFactory=t.parseHttpContentType=void 0;var a=n(2878),i=n(7436),o=n(2676),s=n(7807),u=n(4410),c=n(2249),l=n(2230),f=n(9351),h=n(8416),d=n(6152),p=n(3218),m=n(946),v=n(6832),g=n(542),y=n(5178),b=n(7372),k=n(6673),_=n(8669),w=s("music-metadata:parser:factory");function C(e){var t=i.parse(e),n=o.parse(t.type);return{type:n.type,subtype:n.subtype,suffix:n.suffix,parameters:t.parameters}}t.parseHttpContentType=C;var T=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"parseOnContentType",value:function(t,n){var a=this;return r(regeneratorRuntime.mark(function r(){var i,o,s,u,c;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.fileInfo;case 2:return i=r.sent,o=i.mimeType,s=i.path,u=i.url,c=e.getParserIdForMimeType(o)||e.getParserIdForExtension(s)||e.getParserIdForExtension(u),r.abrupt("return",(c||w("No parser found for MIME-type / extension: "+o),a.parse(t,c,n)));case 8:case"end":return r.stop()}},r)}))()}},{key:"parse",value:function(t,n,i){var o=this;return r(regeneratorRuntime.mark(function r(){var s,u;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(n){r.next=14;break}return w("Guess parser on content..."),s=Buffer.alloc(4100),r.next=5,t.peekBuffer(s,{mayBeLess:!0});case 5:if(t.fileInfo.path&&(n=o.getParserIdForExtension(t.fileInfo.path)),n){r.next=14;break}return r.next=9,a.fromBuffer(s);case 9:if(u=r.sent){r.next=12;break}throw new Error("Failed to determine audio format");case 12:if(w("Guessed file type is mime=".concat(u.mime,", extension=").concat(u.ext)),n=e.getParserIdForMimeType(u.mime)){r.next=14;break}throw new Error("Guessed MIME-type not supported: "+u.mime);case 14:return r.abrupt("return",o._parse(t,n,i));case 15:case"end":return r.stop()}},r)}))()}},{key:"getParserIdForExtension",value:function(e){if(e)switch(this.getExtension(e).toLocaleLowerCase()||e){case".mp2":case".mp3":case".m2a":case".aac":return"mpeg";case".ape":return"apev2";case".mp4":case".m4a":case".m4b":case".m4pa":case".m4v":case".m4r":case".3gp":return"mp4";case".wma":case".wmv":case".asf":return"asf";case".flac":return"flac";case".ogg":case".ogv":case".oga":case".ogm":case".ogx":case".opus":case".spx":return"ogg";case".aif":case".aiff":case".aifc":return"aiff";case".wav":return"riff";case".wv":case".wvp":return"wavpack";case".mpc":return"musepack";case".dsf":return"dsf";case".dff":return"dsdiff";case".mka":case".mkv":case".mk3d":case".mks":case".webm":return"matroska"}}},{key:"loadParser",value:function(e){return r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e,t.next="aiff"===t.t0?3:"adts"===t.t0||"mpeg"===t.t0?4:"apev2"===t.t0?5:"asf"===t.t0?6:"dsf"===t.t0?7:"dsdiff"===t.t0?8:"flac"===t.t0?9:"mp4"===t.t0?10:"musepack"===t.t0?11:"ogg"===t.t0?12:"riff"===t.t0?13:"wavpack"===t.t0?14:"matroska"===t.t0?15:16;break;case 3:return t.abrupt("return",new c.AIFFParser);case 4:return t.abrupt("return",new p.MpegParser);case 5:return t.abrupt("return",new l.APEv2Parser);case 6:return t.abrupt("return",new f.AsfParser);case 7:return t.abrupt("return",new b.DsfParser);case 8:return t.abrupt("return",new k.DsdiffParser);case 9:return t.abrupt("return",new h.FlacParser);case 10:return t.abrupt("return",new d.MP4Parser);case 11:return t.abrupt("return",new m.default);case 12:return t.abrupt("return",new v.OggParser);case 13:return t.abrupt("return",new g.WaveParser);case 14:return t.abrupt("return",new y.WavPackParser);case 15:return t.abrupt("return",new _.MatroskaParser);case 16:throw new Error("Unknown parser type: ".concat(e));case 17:case"end":return t.stop()}},t)}))()}},{key:"_parse",value:function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r(regeneratorRuntime.mark(function r(){var i,o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.loadParser(n);case 2:return i=r.sent,o=new u.MetadataCollector(a),r.next=6,i.init(o,t,a).parse();case 6:return r.abrupt("return",o.toCommonMetadata());case 7:case"end":return r.stop()}},r)}))()}},{key:"getExtension",value:function(e){var t=e.lastIndexOf(".");return-1===t?"":e.slice(t)}},{key:"getParserIdForMimeType",value:function(e){var t;try{t=C(e)}catch(r){return void w("Invalid HTTP Content-Type header value: ".concat(e))}var n=0===t.subtype.indexOf("x-")?t.subtype.substring(2):t.subtype;switch(t.type){case"audio":switch(n){case"mp3":case"mpeg":return"mpeg";case"aac":case"aacp":return"adts";case"flac":return"flac";case"ape":case"monkeys-audio":return"apev2";case"mp4":case"m4a":return"mp4";case"ogg":case"opus":case"speex":return"ogg";case"ms-wma":case"ms-wmv":case"ms-asf":return"asf";case"aiff":case"aif":case"aifc":return"aiff";case"vnd.wave":case"wav":case"wave":return"riff";case"wavpack":return"wavpack";case"musepack":return"musepack";case"matroska":case"webm":return"matroska";case"dsf":return"dsf"}break;case"video":switch(n){case"ms-asf":case"ms-wmv":return"asf";case"m4v":case"mp4":return"mp4";case"ogg":return"ogg";case"matroska":case"webm":return"matroska"}break;case"application":switch(n){case"vnd.ms-asf":return"asf";case"ogg":return"ogg"}}}}]),e}();t.ParserFactory=T},2249:function(e,t,n){"use strict";var r=n(1052).default;Object.defineProperty(t,"__esModule",{value:!0}),t.AIFFParser=void 0;var a=n(5148),i=n(7807),o=n(4074),s=n(4947),u=n(9548),c=n(2181),l=n(3709),f=n(2058),h=i("music-metadata:parser:aiff");t.AIFFParser=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"parse",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n,r,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.tokenizer.readToken(f.Header);case 2:if(t.t0=t.sent.chunkID,"FORM"===t.t0){t.next=5;break}throw new Error("Invalid Chunk-ID, expected 'FORM'");case 5:return t.next=7,e.tokenizer.readToken(u.FourCcToken);case 7:n=t.sent,t.t1=n,t.next="AIFF"===t.t1?11:"AIFC"===t.t1?13:15;break;case 11:return e.metadata.setFormat("container",n),e.isCompressed=!1,t.abrupt("break",16);case 13:return e.metadata.setFormat("container","AIFF-C"),e.isCompressed=!0,t.abrupt("break",16);case 15:throw Error("Unsupported AIFF type: "+n);case 16:e.metadata.setFormat("lossless",!e.isCompressed),t.prev=17;case 18:if(e.tokenizer.fileInfo.size&&!(e.tokenizer.fileInfo.size-e.tokenizer.position>=f.Header.len)){t.next=32;break}return h("Reading AIFF chunk at offset="+e.tokenizer.position),t.next=22,e.tokenizer.readToken(f.Header);case 22:return r=t.sent,h("Chunk id=".concat(r.chunkID)),a=2*Math.round(r.chunkSize/2),t.next=27,e.readData(r);case 27:return i=t.sent,t.next=30,e.tokenizer.ignore(a-i);case 30:t.next=18;break;case 32:t.next=39;break;case 34:if(t.prev=34,t.t2=t.catch(17),t.t2 instanceof o.EndOfStreamError){t.next=38;break}throw t.t2;case 38:h("End-of-stream");case 39:case"end":return t.stop()}},t,null,[[17,34]])}))()}},{key:"readData",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,i,u;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=e.chunkID,n.next="COMM"===n.t0?3:"ID3 "===n.t0?7:"SSND"===n.t0?14:15;break;case 3:return n.next=5,t.tokenizer.readToken(new l.Common(e,t.isCompressed));case 5:return r=n.sent,n.abrupt("return",(t.metadata.setFormat("bitsPerSample",r.sampleSize),t.metadata.setFormat("sampleRate",r.sampleRate),t.metadata.setFormat("numberOfChannels",r.numChannels),t.metadata.setFormat("numberOfSamples",r.numSampleFrames),t.metadata.setFormat("duration",r.numSampleFrames/r.sampleRate),t.metadata.setFormat("codec",r.compressionName),e.chunkSize));case 7:return n.next=9,t.tokenizer.readToken(new a.BufferType(e.chunkSize));case 9:return i=n.sent,u=o.fromBuffer(i),n.next=13,(new s.ID3v2Parser).parse(t.metadata,u,t.options);case 13:return n.abrupt("return",e.chunkSize);case 14:return n.abrupt("return",(t.metadata.format.duration&&t.metadata.setFormat("bitrate",8*e.chunkSize/t.metadata.format.duration),0));case 15:return n.abrupt("return",0);case 16:case"end":return n.stop()}},n)}))()}}]),n}(c.BasicParser)},3709:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Common=void 0;var r=n(5148),a=n(9548);t.Common=function(){function e(t,n){_classCallCheck(this,e),this.isAifc=n;var r=n?22:18;if(t.chunkSize<r)throw new Error("COMMON CHUNK size should always be at least ".concat(r));this.len=t.chunkSize}return _createClass(e,[{key:"get",value:function(e,t){var n=e.readUInt16BE(t+8)-16398,i=e.readUInt16BE(t+8+2),o={numChannels:e.readUInt16BE(t),numSampleFrames:e.readUInt32BE(t+2),sampleSize:e.readUInt16BE(t+6),sampleRate:n<0?i>>Math.abs(n):i<<n};if(this.isAifc){if(o.compressionType=a.FourCcToken.get(e,t+18),this.len>22){var s=e.readInt8(t+22);if(23+s+(s+1)%2!==this.len)throw new Error("Illegal pstring length");o.compressionName=new r.StringType(s,"binary").get(e,t+23)}}else o.compressionName="PCM";return o}}]),e}()},2230:function(e,t,n){"use strict";var r=n(1052).default;Object.defineProperty(t,"__esModule",{value:!0}),t.APEv2Parser=void 0;var a=n(7807),i=n(4074),o=n(4446),s=n(2181),u=n(8777),c=n(5148),l=a("music-metadata:parser:APEv2"),f=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments)).ape={},e}return _createClass(n,[{key:"tryParseApeHeader",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.tokenizer.fileInfo.size&&e.tokenizer.fileInfo.size-e.tokenizer.position<u.TagFooter.len)){t.next=2;break}return t.abrupt("return",void l("No APEv2 header found, end-of-file reached"));case 2:return t.next=4,e.tokenizer.peekToken(u.TagFooter);case 4:if("APETAGEX"!==(r=t.sent).ID){t.next=9;break}return t.next=8,e.tokenizer.ignore(u.TagFooter.len);case 8:return t.abrupt("return",e.parseTags(r));case 9:if(l("APEv2 header not found at offset=".concat(e.tokenizer.position)),!e.tokenizer.fileInfo.size){t.next=14;break}return a=Buffer.alloc(e.tokenizer.fileInfo.size-e.tokenizer.position),t.next=13,e.tokenizer.readBuffer(a);case 13:return t.abrupt("return",n.parseTagFooter(e.metadata,a,e.options));case 14:case"end":return t.stop()}},t)}))()}},{key:"parse",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n,r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.tokenizer.readToken(u.DescriptorParser);case 2:if("MAC "===(n=t.sent).ID){t.next=5;break}throw new Error("Unexpected descriptor ID");case 5:return e.ape.descriptor=n,r=n.descriptorBytes-u.DescriptorParser.len,t.next=9,r>0?e.parseDescriptorExpansion(r):e.parseHeader();case 9:return a=t.sent,t.next=12,e.tokenizer.ignore(a.forwardBytes);case 12:return t.abrupt("return",e.tryParseApeHeader());case 13:case"end":return t.stop()}},t)}))()}},{key:"parseTags",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a,i,s,f,h,d,p,m,v,g,y,b;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:r=Buffer.alloc(256),a=e.size-u.TagFooter.len,l("Parse APE tags at offset=".concat(t.tokenizer.position,", size=").concat(a)),i=0;case 4:if(!(i<e.fields)){n.next=50;break}if(!(a<u.TagItemHeader.len)){n.next=8;break}return t.metadata.addWarning("APEv2 Tag-header: ".concat(e.fields-i," items remaining, but no more tag data to read.")),n.abrupt("break",50);case 8:return n.next=10,t.tokenizer.readToken(u.TagItemHeader);case 10:return s=n.sent,a-=u.TagItemHeader.len+s.size,n.next=14,t.tokenizer.peekBuffer(r,{length:Math.min(r.length,a)});case 14:return f=o.default.findZero(r,0,r.length),n.next=17,t.tokenizer.readToken(new c.StringType(f,"ascii"));case 17:return h=n.sent,n.next=20,t.tokenizer.ignore(1);case 20:a-=h.length+1,n.t0=s.flags.dataType,n.next=n.t0===u.DataType.text_utf8?24:n.t0===u.DataType.binary?30:n.t0===u.DataType.external_info?42:46;break;case 24:return n.next=26,t.tokenizer.readToken(new c.StringType(s.size,"utf8"));case 26:d=n.sent.split(/\x00/g),p=_createForOfIteratorHelper(d);try{for(p.s();!(m=p.n()).done;)v=m.value,t.metadata.addTag("APEv2",h,v)}catch(k){p.e(k)}finally{p.f()}return n.abrupt("break",47);case 30:if(!t.options.skipCovers){n.next=35;break}return n.next=33,t.tokenizer.ignore(s.size);case 33:n.next=41;break;case 35:return g=Buffer.alloc(s.size),n.next=38,t.tokenizer.readBuffer(g);case 38:f=o.default.findZero(g,0,g.length),y=g.toString("utf8",0,f),b=Buffer.from(g.slice(f+1)),t.metadata.addTag("APEv2",h,{description:y,data:b});case 41:return n.abrupt("break",47);case 42:return l("Ignore external info ".concat(h)),n.next=45,t.tokenizer.ignore(s.size);case 45:return n.abrupt("break",47);case 46:throw new Error("Unexpected data-type: ".concat(s.flags.dataType));case 47:i++,n.next=4;break;case 50:case"end":return n.stop()}},n)}))()}},{key:"parseDescriptorExpansion",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.tokenizer.ignore(e);case 2:return n.abrupt("return",t.parseHeader());case 3:case"end":return n.stop()}},n)}))()}},{key:"parseHeader",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.tokenizer.readToken(u.Header);case 2:return r=t.sent,t.abrupt("return",(e.metadata.setFormat("lossless",!0),e.metadata.setFormat("container","Monkey's Audio"),e.metadata.setFormat("bitsPerSample",r.bitsPerSample),e.metadata.setFormat("sampleRate",r.sampleRate),e.metadata.setFormat("numberOfChannels",r.channel),e.metadata.setFormat("duration",n.calculateDuration(r)),{forwardBytes:e.ape.descriptor.seekTableBytes+e.ape.descriptor.headerDataBytes+e.ape.descriptor.apeFrameDataBytes+e.ape.descriptor.terminatingDataBytes}));case 4:case"end":return t.stop()}},t)}))()}}],[{key:"tryParseApeHeader",value:function(e,t,r){var a=new n;return a.init(e,t,r),a.tryParseApeHeader()}},{key:"calculateDuration",value:function(e){var t=e.totalFrames>1?e.blocksPerFrame*(e.totalFrames-1):0;return(t+=e.finalFrameBlocks)/e.sampleRate}},{key:"findApeFooterOffset",value:function(e,t){return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=Buffer.alloc(u.TagFooter.len),n.next=3,e.randomRead(r,0,u.TagFooter.len,t-u.TagFooter.len);case 3:if("APETAGEX"!==(a=u.TagFooter.get(r,0)).ID){n.next=6;break}return n.abrupt("return",(l("APE footer header at offset=".concat(t)),{footer:a,offset:t-a.size}));case 6:case"end":return n.stop()}},n)}))()}},{key:"parseTagFooter",value:function(e,t,r){var a=u.TagFooter.get(t,t.length-u.TagFooter.len);if("APETAGEX"!==a.ID)throw new Error("Unexpected APEv2 Footer ID preamble value.");i.fromBuffer(t);var o=new n;return o.init(e,i.fromBuffer(t),r),o.parseTags(a)}}]),n}(s.BasicParser);t.APEv2Parser=f},4581:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.APEv2TagMapper=void 0;var r=n(5729),a={Title:"title",Artist:"artist",Artists:"artists","Album Artist":"albumartist",Album:"album",Year:"date",Originalyear:"originalyear",Originaldate:"originaldate",Comment:"comment",Track:"track",Disc:"disk",DISCNUMBER:"disk",Genre:"genre","Cover Art (Front)":"picture","Cover Art (Back)":"picture",Composer:"composer",Lyrics:"lyrics",ALBUMSORT:"albumsort",TITLESORT:"titlesort",WORK:"work",ARTISTSORT:"artistsort",ALBUMARTISTSORT:"albumartistsort",COMPOSERSORT:"composersort",Lyricist:"lyricist",Writer:"writer",Conductor:"conductor",MixArtist:"remixer",Arranger:"arranger",Engineer:"engineer",Producer:"producer",DJMixer:"djmixer",Mixer:"mixer",Label:"label",Grouping:"grouping",Subtitle:"subtitle",DiscSubtitle:"discsubtitle",Compilation:"compilation",BPM:"bpm",Mood:"mood",Media:"media",CatalogNumber:"catalognumber",MUSICBRAINZ_ALBUMSTATUS:"releasestatus",MUSICBRAINZ_ALBUMTYPE:"releasetype",RELEASECOUNTRY:"releasecountry",Script:"script",Language:"language",Copyright:"copyright",LICENSE:"license",EncodedBy:"encodedby",EncoderSettings:"encodersettings",Barcode:"barcode",ISRC:"isrc",ASIN:"asin",musicbrainz_trackid:"musicbrainz_recordingid",musicbrainz_releasetrackid:"musicbrainz_trackid",MUSICBRAINZ_ALBUMID:"musicbrainz_albumid",MUSICBRAINZ_ARTISTID:"musicbrainz_artistid",MUSICBRAINZ_ALBUMARTISTID:"musicbrainz_albumartistid",MUSICBRAINZ_RELEASEGROUPID:"musicbrainz_releasegroupid",MUSICBRAINZ_WORKID:"musicbrainz_workid",MUSICBRAINZ_TRMID:"musicbrainz_trmid",MUSICBRAINZ_DISCID:"musicbrainz_discid",Acoustid_Id:"acoustid_id",ACOUSTID_FINGERPRINT:"acoustid_fingerprint",MUSICIP_PUID:"musicip_puid",Weblink:"website",REPLAYGAIN_TRACK_GAIN:"replaygain_track_gain",REPLAYGAIN_TRACK_PEAK:"replaygain_track_peak",MP3GAIN_MINMAX:"replaygain_track_minmax",MP3GAIN_UNDO:"replaygain_undo"};t.APEv2TagMapper=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this,["APEv2"],a)}return n}(r.CaseInsensitiveTagMap)},8777:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isBitSet=t.parseTagFlags=t.TagField=t.TagItemHeader=t.TagFooter=t.Header=t.DescriptorParser=t.DataType=void 0;var r,a=n(5148),i=n(9548);function o(e){return{containsHeader:s(e,31),containsFooter:s(e,30),isHeader:s(e,31),readOnly:s(e,0),dataType:(6&e)>>1}}function s(e,t){return 0!=(e&1<<t)}(r=t.DataType||(t.DataType={}))[r.text_utf8=0]="text_utf8",r[r.binary=1]="binary",r[r.external_info=2]="external_info",r[r.reserved=3]="reserved",t.DescriptorParser={len:52,get:function(e,t){return{ID:i.FourCcToken.get(e,t),version:a.UINT32_LE.get(e,t+4)/1e3,descriptorBytes:a.UINT32_LE.get(e,t+8),headerBytes:a.UINT32_LE.get(e,t+12),seekTableBytes:a.UINT32_LE.get(e,t+16),headerDataBytes:a.UINT32_LE.get(e,t+20),apeFrameDataBytes:a.UINT32_LE.get(e,t+24),apeFrameDataBytesHigh:a.UINT32_LE.get(e,t+28),terminatingDataBytes:a.UINT32_LE.get(e,t+32),fileMD5:new a.BufferType(16).get(e,t+36)}}},t.Header={len:24,get:function(e,t){return{compressionLevel:a.UINT16_LE.get(e,t),formatFlags:a.UINT16_LE.get(e,t+2),blocksPerFrame:a.UINT32_LE.get(e,t+4),finalFrameBlocks:a.UINT32_LE.get(e,t+8),totalFrames:a.UINT32_LE.get(e,t+12),bitsPerSample:a.UINT16_LE.get(e,t+16),channel:a.UINT16_LE.get(e,t+18),sampleRate:a.UINT32_LE.get(e,t+20)}}},t.TagFooter={len:32,get:function(e,t){return{ID:new a.StringType(8,"ascii").get(e,t),version:a.UINT32_LE.get(e,t+8),size:a.UINT32_LE.get(e,t+12),fields:a.UINT32_LE.get(e,t+16),flags:o(a.UINT32_LE.get(e,t+20))}}},t.TagItemHeader={len:8,get:function(e,t){return{size:a.UINT32_LE.get(e,t),flags:o(a.UINT32_LE.get(e,t+4))}}},t.TagField=function(e){return new a.BufferType(e.size-t.TagFooter.len)},t.parseTagFlags=o,t.isBitSet=s},7886:function(e,t,n){"use strict";var r=n(1052).default;Object.defineProperty(t,"__esModule",{value:!0}),t.WmPictureToken=t.MetadataLibraryObjectState=t.MetadataObjectState=t.ExtendedStreamPropertiesObjectState=t.ExtendedContentDescriptionObjectState=t.ContentDescriptionObjectState=t.readCodecEntries=t.HeaderExtensionObject=t.StreamPropertiesObject=t.FilePropertiesObject=t.IgnoreObjectState=t.State=t.HeaderObjectToken=t.TopLevelHeaderObjectToken=t.DataType=void 0;var a,i=n(4446),o=n(5148),s=n(9787),u=n(5500),c=n(7899);(a=t.DataType||(t.DataType={}))[a.UnicodeString=0]="UnicodeString",a[a.ByteArray=1]="ByteArray",a[a.Bool=2]="Bool",a[a.DWord=3]="DWord",a[a.QWord=4]="QWord",a[a.Word=5]="Word",t.TopLevelHeaderObjectToken={len:30,get:function(e,t){return{objectId:s.default.fromBin(new o.BufferType(16).get(e,t)),objectSize:o.UINT64_LE.get(e,t+16),numberOfHeaderObjects:o.UINT32_LE.get(e,t+24)}}},t.HeaderObjectToken={len:24,get:function(e,t){return{objectId:s.default.fromBin(new o.BufferType(16).get(e,t)),objectSize:o.UINT64_LE.get(e,t+16)}}};var l=function(){function e(n){_classCallCheck(this,e),this.len=n.objectSize-t.HeaderObjectToken.len}return _createClass(e,[{key:"postProcessTag",value:function(e,t,n,r){if("WM/Picture"===t)e.push({id:t,value:E.fromBuffer(r)});else{var a=u.AsfUtil.getParserForAttr(n);if(!a)throw new Error("unexpected value headerType: "+n);e.push({id:t,value:a(r)})}}}]),e}();t.State=l,t.IgnoreObjectState=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"get",value:function(e,t){return null}}]),n}(l);var f=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"get",value:function(e,t){return{fileId:s.default.fromBin(e,t),fileSize:o.UINT64_LE.get(e,t+16),creationDate:o.UINT64_LE.get(e,t+24),dataPacketsCount:o.UINT64_LE.get(e,t+32),playDuration:o.UINT64_LE.get(e,t+40),sendDuration:o.UINT64_LE.get(e,t+48),preroll:o.UINT64_LE.get(e,t+56),flags:{broadcast:i.default.strtokBITSET.get(e,t+64,24),seekable:i.default.strtokBITSET.get(e,t+64,25)},minimumDataPacketSize:o.UINT32_LE.get(e,t+68),maximumDataPacketSize:o.UINT32_LE.get(e,t+72),maximumBitrate:o.UINT32_LE.get(e,t+76)}}}]),n}(l);t.FilePropertiesObject=f,f.guid=s.default.FilePropertiesObject;var h=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"get",value:function(e,t){return{streamType:s.default.decodeMediaType(s.default.fromBin(e,t)),errorCorrectionType:s.default.fromBin(e,t+8)}}}]),n}(l);t.StreamPropertiesObject=h,h.guid=s.default.StreamPropertiesObject;var d=function(){function e(){_classCallCheck(this,e),this.len=22}return _createClass(e,[{key:"get",value:function(e,t){return{reserved1:s.default.fromBin(e,t),reserved2:e.readUInt16LE(t+16),extensionDataSize:e.readUInt32LE(t+18)}}}]),e}();t.HeaderExtensionObject=d,d.guid=s.default.HeaderExtensionObject;var p={len:20,get:function(e,t){return{entryCount:e.readUInt16LE(t+16)}}};function m(e){return v.apply(this,arguments)}function v(){return(v=r(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.readNumber(o.UINT16_LE);case 2:return n=e.sent,e.next=5,t.readToken(new o.StringType(2*n,"utf16le"));case 5:return e.abrupt("return",e.sent.replace("\0",""));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function g(){return(g=r(regeneratorRuntime.mark(function e(t){var n,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.readToken(p);case 2:n=e.sent,r=[],a=0;case 5:if(!(a<n.entryCount)){e.next=14;break}return e.t0=r,e.next=9,k(t);case 9:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 11:++a,e.next=5;break;case 14:return e.abrupt("return",r);case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}function y(e){return b.apply(this,arguments)}function b(){return(b=r(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.readNumber(o.UINT16_LE);case 2:return n=e.sent,r=Buffer.alloc(n),e.next=6,t.readBuffer(r);case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function k(e){return _.apply(this,arguments)}function _(){return(_=r(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.readNumber(o.UINT16_LE);case 2:return n=e.sent,e.t0={videoCodec:1==(1&n),audioCodec:2==(2&n)},e.next=6,m(t);case 6:return e.t1=e.sent,e.next=9,m(t);case 9:return e.t2=e.sent,e.next=12,y(t);case 12:return e.t3=e.sent,e.abrupt("return",{type:e.t0,codecName:e.t1,description:e.t2,information:e.t3});case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}t.readCodecEntries=function(e){return g.apply(this,arguments)};var w=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"get",value:function(e,t){for(var r=[],a=t+10,i=0;i<n.contentDescTags.length;++i){var o=e.readUInt16LE(t+2*i);if(o>0){var s=a+o;r.push({id:n.contentDescTags[i],value:u.AsfUtil.parseUnicodeAttr(e.slice(a,s))}),a=s}}return r}}]),n}(l);t.ContentDescriptionObjectState=w,w.guid=s.default.ContentDescriptionObject,w.contentDescTags=["Title","Author","Copyright","Description","Rating"];var C=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"get",value:function(e,t){for(var n=[],r=e.readUInt16LE(t),a=t+2,i=0;i<r;i+=1){var o=e.readUInt16LE(a);a+=2;var s=u.AsfUtil.parseUnicodeAttr(e.slice(a,a+o));a+=o;var c=e.readUInt16LE(a);a+=2;var l=e.readUInt16LE(a);a+=2;var f=e.slice(a,a+l);a+=l,this.postProcessTag(n,s,c,f)}return n}}]),n}(l);t.ExtendedContentDescriptionObjectState=C,C.guid=s.default.ExtendedContentDescriptionObject;var T=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"get",value:function(e,t){return{startTime:o.UINT64_LE.get(e,t),endTime:o.UINT64_LE.get(e,t+8),dataBitrate:e.readInt32LE(t+12),bufferSize:e.readInt32LE(t+16),initialBufferFullness:e.readInt32LE(t+20),alternateDataBitrate:e.readInt32LE(t+24),alternateBufferSize:e.readInt32LE(t+28),alternateInitialBufferFullness:e.readInt32LE(t+32),maximumObjectSize:e.readInt32LE(t+36),flags:{reliableFlag:i.default.strtokBITSET.get(e,t+40,0),seekableFlag:i.default.strtokBITSET.get(e,t+40,1),resendLiveCleanpointsFlag:i.default.strtokBITSET.get(e,t+40,2)},streamNumber:e.readInt16LE(t+42),streamLanguageId:e.readInt16LE(t+44),averageTimePerFrame:e.readInt32LE(t+52),streamNameCount:e.readInt32LE(t+54),payloadExtensionSystems:e.readInt32LE(t+56),streamNames:[],streamPropertiesObject:null}}}]),n}(l);t.ExtendedStreamPropertiesObjectState=T,T.guid=s.default.ExtendedStreamPropertiesObject;var x=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"get",value:function(e,t){for(var n=[],r=e.readUInt16LE(t),a=t+2,i=0;i<r;i+=1){a+=4;var o=e.readUInt16LE(a);a+=2;var s=e.readUInt16LE(a);a+=2;var c=e.readUInt32LE(a);a+=4;var l=u.AsfUtil.parseUnicodeAttr(e.slice(a,a+o));a+=o;var f=e.slice(a,a+c);if(a+=c,!u.AsfUtil.getParserForAttr(s))throw new Error("unexpected value headerType: "+s);this.postProcessTag(n,l,s,f)}return n}}]),n}(l);t.MetadataObjectState=x,x.guid=s.default.MetadataObject;var S=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return n}(x);t.MetadataLibraryObjectState=S,S.guid=s.default.MetadataLibraryObject;var E=function(){function e(t){_classCallCheck(this,e),this.len=t}return _createClass(e,[{key:"get",value:function(e,t){for(var n=e.readUInt8(t++),r=e.readInt32LE(t),a=5;0!==e.readUInt16BE(a);)a+=2;for(var i=e.slice(5,a).toString("utf16le");0!==e.readUInt16BE(a);)a+=2;var o=e.slice(5,a).toString("utf16le");return{type:c.AttachedPictureType[n],format:i,description:o,size:r,data:e.slice(a+4)}}}],[{key:"fromBase64",value:function(e){return this.fromBuffer(Buffer.from(e,"base64"))}},{key:"fromBuffer",value:function(t){return new e(t.length).get(t,0)}}]),e}();t.WmPictureToken=E},9351:function(e,t,n){"use strict";var r=n(1052).default;Object.defineProperty(t,"__esModule",{value:!0}),t.AsfParser=void 0;var a=n(8810),i=n(9787),o=n(7886),s=n(7807),u=n(2181),c=s("music-metadata:parser:ASF");t.AsfParser=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"parse",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.tokenizer.readToken(o.TopLevelHeaderObjectToken);case 2:if((n=t.sent).objectId.equals(i.default.HeaderObject)){t.next=5;break}throw new Error("expected asf header; but was not found; got: "+n.objectId.str);case 5:return t.prev=5,t.next=8,e.parseObjectHeader(n.numberOfHeaderObjects);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(5),c("Error while parsing ASF: %s",t.t0);case 13:case"end":return t.stop()}},t,null,[[5,10]])}))()}},{key:"parseObjectHeader",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,s,u,l,f,h,d;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.tokenizer.readToken(o.HeaderObjectToken);case 2:s=n.sent,n.t0=(c("header GUID=%s",s.objectId.str),s.objectId.str),n.next=n.t0===o.FilePropertiesObject.guid.str?6:n.t0===o.StreamPropertiesObject.guid.str?11:n.t0===o.HeaderExtensionObject.guid.str?16:n.t0===o.ContentDescriptionObjectState.guid.str?22:n.t0===o.ExtendedContentDescriptionObjectState.guid.str?27:n.t0===i.default.CodecListObject.str?32:n.t0===i.default.StreamBitratePropertiesObject.str?39:n.t0===i.default.PaddingObject.str?42:46;break;case 6:return n.next=8,t.tokenizer.readToken(new o.FilePropertiesObject(s));case 8:return u=n.sent,t.metadata.setFormat("duration",u.playDuration/1e7-u.preroll/1e3),t.metadata.setFormat("bitrate",u.maximumBitrate),n.abrupt("break",50);case 11:return n.next=13,t.tokenizer.readToken(new o.StreamPropertiesObject(s));case 13:return l=n.sent,t.metadata.setFormat("container","ASF/"+l.streamType),n.abrupt("break",50);case 16:return n.next=18,t.tokenizer.readToken(new o.HeaderExtensionObject);case 18:return f=n.sent,n.next=21,t.parseExtensionObject(f.extensionDataSize);case 21:return n.abrupt("break",50);case 22:return n.next=24,t.tokenizer.readToken(new o.ContentDescriptionObjectState(s));case 24:return r=n.sent,t.addTags(r),n.abrupt("break",50);case 27:return n.next=29,t.tokenizer.readToken(new o.ExtendedContentDescriptionObjectState(s));case 29:return r=n.sent,t.addTags(r),n.abrupt("break",50);case 32:return n.next=34,o.readCodecEntries(t.tokenizer);case 34:return(h=n.sent).forEach(function(e){t.metadata.addStreamInfo({type:e.type.videoCodec?a.TrackType.video:a.TrackType.audio,codecName:e.codecName})}),d=h.filter(function(e){return e.type.audioCodec}).map(function(e){return e.codecName}).join("/"),t.metadata.setFormat("codec",d),n.abrupt("break",50);case 39:return n.next=41,t.tokenizer.ignore(s.objectSize-o.HeaderObjectToken.len);case 41:return n.abrupt("break",50);case 42:return c("Padding: %s bytes",s.objectSize-o.HeaderObjectToken.len),n.next=45,t.tokenizer.ignore(s.objectSize-o.HeaderObjectToken.len);case 45:return n.abrupt("break",50);case 46:return t.metadata.addWarning("Ignore ASF-Object-GUID: "+s.objectId.str),c("Ignore ASF-Object-GUID: %s",s.objectId.str),n.next=50,t.tokenizer.readToken(new o.IgnoreObjectState(s));case 50:if(--e){n.next=0;break}case 51:case"end":return n.stop()}},n)}))()}},{key:"addTags",value:function(e){var t=this;e.forEach(function(e){t.metadata.addTag("asf",e.id,e.value)})}},{key:"parseExtensionObject",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.tokenizer.readToken(o.HeaderObjectToken);case 2:r=n.sent,n.t0=r.objectId.str,n.next=n.t0===o.ExtendedStreamPropertiesObjectState.guid.str?6:n.t0===o.MetadataObjectState.guid.str?9:n.t0===o.MetadataLibraryObjectState.guid.str?14:n.t0===i.default.PaddingObject.str?19:n.t0===i.default.CompatibilityObject.str?22:n.t0===i.default.ASF_Index_Placeholder_Object.str?24:27;break;case 6:return n.next=8,t.tokenizer.readToken(new o.ExtendedStreamPropertiesObjectState(r));case 8:return n.abrupt("break",30);case 9:return n.next=11,t.tokenizer.readToken(new o.MetadataObjectState(r));case 11:return a=n.sent,t.addTags(a),n.abrupt("break",30);case 14:return n.next=16,t.tokenizer.readToken(new o.MetadataLibraryObjectState(r));case 16:return s=n.sent,t.addTags(s),n.abrupt("break",30);case 19:return n.next=21,t.tokenizer.ignore(r.objectSize-o.HeaderObjectToken.len);case 21:return n.abrupt("break",30);case 22:return t.tokenizer.ignore(r.objectSize-o.HeaderObjectToken.len),n.abrupt("break",30);case 24:return n.next=26,t.tokenizer.ignore(r.objectSize-o.HeaderObjectToken.len);case 26:return n.abrupt("break",30);case 27:return t.metadata.addWarning("Ignore ASF-Object-GUID: "+r.objectId.str),n.next=30,t.tokenizer.readToken(new o.IgnoreObjectState(r));case 30:e-=r.objectSize;case 31:if(e>0){n.next=0;break}case 32:case"end":return n.stop()}},n)}))()}}]),n}(u.BasicParser)},2837:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsfTagMapper=void 0;var r=n(8893),a={Title:"title",Author:"artist","WM/AlbumArtist":"albumartist","WM/AlbumTitle":"album","WM/Year":"date","WM/OriginalReleaseTime":"originaldate","WM/OriginalReleaseYear":"originalyear",Description:"comment","WM/TrackNumber":"track","WM/PartOfSet":"disk","WM/Genre":"genre","WM/Composer":"composer","WM/Lyrics":"lyrics","WM/AlbumSortOrder":"albumsort","WM/TitleSortOrder":"titlesort","WM/ArtistSortOrder":"artistsort","WM/AlbumArtistSortOrder":"albumartistsort","WM/ComposerSortOrder":"composersort","WM/Writer":"lyricist","WM/Conductor":"conductor","WM/ModifiedBy":"remixer","WM/Engineer":"engineer","WM/Producer":"producer","WM/DJMixer":"djmixer","WM/Mixer":"mixer","WM/Publisher":"label","WM/ContentGroupDescription":"grouping","WM/SubTitle":"subtitle","WM/SetSubTitle":"discsubtitle","WM/IsCompilation":"compilation","WM/SharedUserRating":"rating","WM/BeatsPerMinute":"bpm","WM/Mood":"mood","WM/Media":"media","WM/CatalogNo":"catalognumber","MusicBrainz/Album Status":"releasestatus","MusicBrainz/Album Type":"releasetype","MusicBrainz/Album Release Country":"releasecountry","WM/Script":"script","WM/Language":"language",Copyright:"copyright",LICENSE:"license","WM/EncodedBy":"encodedby","WM/EncodingSettings":"encodersettings","WM/Barcode":"barcode","WM/ISRC":"isrc","MusicBrainz/Track Id":"musicbrainz_recordingid","MusicBrainz/Release Track Id":"musicbrainz_trackid","MusicBrainz/Album Id":"musicbrainz_albumid","MusicBrainz/Artist Id":"musicbrainz_artistid","MusicBrainz/Album Artist Id":"musicbrainz_albumartistid","MusicBrainz/Release Group Id":"musicbrainz_releasegroupid","MusicBrainz/Work Id":"musicbrainz_workid","MusicBrainz/TRM Id":"musicbrainz_trmid","MusicBrainz/Disc Id":"musicbrainz_discid","Acoustid/Id":"acoustid_id","Acoustid/Fingerprint":"acoustid_fingerprint","MusicIP/PUID":"musicip_puid","WM/ARTISTS":"artists","WM/InitialKey":"key",ASIN:"asin","WM/Work":"work","WM/AuthorURL":"website","WM/Picture":"picture"},i=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this,["asf"],a)}return _createClass(n,[{key:"postMap",value:function(e){switch(e.id){case"WM/SharedUserRating":var t=e.id.split(":");e.value=n.toRating(e.value),e.id=t[0]}}}],[{key:"toRating",value:function(e){return{rating:parseFloat(e+1)/5}}}]),n}(r.CommonTagMapper);t.AsfTagMapper=i},5500:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsfUtil=void 0;var r=n(4446),a=n(5148),i=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"getParserForAttr",value:function(t){return e.attributeParsers[t]}},{key:"parseUnicodeAttr",value:function(e){return r.default.stripNulls(r.default.decodeString(e,"utf16le"))}},{key:"parseByteArrayAttr",value:function(e){var t=Buffer.alloc(e.length);return e.copy(t),t}},{key:"parseBoolAttr",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return 1===e.parseWordAttr(t,n)}},{key:"parseDWordAttr",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.readUInt32LE(t)}},{key:"parseQWordAttr",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return a.UINT64_LE.get(e,t)}},{key:"parseWordAttr",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.readUInt16LE(t)}}]),e}();t.AsfUtil=i,i.attributeParsers=[i.parseUnicodeAttr,i.parseByteArrayAttr,i.parseBoolAttr,i.parseDWordAttr,i.parseQWordAttr,i.parseWordAttr,i.parseByteArrayAttr]},9787:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(t){_classCallCheck(this,e),this.str=t}return _createClass(e,[{key:"equals",value:function(e){return this.str===e.str}},{key:"toBin",value:function(){return e.encode(this.str)}}],[{key:"fromBin",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new e(this.decode(t,n))}},{key:"decode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(e.readUInt32LE(t).toString(16)+"-"+e.readUInt16LE(t+4).toString(16)+"-"+e.readUInt16LE(t+6).toString(16)+"-"+e.readUInt16BE(t+8).toString(16)+"-"+e.slice(t+10,t+16).toString("hex")).toUpperCase()}},{key:"decodeMediaType",value:function(t){switch(t.str){case e.AudioMedia.str:return"audio";case e.VideoMedia.str:return"video";case e.CommandMedia.str:return"command";case e.Degradable_JPEG_Media.str:return"degradable-jpeg";case e.FileTransferMedia.str:return"file-transfer";case e.BinaryMedia.str:return"binary"}}},{key:"encode",value:function(e){var t=Buffer.alloc(16);return t.writeUInt32LE(parseInt(e.slice(0,8),16),0),t.writeUInt16LE(parseInt(e.slice(9,13),16),4),t.writeUInt16LE(parseInt(e.slice(14,18),16),6),Buffer.from(e.slice(19,23),"hex").copy(t,8),Buffer.from(e.slice(24),"hex").copy(t,10),t}}]),e}();t.default=n,n.HeaderObject=new n("75B22630-668E-11CF-A6D9-00AA0062CE6C"),n.DataObject=new n("75B22636-668E-11CF-A6D9-00AA0062CE6C"),n.SimpleIndexObject=new n("33000890-E5B1-11CF-89F4-00A0C90349CB"),n.IndexObject=new n("D6E229D3-35DA-11D1-9034-00A0C90349BE"),n.MediaObjectIndexObject=new n("FEB103F8-12AD-4C64-840F-2A1D2F7AD48C"),n.TimecodeIndexObject=new n("3CB73FD0-0C4A-4803-953D-EDF7B6228F0C"),n.FilePropertiesObject=new n("8CABDCA1-A947-11CF-8EE4-00C00C205365"),n.StreamPropertiesObject=new n("B7DC0791-A9B7-11CF-8EE6-00C00C205365"),n.HeaderExtensionObject=new n("5FBF03B5-A92E-11CF-8EE3-00C00C205365"),n.CodecListObject=new n("86D15240-311D-11D0-A3A4-00A0C90348F6"),n.ScriptCommandObject=new n("1EFB1A30-0B62-11D0-A39B-00A0C90348F6"),n.MarkerObject=new n("F487CD01-A951-11CF-8EE6-00C00C205365"),n.BitrateMutualExclusionObject=new n("D6E229DC-35DA-11D1-9034-00A0C90349BE"),n.ErrorCorrectionObject=new n("75B22635-668E-11CF-A6D9-00AA0062CE6C"),n.ContentDescriptionObject=new n("75B22633-668E-11CF-A6D9-00AA0062CE6C"),n.ExtendedContentDescriptionObject=new n("D2D0A440-E307-11D2-97F0-00A0C95EA850"),n.ContentBrandingObject=new n("2211B3FA-BD23-11D2-B4B7-00A0C955FC6E"),n.StreamBitratePropertiesObject=new n("7BF875CE-468D-11D1-8D82-006097C9A2B2"),n.ContentEncryptionObject=new n("2211B3FB-BD23-11D2-B4B7-00A0C955FC6E"),n.ExtendedContentEncryptionObject=new n("298AE614-2622-4C17-B935-DAE07EE9289C"),n.DigitalSignatureObject=new n("2211B3FC-BD23-11D2-B4B7-00A0C955FC6E"),n.PaddingObject=new n("1806D474-CADF-4509-A4BA-9AABCB96AAE8"),n.ExtendedStreamPropertiesObject=new n("14E6A5CB-C672-4332-8399-A96952065B5A"),n.AdvancedMutualExclusionObject=new n("A08649CF-4775-4670-8A16-6E35357566CD"),n.GroupMutualExclusionObject=new n("D1465A40-5A79-4338-B71B-E36B8FD6C249"),n.StreamPrioritizationObject=new n("D4FED15B-88D3-454F-81F0-ED5C45999E24"),n.BandwidthSharingObject=new n("A69609E6-517B-11D2-B6AF-00C04FD908E9"),n.LanguageListObject=new n("7C4346A9-EFE0-4BFC-B229-393EDE415C85"),n.MetadataObject=new n("C5F8CBEA-5BAF-4877-8467-AA8C44FA4CCA"),n.MetadataLibraryObject=new n("44231C94-9498-49D1-A141-1D134E457054"),n.IndexParametersObject=new n("D6E229DF-35DA-11D1-9034-00A0C90349BE"),n.MediaObjectIndexParametersObject=new n("6B203BAD-3F11-48E4-ACA8-D7613DE2CFA7"),n.TimecodeIndexParametersObject=new n("F55E496D-9797-4B5D-8C8B-604DFE9BFB24"),n.CompatibilityObject=new n("26F18B5D-4584-47EC-9F5F-0E651F0452C9"),n.AdvancedContentEncryptionObject=new n("43058533-6981-49E6-9B74-AD12CB86D58C"),n.AudioMedia=new n("F8699E40-5B4D-11CF-A8FD-00805F5C442B"),n.VideoMedia=new n("BC19EFC0-5B4D-11CF-A8FD-00805F5C442B"),n.CommandMedia=new n("59DACFC0-59E6-11D0-A3AC-00A0C90348F6"),n.JFIF_Media=new n("B61BE100-5B4E-11CF-A8FD-00805F5C442B"),n.Degradable_JPEG_Media=new n("35907DE0-E415-11CF-A917-00805F5C442B"),n.FileTransferMedia=new n("91BD222C-F21C-497A-8B6D-5AA86BFC0185"),n.BinaryMedia=new n("3AFB65E2-47EF-40F2-AC2C-70A90D71D343"),n.ASF_Index_Placeholder_Object=new n("D9AADE20-7C17-4F9C-BC28-8555DD98E2A2")},2181:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BasicParser=void 0,t.BasicParser=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"init",value:function(e,t,n){return this.metadata=e,this.tokenizer=t,this.options=n,this}}]),e}()},5729:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CaseInsensitiveTagMap=void 0;var r=n(8893);t.CaseInsensitiveTagMap=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){_classCallCheck(this,n);for(var a={},i=0,o=Object.keys(r);i<o.length;i++){var s=o[i];a[s.toUpperCase()]=r[s]}return t.call(this,e,a)}return _createClass(n,[{key:"getCommonName",value:function(e){return this.tagMap[e.toUpperCase()]}}]),n}(r.CommonTagMapper)},7965:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CombinedTagMapper=void 0;var r=n(9378),a=n(473),i=n(2837),o=n(504),s=n(4581),u=n(823),c=n(4875),l=n(1023),f=n(6253);t.CombinedTagMapper=function(){function e(){var t=this;_classCallCheck(this,e),this.tagMappers={},[new r.ID3v1TagMapper,new o.ID3v22TagMapper,new a.ID3v24TagMapper,new u.MP4TagMapper,new u.MP4TagMapper,new c.VorbisTagMapper,new s.APEv2TagMapper,new i.AsfTagMapper,new l.RiffInfoTagMapper,new f.MatroskaTagMapper].forEach(function(e){t.registerTagMapper(e)})}return _createClass(e,[{key:"mapTag",value:function(e,t,n){if(this.tagMappers[e])return this.tagMappers[e].mapGenericTag(t,n);throw new Error("No generic tag mapper defined for tag-format: "+e)}},{key:"registerTagMapper",value:function(e){var t,n=_createForOfIteratorHelper(e.tagTypes);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.tagMappers[r]=e}}catch(a){n.e(a)}finally{n.f()}}}]),e}()},9548:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FourCcToken=void 0;var r=n(4446),a=/^[\x21-\x7e\xa9][\x20-\x7e\x00()]{3}/;t.FourCcToken={len:4,get:function(e,n){var i=e.toString("binary",n,n+t.FourCcToken.len);if(!i.match(a))throw new Error("FourCC contains invalid characters: ".concat(r.default.a2hex(i),' "').concat(i,'"'));return i},put:function(e,t,n){var r=Buffer.from(n,"binary");if(4!==r.length)throw new Error("Invalid length");return r.copy(e,t)}}},8893:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommonTagMapper=void 0;var n=function(){function e(t,n){_classCallCheck(this,e),this.tagTypes=t,this.tagMap=n}return _createClass(e,[{key:"mapGenericTag",value:function(e,t){this.postMap(e={id:e.id,value:e.value},t);var n=this.getCommonName(e.id);return n?{id:n,value:e.value}:null}},{key:"getCommonName",value:function(e){return this.tagMap[e]}},{key:"postMap",value:function(e,t){}}],[{key:"toIntOrNull",value:function(e){var t=parseInt(e,10);return isNaN(t)?null:t}},{key:"normalizeTrack",value:function(e){var t=e.toString().split("/");return{no:parseInt(t[0],10)||null,of:parseInt(t[1],10)||null}}}]),e}();t.CommonTagMapper=n,n.maxRatingScore=1},199:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isUnique=t.isSingleton=t.commonTags=void 0,t.commonTags={year:{multiple:!1},track:{multiple:!1},disk:{multiple:!1},title:{multiple:!1},artist:{multiple:!1},artists:{multiple:!0,unique:!0},albumartist:{multiple:!1},album:{multiple:!1},date:{multiple:!1},originaldate:{multiple:!1},originalyear:{multiple:!1},comment:{multiple:!0,unique:!1},genre:{multiple:!0,unique:!0},picture:{multiple:!0,unique:!0},composer:{multiple:!0,unique:!0},lyrics:{multiple:!0,unique:!1},albumsort:{multiple:!1,unique:!0},titlesort:{multiple:!1,unique:!0},work:{multiple:!1,unique:!0},artistsort:{multiple:!1,unique:!0},albumartistsort:{multiple:!1,unique:!0},composersort:{multiple:!1,unique:!0},lyricist:{multiple:!0,unique:!0},writer:{multiple:!0,unique:!0},conductor:{multiple:!0,unique:!0},remixer:{multiple:!0,unique:!0},arranger:{multiple:!0,unique:!0},engineer:{multiple:!0,unique:!0},producer:{multiple:!0,unique:!0},technician:{multiple:!0,unique:!0},djmixer:{multiple:!0,unique:!0},mixer:{multiple:!0,unique:!0},label:{multiple:!0,unique:!0},grouping:{multiple:!1},subtitle:{multiple:!0},discsubtitle:{multiple:!1},totaltracks:{multiple:!1},totaldiscs:{multiple:!1},compilation:{multiple:!1},rating:{multiple:!0},bpm:{multiple:!1},mood:{multiple:!1},media:{multiple:!1},catalognumber:{multiple:!0,unique:!0},tvShow:{multiple:!1},tvShowSort:{multiple:!1},tvSeason:{multiple:!1},tvEpisode:{multiple:!1},tvEpisodeId:{multiple:!1},tvNetwork:{multiple:!1},podcast:{multiple:!1},podcasturl:{multiple:!1},releasestatus:{multiple:!1},releasetype:{multiple:!0},releasecountry:{multiple:!1},script:{multiple:!1},language:{multiple:!1},copyright:{multiple:!1},license:{multiple:!1},encodedby:{multiple:!1},encodersettings:{multiple:!1},gapless:{multiple:!1},barcode:{multiple:!1},isrc:{multiple:!0},asin:{multiple:!1},musicbrainz_recordingid:{multiple:!1},musicbrainz_trackid:{multiple:!1},musicbrainz_albumid:{multiple:!1},musicbrainz_artistid:{multiple:!0},musicbrainz_albumartistid:{multiple:!0},musicbrainz_releasegroupid:{multiple:!1},musicbrainz_workid:{multiple:!1},musicbrainz_trmid:{multiple:!1},musicbrainz_discid:{multiple:!1},acoustid_id:{multiple:!1},acoustid_fingerprint:{multiple:!1},musicip_puid:{multiple:!1},musicip_fingerprint:{multiple:!1},website:{multiple:!1},"performer:instrument":{multiple:!0,unique:!0},averageLevel:{multiple:!1},peakLevel:{multiple:!1},notes:{multiple:!0,unique:!1},key:{multiple:!1},originalalbum:{multiple:!1},originalartist:{multiple:!1},discogs_artist_id:{multiple:!0,unique:!0},discogs_release_id:{multiple:!1},discogs_label_id:{multiple:!1},discogs_master_release_id:{multiple:!1},discogs_votes:{multiple:!1},discogs_rating:{multiple:!1},replaygain_track_peak:{multiple:!1},replaygain_track_gain:{multiple:!1},replaygain_album_peak:{multiple:!1},replaygain_album_gain:{multiple:!1},replaygain_track_minmax:{multiple:!1},replaygain_album_minmax:{multiple:!1},replaygain_undo:{multiple:!1},description:{multiple:!0},longDescription:{multiple:!1},category:{multiple:!0},hdVideo:{multiple:!1},keywords:{multiple:!0},movement:{multiple:!1},movementIndex:{multiple:!1},movementTotal:{multiple:!1},podcastId:{multiple:!1},showMovement:{multiple:!1},stik:{multiple:!1}},t.isSingleton=function(e){return t.commonTags.hasOwnProperty(e)&&!t.commonTags[e].multiple},t.isUnique=function(e){return!t.commonTags[e].multiple||t.commonTags[e].unique}},4410:function(e,t,n){"use strict";var r=n(1052).default;Object.defineProperty(t,"__esModule",{value:!0}),t.joinArtists=t.MetadataCollector=void 0;var a=n(8810),i=n(7807),o=n(199),s=n(7965),u=n(8893),c=n(4446),l=n(2878),f=i("music-metadata:collector"),h=["matroska","APEv2","vorbis","ID3v2.4","ID3v2.3","ID3v2.2","exif","asf","iTunes","ID3v1"];function d(e){return e.length>2?e.slice(0,e.length-1).join(", ")+" & "+e[e.length-1]:e.join(" & ")}t.MetadataCollector=function(){function e(t){_classCallCheck(this,e),this.opts=t,this.format={tagTypes:[],trackInfo:[]},this.native={},this.common={track:{no:null,of:null},disk:{no:null,of:null},movementIndex:{}},this.quality={warnings:[]},this.commonOrigin={},this.originPriority={},this.tagMapper=new s.CombinedTagMapper;var n,r=1,a=_createForOfIteratorHelper(h);try{for(a.s();!(n=a.n()).done;){var i=n.value;this.originPriority[i]=r++}}catch(o){a.e(o)}finally{a.f()}this.originPriority.artificial=500,this.originPriority.id3v1=600}return _createClass(e,[{key:"hasAny",value:function(){return Object.keys(this.native).length>0}},{key:"addStreamInfo",value:function(e){f("streamInfo: type=".concat(a.TrackType[e.type],", codec=").concat(e.codecName)),this.format.trackInfo.push(e)}},{key:"setFormat",value:function(e,t){f("format: ".concat(e," = ").concat(t)),this.format[e]=t,this.opts.observer&&this.opts.observer({metadata:this,tag:{type:"format",id:e,value:t}})}},{key:"addTag",value:function(e,t,n){f("tag ".concat(e,".").concat(t," = ").concat(n)),this.native[e]||(this.format.tagTypes.push(e),this.native[e]=[]),this.native[e].push({id:t,value:n}),this.toCommon(e,t,n)}},{key:"addWarning",value:function(e){this.quality.warnings.push({message:e})}},{key:"postMap",value:function(e,t){var n=this;switch(t.id){case"artist":if(this.commonOrigin.artist===this.originPriority[e])return this.postMap("artificial",{id:"artists",value:t.value});this.common.artists||this.setGenericTag("artificial",{id:"artists",value:t.value});break;case"artists":if(!(this.common.artist&&this.commonOrigin.artist!==this.originPriority.artificial||this.common.artists&&-1!==this.common.artists.indexOf(t.value))){var r=d((this.common.artists||[]).concat([t.value]));this.setGenericTag("artificial",{id:"artist",value:r})}break;case"picture":return void this.postFixPicture(t.value).then(function(r){null!==r&&(t.value=r,n.setGenericTag(e,t))});case"totaltracks":return void(this.common.track.of=u.CommonTagMapper.toIntOrNull(t.value));case"totaldiscs":return void(this.common.disk.of=u.CommonTagMapper.toIntOrNull(t.value));case"movementTotal":return void(this.common.movementIndex.of=u.CommonTagMapper.toIntOrNull(t.value));case"track":case"disk":case"movementIndex":var a=this.common[t.id].of;return this.common[t.id]=u.CommonTagMapper.normalizeTrack(t.value),void(this.common[t.id].of=null!=a?a:this.common[t.id].of);case"year":case"originalyear":t.value=parseInt(t.value,10);break;case"date":var i=parseInt(t.value.substr(0,4),10);isNaN(i)||(this.common.year=i);break;case"discogs_label_id":case"discogs_release_id":case"discogs_master_release_id":case"discogs_artist_id":case"discogs_votes":t.value="string"==typeof t.value?parseInt(t.value,10):t.value;break;case"replaygain_track_gain":case"replaygain_track_peak":case"replaygain_album_gain":case"replaygain_album_peak":t.value=c.toRatio(t.value);break;case"replaygain_track_minmax":t.value=t.value.split(",").map(function(e){return parseInt(e,10)});break;case"replaygain_undo":var o=t.value.split(",").map(function(e){return parseInt(e,10)});t.value={leftChannel:o[0],rightChannel:o[1]};break;case"gapless":case"compilation":case"podcast":case"showMovement":t.value="1"===t.value||1===t.value;break;case"isrc":if(this.common[t.id]&&-1!==this.common[t.id].indexOf(t.value))return}null!==t.value&&this.setGenericTag(e,t)}},{key:"toCommonMetadata",value:function(){return{format:this.format,native:this.native,quality:this.quality,common:this.common}}},{key:"postFixPicture",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(e.data&&e.data.length>0)){n.next=10;break}if(e.format){n.next=8;break}return n.next=4,l.fromBuffer(e.data);case 4:if(r=n.sent){n.next=7;break}return n.abrupt("return",null);case 7:e.format=r.mime;case 8:switch(e.format=e.format.toLocaleLowerCase(),e.format){case"image/jpg":e.format="image/jpeg"}return n.abrupt("return",e);case 10:return n.abrupt("return",(t.addWarning("Empty picture tag found"),null));case 11:case"end":return n.stop()}},n)}))()}},{key:"toCommon",value:function(e,t,n){var r=this.tagMapper.mapTag(e,{id:t,value:n},this);r&&this.postMap(e,r)}},{key:"setGenericTag",value:function(e,t){f("common.".concat(t.id," = ").concat(t.value));var n=this.commonOrigin[t.id]||1e3,r=this.originPriority[e];if(o.isSingleton(t.id)){if(!(r<=n))return f("Ignore native tag (singleton): ".concat(e,".").concat(t.id," = ").concat(t.value));this.common[t.id]=t.value,this.commonOrigin[t.id]=r}else if(r===n)o.isUnique(t.id)&&-1!==this.common[t.id].indexOf(t.value)?f("Ignore duplicate value: ".concat(e,".").concat(t.id," = ").concat(t.value)):this.common[t.id].push(t.value);else{if(!(r<n))return f("Ignore native tag (list): ".concat(e,".").concat(t.id," = ").concat(t.value));this.common[t.id]=[t.value],this.commonOrigin[t.id]=r}this.opts.observer&&this.opts.observer({metadata:this,tag:{type:"common",id:t.id,value:t.value}})}}]),e}(),t.joinArtists=d},7251:function(e,t,n){"use strict";var r=n(1052).default;Object.defineProperty(t,"__esModule",{value:!0}),t.RandomBufferReader=void 0,t.RandomBufferReader=function(){function e(t){_classCallCheck(this,e),this.buf=t,this.fileSize=t.length}return _createClass(e,[{key:"randomRead",value:function(e,t,n,a){var i=this;return r(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",i.buf.copy(e,t,a,a+n));case 1:case"end":return r.stop()}},r)}))()}}]),e}()},4446:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toRatio=t.dbToRatio=t.ratioToDb=void 0;var r=n(7305),a=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"findZero",value:function(e,t,n,r){var a=t;if("utf16"===r){for(;0!==e[a]||0!==e[a+1];){if(a>=n)return n;a+=2}return a}for(;0!==e[a];){if(a>=n)return n;a++}return a}},{key:"trimRightNull",value:function(e){var t=e.indexOf("\0");return-1===t?e:e.substr(0,t)}},{key:"swapBytes",value:function(e){var t=e.length;if(0!=(1&t))throw new Error("Buffer length must be even");for(var n=0;n<t;n+=2){var r=e[n];e[n]=e[n+1],e[n+1]=r}return e}},{key:"readUTF16String",value:function(t){var n=0;return 254===t[0]&&255===t[1]?(t=e.swapBytes(t),n=2):255===t[0]&&254===t[1]&&(n=2),t.toString("ucs2",n)}},{key:"decodeString",value:function(t,n){if(255===t[0]&&254===t[1]&&254===t[2]&&255===t[3]&&(t=t.slice(2)),"utf16le"===n||"utf16"===n)return e.readUTF16String(t);if("utf8"===n)return t.toString("utf8");if("iso-8859-1"===n)return r.Windows1292Decoder.decode(t);throw Error(n+" encoding is not supported!")}},{key:"stripNulls",value:function(e){return(e=e.replace(/^\x00+/g,"")).replace(/\x00+$/g,"")}},{key:"getBitAllignedNumber",value:function(t,n,r,a){var i=r%8,o=t[n+~~(r/8)];o&=255>>i;var s=8-i,u=a-s;return u<0?o>>=8-i-a:u>0&&(o<<=u,o|=e.getBitAllignedNumber(t,n,r+s,u)),o}},{key:"isBitSet",value:function(t,n,r){return 1===e.getBitAllignedNumber(t,n,r,1)}},{key:"a2hex",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var a=Number(e.charCodeAt(n)).toString(16);t.push(1===a.length?"0"+a:a)}return t.join(" ")}}]),e}();function i(e){return 10*Math.log10(e)}function o(e){return Math.pow(10,e/10)}t.default=a,a.strtokBITSET={get:function(e,t,n){return 0!=(e[t]&1<<n)},len:1},t.ratioToDb=i,t.dbToRatio=o,t.toRatio=function(e){var t=e.split(" ").map(function(e){return e.trim().toLowerCase()});if(t.length>=1){var n=parseFloat(t[0]);return 2===t.length&&"db"===t[1]?{dB:n,ratio:o(n)}:{dB:i(n),ratio:n}}}},7305:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Windows1292Decoder=void 0;var n=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"decode",value:function(t){var n="";for(var r in t)t.hasOwnProperty(r)&&(n+=e.codePointToString(e.singleByteDecoder(t[r])));return n}},{key:"inRange",value:function(e,t,n){return t<=e&&e<=n}},{key:"codePointToString",value:function(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}},{key:"singleByteDecoder",value:function(t){if(e.inRange(t,0,127))return t;var n=e.windows1252[t-128];if(null===n)throw Error("invaliding encoding");return n}}]),e}();t.Windows1292Decoder=n,n.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]},4670:function(e,t,n){"use strict";var r=n(1052).default;Object.defineProperty(t,"__esModule",{value:!0}),t.scanAppendingHeaders=t.selectCover=t.ratingToStars=t.orderTags=t.parseFromTokenizer=t.parseBuffer=t.parseStream=void 0;var a=n(4074),i=n(7253),o=n(7251),s=n(2230),u=n(7160),c=n(3278);function l(){return(l=r(regeneratorRuntime.mark(function e(t,n){var r,i,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]?s[2]:{},i=new o.RandomBufferReader(t),e.next=4,h(i,r);case 4:return e.abrupt("return",f(a.fromBuffer(t,"string"==typeof n?{mimeType:n}:n),r));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function f(e,t){return i.ParserFactory.parseOnContentType(e,t)}function h(e){return d.apply(this,arguments)}function d(){return(d=r(regeneratorRuntime.mark(function e(t){var n,r,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},r=t.fileSize,e.next=4,u.hasID3v1Header(t);case 4:if(e.t0=e.sent,!e.t0){e.next=11;break}return r-=128,e.t1=r,e.next=10,c.getLyricsHeaderLength(t);case 10:r=e.t1-=e.sent;case 11:return e.next=13,s.APEv2Parser.findApeFooterOffset(t,r);case 13:n.apeHeader=e.sent;case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}t.parseStream=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return f(a.fromStream(e,"string"==typeof t?{mimeType:t}:t),n)},t.parseBuffer=function(e,t){return l.apply(this,arguments)},t.parseFromTokenizer=f,t.orderTags=function(e){var t,n={},r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;(n[a.id]=n[a.id]||[]).push(a.value)}}catch(i){r.e(i)}finally{r.f()}return n},t.ratingToStars=function(e){return void 0===e?0:1+Math.round(4*e)},t.selectCover=function(e){return e?e.reduce(function(e,t){return t.name&&t.name.toLowerCase()in["front","cover","cover (front)"]?t:e}):null},t.scanAppendingHeaders=h},6673:function(e,t,n){"use strict";var r=n(1052).default;Object.defineProperty(t,"__esModule",{value:!0}),t.DsdiffParser=void 0;var a=n(5148),i=n(7807),o=n(9548),s=n(2181),u=n(1240),c=n(4074),l=n(4947),f=i("music-metadata:parser:aiff");t.DsdiffParser=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"parse",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.tokenizer.readToken(u.ChunkHeader);case 2:if("FRM8"===(n=t.sent).chunkID){t.next=5;break}throw new Error("Unexpected chunk-ID");case 5:return t.next=7,e.tokenizer.readToken(o.FourCcToken);case 7:r=t.sent.trim(),t.t0=r,t.next="DSD"===t.t0?11:12;break;case 11:return t.abrupt("return",(e.metadata.setFormat("container","DSDIFF/".concat(r)),e.metadata.setFormat("lossless",!0),e.readFmt8Chunks(n.chunkSize-o.FourCcToken.len)));case 12:throw Error("Unsupported DSDIFF type: ".concat(r));case 13:case"end":return t.stop()}},t)}))()}},{key:"readFmt8Chunks",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(e>=u.ChunkHeader.len)){n.next=10;break}return n.next=3,t.tokenizer.readToken(u.ChunkHeader);case 3:return r=n.sent,f("Chunk id=".concat(r.chunkID)),n.next=7,t.readData(r);case 7:e-=u.ChunkHeader.len+r.chunkSize;case 8:n.next=0;break;case 10:case"end":return n.stop()}},n)}))()}},{key:"readData",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,i,s,u,h;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:f("Reading data of chunk[ID=".concat(e.chunkID,", size=").concat(e.chunkSize,"]")),r=t.tokenizer.position,n.t0=e.chunkID.trim(),n.next="FVER"===n.t0?5:"PROP"===n.t0?10:"ID3"===n.t0?18:"DSD"===n.t0?27:25;break;case 5:return n.next=7,t.tokenizer.readToken(a.UINT32_LE);case 7:return i=n.sent,f("DSDIFF version=".concat(i)),n.abrupt("break",28);case 10:return n.next=12,t.tokenizer.readToken(o.FourCcToken);case 12:if(n.t1=n.sent,"SND "===n.t1){n.next=15;break}throw new Error("Unexpected PROP-chunk ID");case 15:return n.next=17,t.handleSoundPropertyChunks(e.chunkSize-o.FourCcToken.len);case 17:return n.abrupt("break",28);case 18:return n.next=20,t.tokenizer.readToken(new a.BufferType(e.chunkSize));case 20:return s=n.sent,u=c.fromBuffer(s),n.next=24,(new l.ID3v2Parser).parse(t.metadata,u,t.options);case 24:return n.abrupt("break",28);case 25:return f("Ignore chunk[ID=".concat(e.chunkID,", size=").concat(e.chunkSize,"]")),n.abrupt("break",28);case 27:t.metadata.setFormat("numberOfSamples",8*e.chunkSize/t.metadata.format.numberOfChannels),t.metadata.setFormat("duration",t.metadata.format.numberOfSamples/t.metadata.format.sampleRate);case 28:if(h=e.chunkSize-(t.tokenizer.position-r),n.t2=h>0,!n.t2){n.next=34;break}return f("After Parsing chunk, remaining ".concat(h," bytes")),n.next=34,t.tokenizer.ignore(h);case 34:case"end":return n.stop()}},n)}))()}},{key:"handleSoundPropertyChunks",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,i,s,c,l,h,d,p,m,v,g,y,b;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:f("Parsing sound-property-chunks, remainingSize=".concat(e));case 1:if(!(e>0)){n.next=64;break}return n.next=4,t.tokenizer.readToken(u.ChunkHeader);case 4:r=n.sent,f("Sound-property-chunk[ID=".concat(r.chunkID,", size=").concat(r.chunkSize,"]")),i=t.tokenizer.position,n.t0=r.chunkID.trim(),n.next="FS"===n.t0?10:"CHNL"===n.t0?15:"CMPR"===n.t0?22:"ABSS"===n.t0?33:"LSCO"===n.t0?47:(n.t0,52);break;case 10:return n.next=12,t.tokenizer.readToken(a.UINT32_BE);case 12:return s=n.sent,t.metadata.setFormat("sampleRate",s),n.abrupt("break",55);case 15:return n.next=17,t.tokenizer.readToken(a.UINT16_BE);case 17:return c=n.sent,t.metadata.setFormat("numberOfChannels",c),n.next=21,t.handleChannelChunks(r.chunkSize-a.UINT16_BE.len);case 21:return n.abrupt("break",55);case 22:return n.next=24,t.tokenizer.readToken(o.FourCcToken);case 24:return l=n.sent.trim(),n.next=27,t.tokenizer.readToken(a.UINT8);case 27:return h=n.sent,n.next=30,t.tokenizer.readToken(new a.StringType(h,"ascii"));case 30:return d=n.sent,"DSD"===l&&(t.metadata.setFormat("lossless",!0),t.metadata.setFormat("bitsPerSample",1)),t.metadata.setFormat("codec","".concat(l," (").concat(d,")")),n.abrupt("break",55);case 33:return n.next=35,t.tokenizer.readToken(a.UINT16_BE);case 35:return p=n.sent,n.next=38,t.tokenizer.readToken(a.UINT8);case 38:return m=n.sent,n.next=41,t.tokenizer.readToken(a.UINT8);case 41:return v=n.sent,n.next=44,t.tokenizer.readToken(a.UINT32_BE);case 44:return g=n.sent,f("ABSS ".concat(p,":").concat(m,":").concat(v,".").concat(g)),n.abrupt("break",55);case 47:return n.next=49,t.tokenizer.readToken(a.UINT16_BE);case 49:return y=n.sent,f("LSCO lsConfig=".concat(y)),n.abrupt("break",55);case 52:return f("Unknown sound-property-chunk[ID=".concat(r.chunkID,", size=").concat(r.chunkSize,"]")),n.next=55,t.tokenizer.ignore(r.chunkSize);case 55:if(b=r.chunkSize-(t.tokenizer.position-i),n.t1=b>0,!n.t1){n.next=61;break}return f("After Parsing sound-property-chunk ".concat(r.chunkSize,", remaining ").concat(b," bytes")),n.next=61,t.tokenizer.ignore(b);case 61:f("Parsing sound-property-chunks, remainingSize="+(e-=u.ChunkHeader.len+r.chunkSize));case 62:n.next=1;break;case 64:t.metadata.format.lossless&&t.metadata.format.sampleRate&&t.metadata.format.numberOfChannels&&t.metadata.format.bitsPerSample&&t.metadata.setFormat("bitrate",t.metadata.format.sampleRate*t.metadata.format.numberOfChannels*t.metadata.format.bitsPerSample);case 65:case"end":return n.stop()}},n)}))()}},{key:"handleChannelChunks",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:f("Parsing channel-chunks, remainingSize=".concat(e)),r=[];case 2:if(!(e>=o.FourCcToken.len)){n.next=9;break}return n.next=5,t.tokenizer.readToken(o.FourCcToken);case 5:a=n.sent,f("Channel[ID=".concat(a,"]")),r.push(a),e-=o.FourCcToken.len;case 7:n.next=2;break;case 9:return n.abrupt("return",(f("Channels: ".concat(r.join(", "))),r));case 10:case"end":return n.stop()}},n)}))()}}]),n}(s.BasicParser)},1240:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChunkHeader=void 0;var r=n(5148),a=n(9548);t.ChunkHeader={len:12,get:function(e,t){return{chunkID:a.FourCcToken.get(e,t),chunkSize:r.INT64_BE.get(e,t+4)}}}},8994:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FormatChunk=t.ChannelType=t.DsdChunk=t.ChunkHeader=void 0;var r,a=n(5148),i=n(9548);t.ChunkHeader={len:12,get:function(e,t){return{id:i.FourCcToken.get(e,t),size:a.UINT64_LE.get(e,t+4)}}},t.DsdChunk={len:16,get:function(e,t){return{fileSize:a.INT64_LE.get(e,t),metadataPointer:a.INT64_LE.get(e,t+8)}}},(r=t.ChannelType||(t.ChannelType={}))[r.mono=1]="mono",r[r.stereo=2]="stereo",r[r.channels=3]="channels",r[r.quad=4]="quad",r[r["4 channels"]=5]="4 channels",r[r["5 channels"]=6]="5 channels",r[r["5.1 channels"]=7]="5.1 channels",t.FormatChunk={len:40,get:function(e,t){return{formatVersion:a.INT32_LE.get(e,t),formatID:a.INT32_LE.get(e,t+4),channelType:a.INT32_LE.get(e,t+8),channelNum:a.INT32_LE.get(e,t+12),samplingFrequency:a.INT32_LE.get(e,t+16),bitsPerSample:a.INT32_LE.get(e,t+20),sampleCount:a.INT64_LE.get(e,t+24),blockSizePerChannel:a.INT32_LE.get(e,t+32)}}}},7372:function(e,t,n){"use strict";var r=n(1052).default;Object.defineProperty(t,"__esModule",{value:!0}),t.DsfParser=void 0;var a=n(9655),i=n(7807),o=n(8994),s=n(4947),u=i("music-metadata:parser:DSF");t.DsfParser=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_parse",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n,r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.tokenizer.position,t.next=3,e.tokenizer.readToken(o.ChunkHeader);case 3:if("DSD "===(r=t.sent).id){t.next=6;break}throw new Error("Invalid chunk signature");case 6:return e.metadata.setFormat("container","DSF"),e.metadata.setFormat("lossless",!0),t.next=9,e.tokenizer.readToken(o.DsdChunk);case 9:if(0===(a=t.sent).metadataPointer){t.next=17;break}return u("expect ID3v2 at offset=".concat(a.metadataPointer)),t.next=14,e.parseChunks(a.fileSize-r.size);case 14:return t.next=16,e.tokenizer.ignore(a.metadataPointer-e.tokenizer.position-n);case 16:return t.abrupt("return",(new s.ID3v2Parser).parse(e.metadata,e.tokenizer,e.options));case 17:u("No ID3v2 tag present");case 18:case"end":return t.stop()}},t)}))()}},{key:"parseChunks",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(e>=o.ChunkHeader.len)){n.next=15;break}return n.next=3,t.tokenizer.readToken(o.ChunkHeader);case 3:r=n.sent,n.t0=(u("Parsing chunk name=".concat(r.id," size=").concat(r.size)),r.id),n.next="fmt "===n.t0?7:11;break;case 7:return n.next=9,t.tokenizer.readToken(o.FormatChunk);case 9:return a=n.sent,n.abrupt("return",(t.metadata.setFormat("numberOfChannels",a.channelNum),t.metadata.setFormat("sampleRate",a.samplingFrequency),t.metadata.setFormat("bitsPerSample",a.bitsPerSample),t.metadata.setFormat("numberOfSamples",a.sampleCount),t.metadata.setFormat("duration",a.sampleCount/a.samplingFrequency),void t.metadata.setFormat("bitrate",a.bitsPerSample*a.samplingFrequency*a.channelNum)));case 11:t.tokenizer.ignore(r.size-o.ChunkHeader.len);case 12:e-=r.size;case 13:n.next=0;break;case 15:case"end":return n.stop()}},n)}))()}}]),n}(a.AbstractID3Parser)},8416:function(e,t,n){"use strict";var r=n(1052).default;Object.defineProperty(t,"__esModule",{value:!0}),t.FlacParser=void 0;var a,i=n(4446),o=n(5148),s=n(63),u=n(9655),c=n(9548),l=n(7807),f=n(9321),h=n(4862),d=l("music-metadata:parser:FLAC");!function(e){e[e.STREAMINFO=0]="STREAMINFO",e[e.PADDING=1]="PADDING",e[e.APPLICATION=2]="APPLICATION",e[e.SEEKTABLE=3]="SEEKTABLE",e[e.VORBIS_COMMENT=4]="VORBIS_COMMENT",e[e.CUESHEET=5]="CUESHEET",e[e.PICTURE=6]="PICTURE"}(a||(a={})),t.FlacParser=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments)).padding=0,e}return _createClass(n,[{key:"init",value:function(e,t,r){return _get(_getPrototypeOf(n.prototype),"init",this).call(this,e,t,r),this.vorbisParser=new f.VorbisParser(e,r),this}},{key:"_parse",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.tokenizer.readToken(c.FourCcToken);case 2:if(t.t0=t.sent.toString(),"fLaC"===t.t0){t.next=5;break}throw new Error("Invalid FLAC preamble");case 5:return t.next=7,e.tokenizer.readToken(p.BlockHeader);case 7:return n=t.sent,t.next=10,e.parseDataBlock(n);case 10:if(!n.lastBlock){t.next=5;break}case 11:e.tokenizer.fileInfo.size&&e.metadata.format.duration&&e.metadata.setFormat("bitrate",8*(e.tokenizer.fileInfo.size-e.tokenizer.position)/e.metadata.format.duration);case 12:case"end":return t.stop()}},t)}))()}},{key:"parseDataBlock",value:function(e){switch(d("blockHeader type=".concat(e.type,", length=").concat(e.length)),e.type){case a.STREAMINFO:return this.parseBlockStreamInfo(e.length);case a.PADDING:this.padding+=e.length;break;case a.APPLICATION:case a.SEEKTABLE:break;case a.VORBIS_COMMENT:return this.parseComment(e.length);case a.CUESHEET:break;case a.PICTURE:return this.parsePicture(e.length).then();default:this.metadata.addWarning("Unknown block type: "+e.type)}return this.tokenizer.ignore(e.length).then()}},{key:"parseBlockStreamInfo",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e===p.BlockStreamInfo.len){n.next=2;break}throw new Error("Unexpected block-stream-info length");case 2:return n.next=4,t.tokenizer.readToken(p.BlockStreamInfo);case 4:r=n.sent,t.metadata.setFormat("container","FLAC"),t.metadata.setFormat("codec","FLAC"),t.metadata.setFormat("lossless",!0),t.metadata.setFormat("numberOfChannels",r.channels),t.metadata.setFormat("bitsPerSample",r.bitsPerSample),t.metadata.setFormat("sampleRate",r.sampleRate),r.totalSamples>0&&t.metadata.setFormat("duration",r.totalSamples/r.sampleRate);case 6:case"end":return n.stop()}},n)}))()}},{key:"parseComment",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a,i,s,u;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.tokenizer.readToken(new o.BufferType(e));case 2:for(r=n.sent,(a=new h.VorbisDecoder(r,0)).readStringUtf8(),i=a.readInt32(),s=0;s<i;s++)u=a.parseUserComment(),t.vorbisParser.addTag(u.key,u.value);case 7:case"end":return n.stop()}},n)}))()}},{key:"parsePicture",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.options.skipCovers){n.next=2;break}return n.abrupt("return",t.tokenizer.ignore(e));case 2:return n.next=4,t.tokenizer.readToken(new s.VorbisPictureToken(e));case 4:r=n.sent,t.vorbisParser.addTag("METADATA_BLOCK_PICTURE",r);case 6:case"end":return n.stop()}},n)}))()}}]),n}(u.AbstractID3Parser);var p=function e(){_classCallCheck(this,e)};p.BlockHeader={len:4,get:function(e,t){return{lastBlock:i.default.strtokBITSET.get(e,t,7),type:i.default.getBitAllignedNumber(e,t,1,7),length:o.UINT24_BE.get(e,t+1)}}},p.BlockStreamInfo={len:34,get:function(e,t){return{minimumBlockSize:o.UINT16_BE.get(e,t),maximumBlockSize:o.UINT16_BE.get(e,t+2)/1e3,minimumFrameSize:o.UINT24_BE.get(e,t+4),maximumFrameSize:o.UINT24_BE.get(e,t+7),sampleRate:o.UINT24_BE.get(e,t+10)>>4,channels:i.default.getBitAllignedNumber(e,t+12,4,3)+1,bitsPerSample:i.default.getBitAllignedNumber(e,t+12,7,5)+1,totalSamples:i.default.getBitAllignedNumber(e,t+13,4,36),fileMD5:new o.BufferType(16).get(e,t+18)}}}},7160:function(e,t,n){"use strict";var r=n(1052).default;Object.defineProperty(t,"__esModule",{value:!0}),t.hasID3v1Header=t.ID3v1Parser=t.Genres=void 0;var a=n(7807),i=n(4446),o=n(5148),s=n(2181),u=n(2230),c=a("music-metadata:parser:ID3v1");t.Genres=["Blues","Classic Rock","Country","Dance","Disco","Funk","Grunge","Hip-Hop","Jazz","Metal","New Age","Oldies","Other","Pop","R&B","Rap","Reggae","Rock","Techno","Industrial","Alternative","Ska","Death Metal","Pranks","Soundtrack","Euro-Techno","Ambient","Trip-Hop","Vocal","Jazz+Funk","Fusion","Trance","Classical","Instrumental","Acid","House","Game","Sound Clip","Gospel","Noise","Alt. Rock","Bass","Soul","Punk","Space","Meditative","Instrumental Pop","Instrumental Rock","Ethnic","Gothic","Darkwave","Techno-Industrial","Electronic","Pop-Folk","Eurodance","Dream","Southern Rock","Comedy","Cult","Gangsta Rap","Top 40","Christian Rap","Pop/Funk","Jungle","Native American","Cabaret","New Wave","Psychedelic","Rave","Showtunes","Trailer","Lo-Fi","Tribal","Acid Punk","Acid Jazz","Polka","Retro","Musical","Rock & Roll","Hard Rock","Folk","Folk/Rock","National Folk","Swing","Fast-Fusion","Bebob","Latin","Revival","Celtic","Bluegrass","Avantgarde","Gothic Rock","Progressive Rock","Psychedelic Rock","Symphonic Rock","Slow Rock","Big Band","Chorus","Easy Listening","Acoustic","Humour","Speech","Chanson","Opera","Chamber Music","Sonata","Symphony","Booty Bass","Primus","Porn Groove","Satire","Slow Jam","Club","Tango","Samba","Folklore","Ballad","Power Ballad","Rhythmic Soul","Freestyle","Duet","Punk Rock","Drum Solo","A Cappella","Euro-House","Dance Hall","Goa","Drum & Bass","Club-House","Hardcore","Terror","Indie","BritPop","Negerpunk","Polsk Punk","Beat","Christian Gangsta Rap","Heavy Metal","Black Metal","Crossover","Contemporary Christian","Christian Rock","Merengue","Salsa","Thrash Metal","Anime","JPop","Synthpop","Abstract","Art Rock","Baroque","Bhangra","Big Beat","Breakbeat","Chillout","Downtempo","Dub","EBM","Eclectic","Electro","Electroclash","Emo","Experimental","Garage","Global","IDM","Illbient","Industro-Goth","Jam Band","Krautrock","Leftfield","Lounge","Math Rock","New Romantic","Nu-Breakz","Post-Punk","Post-Rock","Psytrance","Shoegaze","Space Rock","Trop Rock","World Music","Neoclassical","Audiobook","Audio Theatre","Neue Deutsche Welle","Podcast","Indie Rock","G-Funk","Dubstep","Garage Rock","Psybient"];var l={len:128,get:function(e,t){var n=new f(3).get(e,t);return"TAG"===n?{header:n,title:new f(30).get(e,t+3),artist:new f(30).get(e,t+33),album:new f(30).get(e,t+63),year:new f(4).get(e,t+93),comment:new f(28).get(e,t+97),zeroByte:o.UINT8.get(e,t+127),track:o.UINT8.get(e,t+126),genre:o.UINT8.get(e,t+127)}:null}},f=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,"binary")}return _createClass(n,[{key:"get",value:function(e,t){var r=_get(_getPrototypeOf(n.prototype),"get",this).call(this,e,t);return(r=(r=i.default.trimRightNull(r)).trim()).length>0?r:void 0}}]),n}(o.StringType),h=function(e){_inherits(a,e);var n=_createSuper(a);function a(){return _classCallCheck(this,a),n.apply(this,arguments)}return _createClass(a,[{key:"parse",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n,r,i,o,s,f,h;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.tokenizer.fileInfo.size){t.next=2;break}return t.abrupt("return",void c("Skip checking for ID3v1 because the file-size is unknown"));case 2:if(!e.options.apeHeader){t.next=8;break}return e.tokenizer.ignore(e.options.apeHeader.offset-e.tokenizer.position),(n=new u.APEv2Parser).init(e.metadata,e.tokenizer,e.options),t.next=8,n.parseTags(e.options.apeHeader.footer);case 8:if(r=e.tokenizer.fileInfo.size-l.len,!(e.tokenizer.position>r)){t.next=11;break}return t.abrupt("return",void c("Already consumed the last 128 bytes"));case 11:return t.next=13,e.tokenizer.readToken(l,r);case 13:if(i=t.sent){for(c("ID3v1 header found at: pos=%s",e.tokenizer.fileInfo.size-l.len),o=0,s=["title","artist","album","comment","track","year"];o<s.length;o++)i[f=s[o]]&&""!==i[f]&&e.addTag(f,i[f]);(h=a.getGenre(i.genre))&&e.addTag("genre",h)}else c("ID3v1 header not found at: pos=%s",e.tokenizer.fileInfo.size-l.len);case 15:case"end":return t.stop()}},t)}))()}},{key:"addTag",value:function(e,t){this.metadata.addTag("ID3v1",e,t)}}],[{key:"getGenre",value:function(e){if(e<t.Genres.length)return t.Genres[e]}}]),a}(s.BasicParser);function d(){return(d=r(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.fileSize>=128)){e.next=5;break}return n=Buffer.alloc(3),e.next=4,t.randomRead(n,0,n.length,t.fileSize-128);case 4:return e.abrupt("return","TAG"===n.toString("binary"));case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}t.ID3v1Parser=h,t.hasID3v1Header=function(e){return d.apply(this,arguments)}},9378:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ID3v1TagMapper=void 0;var r=n(8893),a={title:"title",artist:"artist",album:"album",year:"year",comment:"comment",track:"track",genre:"genre"};t.ID3v1TagMapper=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this,["ID3v1"],a)}return n}(r.CommonTagMapper)},9655:function(e,t,n){"use strict";var r=n(1052).default;Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractID3Parser=void 0;var a=n(4074),i=n(7899),o=n(4947),s=n(7160),u=n(7807),c=n(2181),l=u("music-metadata:parser:ID3");t.AbstractID3Parser=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments)).id3parser=new o.ID3v2Parser,e}return _createClass(n,[{key:"parse",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.parseID3v2();case 3:t.next=10;break;case 5:if(t.prev=5,t.t0=t.catch(0),t.t0 instanceof a.EndOfStreamError){t.next=9;break}throw t.t0;case 9:l("End-of-stream");case 10:case"end":return t.stop()}},t,null,[[0,5]])}))()}},{key:"finalize",value:function(){}},{key:"parseID3v2",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.tryReadId3v2Headers();case 2:return l("End of ID3v2 header, go to MPEG-parser: pos=%s",e.tokenizer.position),t.next=5,e._parse();case 5:if(!e.options.skipPostHeaders||!e.metadata.hasAny()){t.next=9;break}e.finalize(),t.next=13;break;case 9:return n=new s.ID3v1Parser,t.next=12,n.init(e.metadata,e.tokenizer,e.options).parse();case 12:e.finalize();case 13:case"end":return t.stop()}},t)}))()}},{key:"tryReadId3v2Headers",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.tokenizer.peekToken(i.ID3v2Header);case 2:if(t.t0=t.sent.fileIdentifier,"ID3"!==t.t0){t.next=8;break}return l("Found ID3v2 header, pos=%s",e.tokenizer.position),t.next=7,e.id3parser.parse(e.metadata,e.tokenizer,e.options);case 7:return t.abrupt("return",e.tryReadId3v2Headers());case 8:case"end":return t.stop()}},t)}))()}}],[{key:"startsWithID3v2Header",value:function(e){return r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.peekToken(i.ID3v2Header);case 2:return t.t0=t.sent.fileIdentifier,t.abrupt("return","ID3"===t.t0);case 4:case"end":return t.stop()}},t)}))()}}]),n}(c.BasicParser)},1999:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FrameParser=t.parseGenre=void 0;var r=n(7807),a=n(5148),i=n(4446),o=n(7899),s=n(7160),u=r("music-metadata:id3v2:frame-parser");function c(e){var t,n,r=[],a="",i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if("string"==typeof t)if("("===o&&""===t)a+="(",t=void 0;else if(")"===o){""!==a&&(r.push(a),a="");var u=l(t);u&&r.push(u),t=void 0}else t+=o;else"("===o?t="":a+=o}}catch(c){i.e(c)}finally{i.f()}return a&&(0===r.length&&a.match(/^\d*$/)&&(a=s.Genres[a]),r.push(a)),r}function l(e){return"RX"===e?"Remix":"CR"===e?"Cover":e.match(/^\d*$/)?s.Genres[e]:void 0}t.parseGenre=c;var f=function(){function e(t,n){_classCallCheck(this,e),this.major=t,this.warningCollector=n}return _createClass(e,[{key:"readData",value:function(t,n,r){if(0!==t.length){var s,l=o.TextEncodingToken.get(t,0),f=l.encoding,h=l.bom,d=t.length,p=0,m=[],v=e.getNullTerminatorLength(f),g={};switch(u("Parsing tag type=".concat(n,", encoding=").concat(f,", bom=").concat(h)),"TXXX"!==n&&"T"===n[0]?"T*":n){case"T*":case"IPLS":case"MVIN":case"MVNM":case"PCS":case"PCST":var y=i.default.decodeString(t.slice(1),f).replace(/\x00+$/,"");switch(n){case"TMCL":case"TIPL":case"IPLS":m=this.splitValue(n,y),m=e.functionList(m);break;case"TRK":case"TRCK":case"TPOS":m=y;break;case"TCOM":case"TEXT":case"TOLY":case"TOPE":case"TPE1":case"TSRC":m=this.splitValue(n,y);break;case"TCO":case"TCON":m=this.splitValue(n,y).map(function(e){return c(e)}).reduce(function(e,t){return e.concat(t)},[]);break;case"PCS":case"PCST":m=this.major>=4?this.splitValue(n,y):[y],m=Array.isArray(m)&&""===m[0]?1:0;break;default:m=this.major>=4?this.splitValue(n,y):[y]}break;case"TXXX":m={description:(m=e.readIdentifierAndData(t,p+1,d,f)).id,text:this.splitValue(n,i.default.decodeString(m.data,f).replace(/\x00+$/,""))};break;case"PIC":case"APIC":if(r){var b={};switch(p+=1,this.major){case 2:b.format=i.default.decodeString(t.slice(p,p+3),"iso-8859-1"),p+=3;break;case 3:case 4:s=i.default.findZero(t,p,d,"iso-8859-1"),b.format=i.default.decodeString(t.slice(p,s),"iso-8859-1"),p=s+1;break;default:throw new Error("Warning: unexpected major versionIndex: "+this.major)}b.format=e.fixPictureMimeType(b.format),b.type=o.AttachedPictureType[t[p]],p+=1,s=i.default.findZero(t,p,d,f),b.description=i.default.decodeString(t.slice(p,s),f),p=s+v,b.data=Buffer.from(t.slice(p,d)),m=b}break;case"CNT":case"PCNT":m=a.UINT32_BE.get(t,0);break;case"SYLT":for(p+=7,m=[];p<d;){var k=t.slice(p,p=i.default.findZero(t,p,d,f));p+=5,m.push(i.default.decodeString(k,f))}break;case"ULT":case"USLT":case"COM":case"COMM":p+=1,g.language=i.default.decodeString(t.slice(p,p+3),"iso-8859-1"),p+=3,s=i.default.findZero(t,p,d,f),g.description=i.default.decodeString(t.slice(p,s),f),p=s+v,g.text=i.default.decodeString(t.slice(p,d),f).replace(/\x00+$/,""),m=[g];break;case"UFID":m={owner_identifier:(m=e.readIdentifierAndData(t,p,d,"iso-8859-1")).id,identifier:m.data};break;case"PRIV":m={owner_identifier:(m=e.readIdentifierAndData(t,p,d,"iso-8859-1")).id,data:m.data};break;case"POPM":s=i.default.findZero(t,p,d,"iso-8859-1");var _=i.default.decodeString(t.slice(p,s),"iso-8859-1"),w=d-(p=s+1);m={email:_,rating:t.readUInt8(p),counter:w>=5?t.readUInt32BE(p+1):void 0};break;case"GEOB":s=i.default.findZero(t,p+1,d,f);var C=i.default.decodeString(t.slice(p+1,s),"iso-8859-1");p=s+1,s=i.default.findZero(t,p,d-p,f);var T=i.default.decodeString(t.slice(p,s),"iso-8859-1");p=s+1,s=i.default.findZero(t,p,d-p,f),m={type:C,filename:T,description:i.default.decodeString(t.slice(p,s),"iso-8859-1"),data:t.slice(p+1,d)};break;case"WCOM":case"WCOP":case"WOAF":case"WOAR":case"WOAS":case"WORS":case"WPAY":case"WPUB":m=i.default.decodeString(t.slice(p,s),"iso-8859-1");break;case"WXXX":s=i.default.findZero(t,p+1,d,f);var x=i.default.decodeString(t.slice(p+1,s),f);p=s+("utf16"===f?2:1),m={description:x,url:i.default.decodeString(t.slice(p,d),"iso-8859-1")};break;case"WFD":case"WFED":m=i.default.decodeString(t.slice(p+1,i.default.findZero(t,p+1,d,f)),f);break;case"MCDI":m=t.slice(0,d);break;default:u("Warning: unsupported id3v2-tag-type: "+n)}return m}this.warningCollector.addWarning("id3v2.".concat(this.major," header has empty tag type=").concat(n))}},{key:"splitValue",value:function(t,n){var r;return this.major<4?(r=n.split(/\x00/g)).length>1?this.warningCollector.addWarning("ID3v2.".concat(this.major," ").concat(t," uses non standard null-separator.")):r=n.split(/\//g):r=n.split(/\x00/g),e.trimArray(r)}}],[{key:"fixPictureMimeType",value:function(e){switch(e=e.toLocaleLowerCase()){case"jpg":return"image/jpeg";case"png":return"image/png"}return e}},{key:"functionList",value:function(e){for(var t={},n=0;n+1<e.length;n+=2){var r=e[n+1].split(",");t[e[n]]=t.hasOwnProperty(e[n])?t[e[n]].concat(r):r}return t}},{key:"trimArray",value:function(e){return e.map(function(e){return e.replace(/\x00+$/,"").trim()})}},{key:"readIdentifierAndData",value:function(t,n,r,a){var o=i.default.findZero(t,n,r,a),s=i.default.decodeString(t.slice(n,o),a);return n=o+e.getNullTerminatorLength(a),{id:s,data:t.slice(n,r)}}},{key:"getNullTerminatorLength",value:function(e){return"utf16"===e?2:1}}]),e}();t.FrameParser=f},504:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ID3v22TagMapper=t.id3v22TagMap=void 0;var r=n(5729);t.id3v22TagMap={TT2:"title",TP1:"artist",TP2:"albumartist",TAL:"album",TYE:"year",COM:"comment",TRK:"track",TPA:"disk",TCO:"genre",PIC:"picture",TCM:"composer",TOR:"originaldate",TOT:"originalalbum",TXT:"lyricist",TP3:"conductor",TPB:"label",TT1:"grouping",TT3:"subtitle",TLA:"language",TCR:"copyright",WCP:"license",TEN:"encodedby",TSS:"encodersettings",WAR:"website","COM:iTunPGAP":"gapless",PCS:"podcast",TCP:"compilation",TDR:"date",TS2:"albumartistsort",TSA:"albumsort",TSC:"composersort",TSP:"artistsort",TST:"titlesort",WFD:"podcasturl"},t.ID3v22TagMapper=function(e){_inherits(r,e);var n=_createSuper(r);function r(){return _classCallCheck(this,r),n.call(this,["ID3v2.2"],t.id3v22TagMap)}return r}(r.CaseInsensitiveTagMap)},473:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ID3v24TagMapper=void 0;var r=n(8893),a=n(4446),i=n(5729),o={TIT2:"title",TPE1:"artist","TXXX:Artists":"artists",TPE2:"albumartist",TALB:"album",TDRV:"date",TORY:"originalyear",TPOS:"disk",TCON:"genre",APIC:"picture",TCOM:"composer","USLT:description":"lyrics",TSOA:"albumsort",TSOT:"titlesort",TOAL:"originalalbum",TSOP:"artistsort",TSO2:"albumartistsort",TSOC:"composersort",TEXT:"lyricist","TXXX:Writer":"writer",TPE3:"conductor",TPE4:"remixer","IPLS:arranger":"arranger","IPLS:engineer":"engineer","IPLS:producer":"producer","IPLS:DJ-mix":"djmixer","IPLS:mix":"mixer",TPUB:"label",TIT1:"grouping",TIT3:"subtitle",TRCK:"track",TCMP:"compilation",POPM:"rating",TBPM:"bpm",TMED:"media","TXXX:CATALOGNUMBER":"catalognumber","TXXX:MusicBrainz Album Status":"releasestatus","TXXX:MusicBrainz Album Type":"releasetype","TXXX:MusicBrainz Album Release Country":"releasecountry","TXXX:RELEASECOUNTRY":"releasecountry","TXXX:SCRIPT":"script",TLAN:"language",TCOP:"copyright",WCOP:"license",TENC:"encodedby",TSSE:"encodersettings","TXXX:BARCODE":"barcode","TXXX:ISRC":"isrc",TSRC:"isrc","TXXX:ASIN":"asin","TXXX:originalyear":"originalyear","UFID:http://musicbrainz.org":"musicbrainz_recordingid","TXXX:MusicBrainz Release Track Id":"musicbrainz_trackid","TXXX:MusicBrainz Album Id":"musicbrainz_albumid","TXXX:MusicBrainz Artist Id":"musicbrainz_artistid","TXXX:MusicBrainz Album Artist Id":"musicbrainz_albumartistid","TXXX:MusicBrainz Release Group Id":"musicbrainz_releasegroupid","TXXX:MusicBrainz Work Id":"musicbrainz_workid","TXXX:MusicBrainz TRM Id":"musicbrainz_trmid","TXXX:MusicBrainz Disc Id":"musicbrainz_discid","TXXX:ACOUSTID_ID":"acoustid_id","TXXX:Acoustid Id":"acoustid_id","TXXX:Acoustid Fingerprint":"acoustid_fingerprint","TXXX:MusicIP PUID":"musicip_puid","TXXX:MusicMagic Fingerprint":"musicip_fingerprint",WOAR:"website",TDRC:"date",TYER:"year",TDOR:"originaldate","TIPL:arranger":"arranger","TIPL:engineer":"engineer","TIPL:producer":"producer","TIPL:DJ-mix":"djmixer","TIPL:mix":"mixer",TMOO:"mood",SYLT:"lyrics",TSST:"discsubtitle",TKEY:"key",COMM:"comment",TOPE:"originalartist","PRIV:AverageLevel":"averageLevel","PRIV:PeakLevel":"peakLevel","TXXX:DISCOGS_ARTIST_ID":"discogs_artist_id","TXXX:DISCOGS_ARTISTS":"artists","TXXX:DISCOGS_ARTIST_NAME":"artists","TXXX:DISCOGS_ALBUM_ARTISTS":"albumartist","TXXX:DISCOGS_CATALOG":"catalognumber","TXXX:DISCOGS_COUNTRY":"releasecountry","TXXX:DISCOGS_DATE":"originaldate","TXXX:DISCOGS_LABEL":"label","TXXX:DISCOGS_LABEL_ID":"discogs_label_id","TXXX:DISCOGS_MASTER_RELEASE_ID":"discogs_master_release_id","TXXX:DISCOGS_RATING":"discogs_rating","TXXX:DISCOGS_RELEASED":"date","TXXX:DISCOGS_RELEASE_ID":"discogs_release_id","TXXX:DISCOGS_VOTES":"discogs_votes","TXXX:CATALOGID":"catalognumber","TXXX:STYLE":"genre","TXXX:REPLAYGAIN_TRACK_PEAK":"replaygain_track_peak","TXXX:REPLAYGAIN_TRACK_GAIN":"replaygain_track_gain","TXXX:REPLAYGAIN_ALBUM_PEAK":"replaygain_album_peak","TXXX:REPLAYGAIN_ALBUM_GAIN":"replaygain_album_gain","TXXX:MP3GAIN_MINMAX":"replaygain_track_minmax","TXXX:MP3GAIN_ALBUM_MINMAX":"replaygain_album_minmax","TXXX:MP3GAIN_UNDO":"replaygain_undo",MVNM:"movement",MVIN:"movementIndex",PCST:"podcast",TCAT:"category",TDES:"description",TDRL:"date",TGID:"podcastId",TKWD:"keywords",WFED:"podcasturl"},s=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this,["ID3v2.3","ID3v2.4"],o)}return _createClass(n,[{key:"postMap",value:function(e,t){switch(e.id){case"UFID":"http://musicbrainz.org"===e.value.owner_identifier&&(e.id+=":"+e.value.owner_identifier,e.value=a.default.decodeString(e.value.identifier,"iso-8859-1"));break;case"PRIV":switch(e.value.owner_identifier){case"AverageLevel":case"PeakValue":e.id+=":"+e.value.owner_identifier,e.value=4===e.value.data.length?e.value.data.readUInt32LE(0):null,null===e.value&&t.addWarning("Failed to parse PRIV:PeakValue");break;default:t.addWarning("Unknown PRIV owner-identifier: ".concat(e.value.owner_identifier))}break;case"COMM":e.value=e.value?e.value.text:null;break;case"POPM":e.value=n.toRating(e.value)}}}],[{key:"toRating",value:function(e){return{source:e.email,rating:e.rating>0?(e.rating-1)/254*r.CommonTagMapper.maxRatingScore:void 0}}}]),n}(i.CaseInsensitiveTagMap);t.ID3v24TagMapper=s},4947:function(e,t,n){"use strict";var r=n(1052).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ID3v2Parser=void 0;var a=n(5148),i=n(4446),o=n(1999),s=n(7899),u=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"parse",value:function(e,t,n){var a=this;return r(regeneratorRuntime.mark(function r(){var i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a.tokenizer=t,a.metadata=e,a.options=n,r.next=3,a.tokenizer.readToken(s.ID3v2Header);case 3:if("ID3"===(i=r.sent).fileIdentifier){r.next=6;break}throw new Error("expected ID3-header file-identifier 'ID3' was not found");case 6:return r.abrupt("return",(a.id3Header=i,a.headerType="ID3v2."+i.version.major,i.flags.isExtendedHeader?a.parseExtendedHeader():a.parseId3Data(i.size)));case 7:case"end":return r.stop()}},r)}))()}},{key:"parseExtendedHeader",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.tokenizer.readToken(s.ExtendedHeader);case 2:return n=t.sent,r=n.size-s.ExtendedHeader.len,t.abrupt("return",r>0?e.parseExtendedHeaderData(r,n.size):e.parseId3Data(e.id3Header.size-n.size));case 5:case"end":return t.stop()}},t)}))()}},{key:"parseExtendedHeaderData",value:function(e,t){var n=this;return r(regeneratorRuntime.mark(function r(){var a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=Buffer.alloc(e),r.next=3,n.tokenizer.readBuffer(a,{length:e});case 3:return r.abrupt("return",n.parseId3Data(n.id3Header.size-t));case 4:case"end":return r.stop()}},r)}))()}},{key:"parseId3Data",value:function(t){var n=this;return r(regeneratorRuntime.mark(function r(){var a,i,o,s,u,c,l,f,h,d,p,m,v,g,y,b;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=Buffer.alloc(t),r.next=3,n.tokenizer.readBuffer(a,{length:t});case 3:i=_createForOfIteratorHelper(n.parseMetadata(a));try{for(i.s();!(o=i.n()).done;)if("TXXX"===(s=o.value).id){if(s.value){u=_createForOfIteratorHelper(s.value.text);try{for(u.s();!(c=u.n()).done;)l=c.value,n.addTag(e.makeDescriptionTagName(s.id,s.value.description),l)}catch(k){u.e(k)}finally{u.f()}}}else if("COM"===s.id){f=_createForOfIteratorHelper(s.value);try{for(f.s();!(h=f.n()).done;)d=h.value,n.addTag(e.makeDescriptionTagName(s.id,d.description),d.text)}catch(k){f.e(k)}finally{f.f()}}else if("COMM"===s.id){p=_createForOfIteratorHelper(s.value);try{for(p.s();!(m=p.n()).done;)v=m.value,n.addTag(e.makeDescriptionTagName(s.id,v.description),v)}catch(k){p.e(k)}finally{p.f()}}else if(Array.isArray(s.value)){g=_createForOfIteratorHelper(s.value);try{for(g.s();!(y=g.n()).done;)b=y.value,n.addTag(s.id,b)}catch(k){g.e(k)}finally{g.f()}}else n.addTag(s.id,s.value)}catch(k){i.e(k)}finally{i.f()}case 5:case"end":return r.stop()}},r)}))()}},{key:"addTag",value:function(e,t){this.metadata.addTag(this.headerType,e,t)}},{key:"parseMetadata",value:function(t){for(var n=0,r=[];n!==t.length;){var a=e.getFrameHeaderLength(this.id3Header.version.major);if(n+a>t.length){this.metadata.addWarning("Illegal ID3v2 tag length");break}var i=t.slice(n,n+=a),o=this.readFrameHeader(i,this.id3Header.version.major),s=t.slice(n,n+=o.length),u=e.readFrameData(s,o,this.id3Header.version.major,!this.options.skipCovers,this.metadata);u&&r.push({id:o.id,value:u})}return r}},{key:"readFrameHeader",value:function(t,n){var r;switch(n){case 2:(r={id:t.toString("ascii",0,3),length:a.UINT24_BE.get(t,3)}).id.match(/[A-Z0-9]{3}/g)||this.metadata.addWarning("Invalid ID3v2.".concat(this.id3Header.version.major," frame-header-ID: ").concat(r.id));break;case 3:case 4:(r={id:t.toString("ascii",0,4),length:(4===n?s.UINT32SYNCSAFE:a.UINT32_BE).get(t,4),flags:e.readFrameFlags(t.slice(8,10))}).id.match(/[A-Z0-9]{4}/g)||this.metadata.addWarning("Invalid ID3v2.".concat(this.id3Header.version.major," frame-header-ID: ").concat(r.id));break;default:throw new Error("Unexpected majorVer: "+n)}return r}}],[{key:"removeUnsyncBytes",value:function(e){for(var t=0,n=0;t<e.length-1;)t!==n&&(e[n]=e[t]),t+=255===e[t]&&0===e[t+1]?2:1,n++;return t<e.length&&(e[n++]=e[t]),e.slice(0,n)}},{key:"getFrameHeaderLength",value:function(e){switch(e){case 2:return 6;case 3:case 4:return 10;default:throw new Error("header versionIndex is incorrect")}}},{key:"readFrameFlags",value:function(e){return{status:{tag_alter_preservation:i.default.strtokBITSET.get(e,0,6),file_alter_preservation:i.default.strtokBITSET.get(e,0,5),read_only:i.default.strtokBITSET.get(e,0,4)},format:{grouping_identity:i.default.strtokBITSET.get(e,1,7),compression:i.default.strtokBITSET.get(e,1,3),encryption:i.default.strtokBITSET.get(e,1,2),unsynchronisation:i.default.strtokBITSET.get(e,1,1),data_length_indicator:i.default.strtokBITSET.get(e,1,0)}}}},{key:"readFrameData",value:function(t,n,r,a,i){var s=new o.FrameParser(r,i);switch(r){case 2:return s.readData(t,n.id,a);case 3:case 4:return n.flags.format.unsynchronisation&&(t=e.removeUnsyncBytes(t)),n.flags.format.data_length_indicator&&(t=t.slice(4,t.length)),s.readData(t,n.id,a);default:throw new Error("Unexpected majorVer: "+r)}}},{key:"makeDescriptionTagName",value:function(e,t){return e+(t?":"+t:"")}}]),e}();t.ID3v2Parser=u},7899:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextEncodingToken=t.ExtendedHeader=t.ID3v2Header=t.UINT32SYNCSAFE=t.AttachedPictureType=void 0;var r,a=n(5148),i=n(4446);(r=t.AttachedPictureType||(t.AttachedPictureType={}))[r.Other=0]="Other",r[r["32x32 pixels 'file icon' (PNG only)"]=1]="32x32 pixels 'file icon' (PNG only)",r[r["Other file icon"]=2]="Other file icon",r[r["Cover (front)"]=3]="Cover (front)",r[r["Cover (back)"]=4]="Cover (back)",r[r["Leaflet page"]=5]="Leaflet page",r[r["Media (e.g. label side of CD)"]=6]="Media (e.g. label side of CD)",r[r["Lead artist/lead performer/soloist"]=7]="Lead artist/lead performer/soloist",r[r["Artist/performer"]=8]="Artist/performer",r[r.Conductor=9]="Conductor",r[r["Band/Orchestra"]=10]="Band/Orchestra",r[r.Composer=11]="Composer",r[r["Lyricist/text writer"]=12]="Lyricist/text writer",r[r["Recording Location"]=13]="Recording Location",r[r["During recording"]=14]="During recording",r[r["During performance"]=15]="During performance",r[r["Movie/video screen capture"]=16]="Movie/video screen capture",r[r["A bright coloured fish"]=17]="A bright coloured fish",r[r.Illustration=18]="Illustration",r[r["Band/artist logotype"]=19]="Band/artist logotype",r[r["Publisher/Studio logotype"]=20]="Publisher/Studio logotype",t.UINT32SYNCSAFE={get:function(e,t){return 127&e[t+3]|e[t+2]<<7|e[t+1]<<14|e[t]<<21},len:4},t.ID3v2Header={len:10,get:function(e,n){return{fileIdentifier:new a.StringType(3,"ascii").get(e,n),version:{major:a.INT8.get(e,n+3),revision:a.INT8.get(e,n+4)},flags:{unsynchronisation:i.default.strtokBITSET.get(e,n+5,7),isExtendedHeader:i.default.strtokBITSET.get(e,n+5,6),expIndicator:i.default.strtokBITSET.get(e,n+5,5),footer:i.default.strtokBITSET.get(e,n+5,4)},size:t.UINT32SYNCSAFE.get(e,n+6)}}},t.ExtendedHeader={len:10,get:function(e,t){return{size:a.UINT32_BE.get(e,t),extendedFlags:a.UINT16_BE.get(e,t+4),sizeOfPadding:a.UINT32_BE.get(e,t+6),crcDataPresent:i.default.strtokBITSET.get(e,t+4,31)}}},t.TextEncodingToken={len:1,get:function(e,t){switch(e.readUInt8(t)){case 0:return{encoding:"iso-8859-1"};case 1:return{encoding:"utf16",bom:!0};case 2:return{encoding:"utf16",bom:!1};case 3:default:return{encoding:"utf8",bom:!1}}}}},2058:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0;var r=n(9548);t.Header={len:8,get:function(e,t){return{chunkID:r.FourCcToken.get(e,t),chunkSize:e.readUInt32BE(t+4)}}}},3278:function(e,t,n){"use strict";var r=n(1052).default;function a(){return(a=r(regeneratorRuntime.mark(function e(n){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.fileSize>=143)){e.next=7;break}return r=Buffer.alloc(15),e.next=4,n.randomRead(r,0,r.length,n.fileSize-143);case 4:if((a=r.toString("binary")).substr(6)!==t.endTag2){e.next=7;break}return e.abrupt("return",parseInt(a.substr(0,6),10)+15);case 7:return e.abrupt("return",0);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.getLyricsHeaderLength=t.endTag2=void 0,t.endTag2="LYRICS200",t.getLyricsHeaderLength=function(e){return a.apply(this,arguments)}},4611:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.elements=void 0;var r=n(5992);t.elements={440786851:{name:"ebml",container:{17030:{name:"ebmlVersion",value:r.DataType.uint},17143:{name:"ebmlReadVersion",value:r.DataType.uint},17138:{name:"ebmlMaxIDWidth",value:r.DataType.uint},17139:{name:"ebmlMaxSizeWidth",value:r.DataType.uint},17026:{name:"docType",value:r.DataType.string},17031:{name:"docTypeVersion",value:r.DataType.uint},17029:{name:"docTypeReadVersion",value:r.DataType.uint}}},408125543:{name:"segment",container:{290298740:{name:"seekHead",container:{19899:{name:"seek",container:{21419:{name:"seekId",value:r.DataType.binary},21420:{name:"seekPosition",value:r.DataType.uint}}}}},357149030:{name:"info",container:{29604:{name:"uid",value:r.DataType.uid},29572:{name:"filename",value:r.DataType.string},3979555:{name:"prevUID",value:r.DataType.uid},3965867:{name:"prevFilename",value:r.DataType.string},4110627:{name:"nextUID",value:r.DataType.uid},4096955:{name:"nextFilename",value:r.DataType.string},2807729:{name:"timecodeScale",value:r.DataType.uint},17545:{name:"duration",value:r.DataType.float},17505:{name:"dateUTC",value:r.DataType.uint},31657:{name:"title",value:r.DataType.string},19840:{name:"muxingApp",value:r.DataType.string},22337:{name:"writingApp",value:r.DataType.string}}},524531317:{name:"cluster",multiple:!0,container:{231:{name:"timecode",value:r.DataType.uid},163:{name:"unknown",value:r.DataType.binary},167:{name:"position",value:r.DataType.uid},171:{name:"prevSize",value:r.DataType.uid}}},374648427:{name:"tracks",container:{174:{name:"entries",multiple:!0,container:{215:{name:"trackNumber",value:r.DataType.uint},29637:{name:"uid",value:r.DataType.uid},131:{name:"trackType",value:r.DataType.uint},185:{name:"flagEnabled",value:r.DataType.bool},136:{name:"flagDefault",value:r.DataType.bool},21930:{name:"flagForced",value:r.DataType.bool},156:{name:"flagLacing",value:r.DataType.bool},28135:{name:"minCache",value:r.DataType.uint},28136:{name:"maxCache",value:r.DataType.uint},2352003:{name:"defaultDuration",value:r.DataType.uint},2306383:{name:"timecodeScale",value:r.DataType.float},21358:{name:"name",value:r.DataType.string},2274716:{name:"language",value:r.DataType.string},134:{name:"codecID",value:r.DataType.string},25506:{name:"codecPrivate",value:r.DataType.binary},2459272:{name:"codecName",value:r.DataType.string},3839639:{name:"codecSettings",value:r.DataType.string},3883072:{name:"codecInfoUrl",value:r.DataType.string},2536e3:{name:"codecDownloadUrl",value:r.DataType.string},170:{name:"codecDecodeAll",value:r.DataType.bool},28587:{name:"trackOverlay",value:r.DataType.uint},224:{name:"video",container:{154:{name:"flagInterlaced",value:r.DataType.bool},21432:{name:"stereoMode",value:r.DataType.uint},176:{name:"pixelWidth",value:r.DataType.uint},186:{name:"pixelHeight",value:r.DataType.uint},21680:{name:"displayWidth",value:r.DataType.uint},21690:{name:"displayHeight",value:r.DataType.uint},21683:{name:"aspectRatioType",value:r.DataType.uint},3061028:{name:"colourSpace",value:r.DataType.uint},3126563:{name:"gammaValue",value:r.DataType.float}}},225:{name:"audio",container:{181:{name:"samplingFrequency",value:r.DataType.float},30901:{name:"outputSamplingFrequency",value:r.DataType.float},159:{name:"channels",value:r.DataType.uint},148:{name:"channels",value:r.DataType.uint},32123:{name:"channelPositions",value:r.DataType.binary},25188:{name:"bitDepth",value:r.DataType.uint}}},28032:{name:"contentEncodings",container:{25152:{name:"contentEncoding",container:{20529:{name:"order",value:r.DataType.uint},20530:{name:"scope",value:r.DataType.bool},20531:{name:"type",value:r.DataType.uint},20532:{name:"contentEncoding",container:{16980:{name:"contentCompAlgo",value:r.DataType.uint},16981:{name:"contentCompSettings",value:r.DataType.binary}}},20533:{name:"contentEncoding",container:{18401:{name:"contentEncAlgo",value:r.DataType.uint},18402:{name:"contentEncKeyID",value:r.DataType.binary},18403:{name:"contentSignature ",value:r.DataType.binary},18404:{name:"ContentSigKeyID  ",value:r.DataType.binary},18405:{name:"contentSigAlgo ",value:r.DataType.uint},18406:{name:"contentSigHashAlgo ",value:r.DataType.uint}}},25188:{name:"bitDepth",value:r.DataType.uint}}}}}}}}},475249515:{name:"cues",container:{187:{name:"cuePoint",container:{179:{name:"cueTime",value:r.DataType.uid},183:{name:"positions",container:{247:{name:"track",value:r.DataType.uint},241:{name:"clusterPosition",value:r.DataType.uint},21368:{name:"blockNumber",value:r.DataType.uint},234:{name:"codecState",value:r.DataType.uint},219:{name:"reference",container:{150:{name:"time",value:r.DataType.uint},151:{name:"cluster",value:r.DataType.uint},21343:{name:"number",value:r.DataType.uint},235:{name:"codecState",value:r.DataType.uint}}},240:{name:"relativePosition",value:r.DataType.uint}}}}}}},423732329:{name:"attachments",container:{24999:{name:"attachedFiles",multiple:!0,container:{18046:{name:"description",value:r.DataType.string},18030:{name:"name",value:r.DataType.string},18016:{name:"mimeType",value:r.DataType.string},18012:{name:"data",value:r.DataType.binary},18094:{name:"uid",value:r.DataType.uid}}}}},272869232:{name:"chapters",container:{17849:{name:"editionEntry",container:{182:{name:"chapterAtom",container:{29636:{name:"uid",value:r.DataType.uid},145:{name:"timeStart",value:r.DataType.uint},146:{name:"timeEnd",value:r.DataType.uid},152:{name:"hidden",value:r.DataType.bool},17816:{name:"enabled",value:r.DataType.uid},143:{name:"track",container:{137:{name:"trackNumber",value:r.DataType.uid},128:{name:"display",container:{133:{name:"string",value:r.DataType.string},17276:{name:"language ",value:r.DataType.string},17278:{name:"country ",value:r.DataType.string}}}}}}}}}}},307544935:{name:"tags",container:{29555:{name:"tag",multiple:!0,container:{25536:{name:"target",container:{25541:{name:"tagTrackUID",value:r.DataType.uid},25540:{name:"tagChapterUID",value:r.DataType.uint},25542:{name:"tagAttachmentUID",value:r.DataType.uid},25546:{name:"targetType",value:r.DataType.string},26826:{name:"targetTypeValue",value:r.DataType.uint},25545:{name:"tagEditionUID",value:r.DataType.uid}}},26568:{name:"simpleTags",multiple:!0,container:{17827:{name:"name",value:r.DataType.string},17543:{name:"string",value:r.DataType.string},17541:{name:"binary",value:r.DataType.binary},17530:{name:"language",value:r.DataType.string},17531:{name:"languageIETF",value:r.DataType.string},17540:{name:"default",value:r.DataType.bool}}}}}}}}}}},8669:function(e,t,n){"use strict";var r=n(1052).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MatroskaParser=void 0;var a=n(5148),i=n(7807),o=n(2181),s=n(5992),u=n(4611),c=i("music-metadata:parser:matroska");t.MatroskaParser=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,a,i;return _classCallCheck(this,n),e=t.call(this),a=_assertThisInitialized(e),e.padding=0,e.parserMap=new Map,e.ebmlMaxIDLength=4,e.ebmlMaxSizeLength=8,e.parserMap.set(s.DataType.uint,function(t){return e.readUint(t)}),e.parserMap.set(s.DataType.string,function(t){return e.readString(t)}),e.parserMap.set(s.DataType.binary,function(t){return e.readBuffer(t)}),e.parserMap.set(s.DataType.uid,(i=r(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.readUint(t);case 2:return e.t0=e.sent,e.abrupt("return",1===e.t0);case 4:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)})),e.parserMap.set(s.DataType.bool,function(t){return e.readFlag(t)}),e.parserMap.set(s.DataType.float,function(t){return e.readFloat(t)}),e}return _createClass(n,[{key:"init",value:function(e,t,r){return _get(_getPrototypeOf(n.prototype),"init",this).call(this,e,t,r),this}},{key:"parse",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n,r,a,i,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.parseContainer(u.elements,e.tokenizer.fileInfo.size,[]);case 2:n=t.sent,e.metadata.setFormat("container","EBML/".concat(n.ebml.docType)),n.segment&&((r=n.segment.info)&&(a=r.duration*(r.timecodeScale?r.timecodeScale:1e6)/1e9,e.addTag("segment:title",r.title),e.metadata.setFormat("duration",a)),(i=n.segment.tracks)&&i.entries&&(i.entries.forEach(function(t){var n={codecName:t.codecID.replace("A_","").replace("V_",""),codecSettings:t.codecSettings,flagDefault:t.flagDefault,flagLacing:t.flagLacing,flagEnabled:t.flagEnabled,language:t.language,name:t.name,type:t.trackType,audio:t.audio,video:t.video};e.metadata.addStreamInfo(n)}),(o=i.entries.filter(function(e){return e.trackType===s.TrackType.audio.valueOf()}).reduce(function(e,t){return e?!e.flagDefault&&t.flagDefault||t.trackNumber&&t.trackNumber<e.trackNumber?t:e:t},null))&&(e.metadata.setFormat("codec",o.codecID.replace("A_","")),e.metadata.setFormat("sampleRate",o.audio.samplingFrequency),e.metadata.setFormat("numberOfChannels",o.audio.channels)),n.segment.tags&&n.segment.tags.tag.forEach(function(t){var n=t.target,r=n.targetTypeValue?s.TargetType[n.targetTypeValue]:n.targetType?n.targetType:s.TargetType.album;t.simpleTags.forEach(function(t){e.addTag("".concat(r,":").concat(t.name),t.string?t.string:t.binary)})}),n.segment.attachments&&n.segment.attachments.attachedFiles.filter(function(e){return e.mimeType.startsWith("image/")}).map(function(e){return{data:e.data,format:e.mimeType,description:e.description,name:e.name}}).forEach(function(t){e.addTag("picture",t)})));case 4:case"end":return t.stop()}},t)}))()}},{key:"parseContainer",value:function(e,t,n){var a=this;return r(regeneratorRuntime.mark(function r(){var i,o,s,u;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:i={};case 1:if(!(a.tokenizer.position<t)){r.next=41;break}return o=void 0,r.prev=3,r.next=6,a.readElement();case 6:o=r.sent,r.next=14;break;case 9:if(r.prev=9,r.t0=r.catch(3),"End-Of-Stream"!==r.t0.message){r.next=13;break}return r.abrupt("break",41);case 13:throw r.t0;case 14:if(!(s=e[o.id])){r.next=28;break}if(c("Element: name=".concat(s.name,", container=").concat(!!s.container)),!s.container){r.next=23;break}return r.next=19,a.parseContainer(s.container,o.len>=0?a.tokenizer.position+o.len:-1,n.concat([s.name]));case 19:u=r.sent,s.multiple?(i[s.name]||(i[s.name]=[]),i[s.name].push(u)):i[s.name]=u,r.next=26;break;case 23:return r.next=25,a.parserMap.get(s.value)(o);case 25:i[s.name]=r.sent;case 26:r.next=39;break;case 28:r.t1=o.id,r.next=236===r.t1?31:35;break;case 31:return a.padding+=o.len,r.next=34,a.tokenizer.ignore(o.len);case 34:return r.abrupt("break",39);case 35:return c("parseEbml: path=".concat(n.join("/"),", unknown element: id=").concat(o.id.toString(16))),a.padding+=o.len,r.next=39,a.tokenizer.ignore(o.len);case 39:r.next=1;break;case 41:return r.abrupt("return",i);case 42:case"end":return r.stop()}},r,null,[[3,9]])}))()}},{key:"readVintData",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,i,o,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.tokenizer.peekNumber(a.UINT8);case 2:r=n.sent,i=128,o=1;case 4:if(0!=(r&i)){n.next=10;break}if(!(o>e)){n.next=7;break}throw new Error("VINT value exceeding maximum size");case 7:++o,i>>=1;case 8:n.next=4;break;case 10:return s=Buffer.alloc(o),n.next=13,t.tokenizer.readBuffer(s);case 13:return n.abrupt("return",s);case 14:case"end":return n.stop()}},n)}))()}},{key:"readElement",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n,r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.readVintData(e.ebmlMaxIDLength);case 2:return n=t.sent,t.next=5,e.readVintData(e.ebmlMaxSizeLength);case 5:return(r=t.sent)[0]^=128>>r.length-1,a=Math.min(6,r.length),t.abrupt("return",{id:n.readUIntBE(0,n.length),len:r.readUIntBE(r.length-a,a)});case 9:case"end":return t.stop()}},t)}))()}},{key:"isMaxValue",value:function(e){if(e.length===this.ebmlMaxSizeLength){for(var t=1;t<this.ebmlMaxSizeLength;++t)if(255!==e[t])return!1;return!0}return!1}},{key:"readFloat",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=e.len,n.next=0===n.t0?3:4===n.t0?4:8===n.t0||10===n.t0?5:6;break;case 3:return n.abrupt("return",0);case 4:return n.abrupt("return",t.tokenizer.readNumber(a.Float32_BE));case 5:return n.abrupt("return",t.tokenizer.readNumber(a.Float64_BE));case 6:throw new Error("Invalid IEEE-754 float length: ".concat(e.len));case 7:case"end":return n.stop()}},n)}))()}},{key:"readFlag",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.readUint(e);case 2:return n.t0=n.sent,n.abrupt("return",1===n.t0);case 4:case"end":return n.stop()}},n)}))()}},{key:"readUint",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.readBuffer(e);case 2:return r=n.sent,a=Math.min(6,e.len),n.abrupt("return",r.readUIntBE(e.len-a,a));case 5:case"end":return n.stop()}},n)}))()}},{key:"readString",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t.tokenizer.readToken(new a.StringType(e.len,"utf-8")));case 1:case"end":return n.stop()}},n)}))()}},{key:"readBuffer",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=Buffer.alloc(e.len),n.next=3,t.tokenizer.readBuffer(r);case 3:return n.abrupt("return",r);case 4:case"end":return n.stop()}},n)}))()}},{key:"addTag",value:function(e,t){this.metadata.addTag("matroska",e,t)}}]),n}(o.BasicParser)},6253:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MatroskaTagMapper=void 0;var r=n(5729),a={"segment:title":"title","album:ARITST":"albumartist","album:ARITSTSORT":"albumartistsort","album:TITLE":"album","album:DATE_RECORDED":"originaldate","track:ARTIST":"artist","track:ARTISTSORT":"artistsort","track:TITLE":"title","track:PART_NUMBER":"track","track:MUSICBRAINZ_TRACKID":"musicbrainz_recordingid","track:MUSICBRAINZ_ALBUMID":"musicbrainz_albumid","track:MUSICBRAINZ_ARTISTID":"musicbrainz_artistid","track:PUBLISHER":"label",picture:"picture"};t.MatroskaTagMapper=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this,["matroska"],a)}return n}(r.CaseInsensitiveTagMap)},5992:function(e,t){"use strict";var n,r,a;Object.defineProperty(t,"__esModule",{value:!0}),t.TrackType=t.TargetType=t.DataType=void 0,(a=t.DataType||(t.DataType={}))[a.string=0]="string",a[a.uint=1]="uint",a[a.uid=2]="uid",a[a.bool=3]="bool",a[a.binary=4]="binary",a[a.float=5]="float",(r=t.TargetType||(t.TargetType={}))[r.shot=10]="shot",r[r.scene=20]="scene",r[r.track=30]="track",r[r.part=40]="part",r[r.album=50]="album",r[r.edition=60]="edition",r[r.collection=70]="collection",(n=t.TrackType||(t.TrackType={}))[n.video=1]="video",n[n.audio=2]="audio",n[n.complex=3]="complex",n[n.logo=4]="logo",n[n.subtitle=17]="subtitle",n[n.button=18]="button",n[n.control=32]="control"},9452:function(e,t,n){"use strict";var r=n(1052).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Atom=void 0;var a=n(7807),i=n(8357),o=a("music-metadata:parser:MP4:Atom"),s=function(){function e(t,n,r){_classCallCheck(this,e),this.header=t,this.extended=n,this.parent=r,this.children=[],this.atomPath=(this.parent?this.parent.atomPath+".":"")+this.header.name}return _createClass(e,[{key:"getHeaderLength",value:function(){return this.extended?16:8}},{key:"getPayloadLength",value:function(e){return(0===this.header.length?e:this.header.length)-this.getHeaderLength()}},{key:"readAtoms",value:function(t,n,a){var i=this;return r(regeneratorRuntime.mark(function r(){var o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(a>0)){r.next=7;break}return r.next=3,e.readAtom(t,n,i,a);case 3:o=r.sent,i.children.push(o),a-=0===o.header.length?a:o.header.length;case 5:r.next=0;break;case 7:case"end":return r.stop()}},r)}))()}},{key:"readData",value:function(e,t,n){var a=this;return r(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:r.t0=a.header.name,r.next="moov"===r.t0||"udta"===r.t0||"trak"===r.t0||"mdia"===r.t0||"minf"===r.t0||"stbl"===r.t0||"<id>"===r.t0||"ilst"===r.t0||"tref"===r.t0?3:"meta"===r.t0?4:("mdhd"===r.t0||"mvhd"===r.t0||"tkhd"===r.t0||"stsz"===r.t0||r.t0,7);break;case 3:return r.abrupt("return",a.readAtoms(e,t,a.getPayloadLength(n)));case 4:return r.next=6,e.ignore(4);case 6:return r.abrupt("return",a.readAtoms(e,t,a.getPayloadLength(n)-4));case 7:return r.abrupt("return",t(a,n));case 8:case"end":return r.stop()}},r)}))()}}],[{key:"readAtom",value:function(t,n,a,s){return r(regeneratorRuntime.mark(function r(){var u,c,l,f;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return u=t.position,r.next=3,t.readToken(i.Header);case 3:if(c=r.sent,r.t0=1===c.length,!r.t0){r.next=9;break}return r.next=8,t.readToken(i.ExtendedSize);case 8:c.length=r.sent;case 9:return l=new e(c,1===c.length,a),f=l.getPayloadLength(s),o("parse atom name=".concat(l.atomPath,", extended=").concat(l.extended,", offset=").concat(u,", len=").concat(l.header.length)),r.next=13,l.readData(t,n,f);case 13:return r.abrupt("return",l);case 14:case"end":return r.stop()}},r)}))()}}]),e}();t.Atom=s},8357:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChapterText=t.StcoAtom=t.StszAtom=t.StscAtom=t.SampleToChunkToken=t.SttsAtom=t.TimeToSampleToken=t.SoundSampleDescriptionV0=t.SoundSampleDescriptionVersion=t.StsdAtom=t.TrackHeaderAtom=t.NameAtom=t.DataAtom=t.MvhdAtom=t.MdhdAtom=t.FixedLengthAtom=t.mhdr=t.tkhd=t.ftyp=t.ExtendedSize=t.Header=void 0;var r=n(5148),a=n(9548),i=n(7807)("music-metadata:parser:MP4:atom");t.Header={len:8,get:function(e,t){var n=r.UINT32_BE.get(e,t);if(n<0)throw new Error("Invalid atom header length");return{length:n,name:new r.StringType(4,"binary").get(e,t+4)}},put:function(e,t,n){return r.UINT32_BE.put(e,t,n.length),a.FourCcToken.put(e,t+4,n.name)}},t.ExtendedSize=r.UINT64_BE,t.ftyp={len:4,get:function(e,t){return{type:new r.StringType(4,"ascii").get(e,t)}}},t.tkhd={len:4,get:function(e,t){return{type:new r.StringType(4,"ascii").get(e,t)}}},t.mhdr={len:8,get:function(e,t){return{version:r.UINT8.get(e,t+0),flags:r.UINT24_BE.get(e,t+1),nextItemID:r.UINT32_BE.get(e,t+4)}}};var o=function e(t,n,r){if(_classCallCheck(this,e),this.len=t,t<n)throw new Error("Atom ".concat(r," expected to be ").concat(n,", but specifies ").concat(t," bytes long."));t>n&&i("Warning: atom ".concat(r," expected to be ").concat(n,", but was actually ").concat(t," bytes long."))};t.FixedLengthAtom=o;var s=function(e,t){var n=r.UINT32_BE.get(e,t)-2082844800;return new Date(1e3*n)};t.MdhdAtom=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e,24,"mdhd")).len=e,r}return _createClass(n,[{key:"get",value:function(e,t){return{version:r.UINT8.get(e,t+0),flags:r.UINT24_BE.get(e,t+1),creationTime:s(e,t+4),modificationTime:s(e,t+8),timeScale:r.UINT32_BE.get(e,t+12),duration:r.UINT32_BE.get(e,t+16),language:r.UINT16_BE.get(e,t+20),quality:r.UINT16_BE.get(e,t+22)}}}]),n}(o),t.MvhdAtom=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e,100,"mvhd")).len=e,r}return _createClass(n,[{key:"get",value:function(e,t){return{version:r.UINT8.get(e,t),flags:r.UINT24_BE.get(e,t+1),creationTime:s(e,t+4),modificationTime:s(e,t+8),timeScale:r.UINT32_BE.get(e,t+12),duration:r.UINT32_BE.get(e,t+16),preferredRate:r.UINT32_BE.get(e,t+20),preferredVolume:r.UINT16_BE.get(e,t+24),previewTime:r.UINT32_BE.get(e,t+72),previewDuration:r.UINT32_BE.get(e,t+76),posterTime:r.UINT32_BE.get(e,t+80),selectionTime:r.UINT32_BE.get(e,t+84),selectionDuration:r.UINT32_BE.get(e,t+88),currentTime:r.UINT32_BE.get(e,t+92),nextTrackID:r.UINT32_BE.get(e,t+96)}}}]),n}(o),t.DataAtom=function(){function e(t){_classCallCheck(this,e),this.len=t}return _createClass(e,[{key:"get",value:function(e,t){return{type:{set:r.UINT8.get(e,t+0),type:r.UINT24_BE.get(e,t+1)},locale:r.UINT24_BE.get(e,t+4),value:new r.BufferType(this.len-8).get(e,t+8)}}}]),e}(),t.NameAtom=function(){function e(t){_classCallCheck(this,e),this.len=t}return _createClass(e,[{key:"get",value:function(e,t){return{version:r.UINT8.get(e,t),flags:r.UINT24_BE.get(e,t+1),name:new r.StringType(this.len-4,"utf-8").get(e,t+4)}}}]),e}(),t.TrackHeaderAtom=function(){function e(t){_classCallCheck(this,e),this.len=t}return _createClass(e,[{key:"get",value:function(e,t){return{version:r.UINT8.get(e,t),flags:r.UINT24_BE.get(e,t+1),creationTime:s(e,t+4),modificationTime:s(e,t+8),trackId:r.UINT32_BE.get(e,t+12),duration:r.UINT32_BE.get(e,t+20),layer:r.UINT16_BE.get(e,t+24),alternateGroup:r.UINT16_BE.get(e,t+26),volume:r.UINT16_BE.get(e,t+28)}}}]),e}();var u=function(){function e(t){_classCallCheck(this,e),this.len=t}return _createClass(e,[{key:"get",value:function(e,t){return{dataFormat:a.FourCcToken.get(e,t),dataReferenceIndex:r.UINT16_BE.get(e,t+10),description:new r.BufferType(this.len-12).get(e,t+12)}}}]),e}();t.StsdAtom=function(){function e(t){_classCallCheck(this,e),this.len=t}return _createClass(e,[{key:"get",value:function(e,t){var n=function(e,t){return{version:r.UINT8.get(e,t),flags:r.UINT24_BE.get(e,t+1),numberOfEntries:r.UINT32_BE.get(e,t+4)}}(e,t);t+=8;for(var a=[],i=0;i<n.numberOfEntries;++i){var o=r.UINT32_BE.get(e,t);t+=r.UINT32_BE.len,a.push(new u(o).get(e,t)),t+=o}return{header:n,table:a}}}]),e}(),t.SoundSampleDescriptionVersion={len:8,get:function(e,t){return{version:r.INT16_BE.get(e,t),revision:r.INT16_BE.get(e,t+2),vendor:r.INT32_BE.get(e,t+4)}}},t.SoundSampleDescriptionV0={len:12,get:function(e,t){return{numAudioChannels:r.INT16_BE.get(e,t+0),sampleSize:r.INT16_BE.get(e,t+2),compressionId:r.INT16_BE.get(e,t+4),packetSize:r.INT16_BE.get(e,t+6),sampleRate:r.UINT16_BE.get(e,t+8)+r.UINT16_BE.get(e,t+10)/1e4}}};var c=function(){function e(t,n){_classCallCheck(this,e),this.len=t,this.token=n}return _createClass(e,[{key:"get",value:function(e,t){var n=r.INT32_BE.get(e,t+4);return{version:r.INT8.get(e,t+0),flags:r.INT24_BE.get(e,t+1),numberOfEntries:n,entries:l(e,this.token,t+8,this.len-8,n)}}}]),e}();function l(e,t,n,r,a){if(i("remainingLen=".concat(r,", numberOfEntries=").concat(a," * token-len=").concat(t.len)),0===r)return[];if(r!==a*t.len)throw new Error("mismatch number-of-entries with remaining atom-length");for(var o=[],s=0;s<a;++s)o.push(t.get(e,n)),n+=t.len;return o}t.TimeToSampleToken={len:8,get:function(e,t){return{count:r.INT32_BE.get(e,t+0),duration:r.INT32_BE.get(e,t+4)}}},t.SttsAtom=function(e){_inherits(r,e);var n=_createSuper(r);function r(e){var a;return _classCallCheck(this,r),(a=n.call(this,e,t.TimeToSampleToken)).len=e,a}return r}(c),t.SampleToChunkToken={len:12,get:function(e,t){return{firstChunk:r.INT32_BE.get(e,t),samplesPerChunk:r.INT32_BE.get(e,t+4),sampleDescriptionId:r.INT32_BE.get(e,t+8)}}},t.StscAtom=function(e){_inherits(r,e);var n=_createSuper(r);function r(e){var a;return _classCallCheck(this,r),(a=n.call(this,e,t.SampleToChunkToken)).len=e,a}return r}(c),t.StszAtom=function(){function e(t){_classCallCheck(this,e),this.len=t}return _createClass(e,[{key:"get",value:function(e,t){var n=r.INT32_BE.get(e,t+8);return{version:r.INT8.get(e,t),flags:r.INT24_BE.get(e,t+1),sampleSize:r.INT32_BE.get(e,t+4),numberOfEntries:n,entries:l(e,r.INT32_BE,t+12,this.len-12,n)}}}]),e}(),t.StcoAtom=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var a;return _classCallCheck(this,n),(a=t.call(this,e,r.INT32_BE)).len=e,a}return n}(c),t.ChapterText=function(){function e(t){_classCallCheck(this,e),this.len=t}return _createClass(e,[{key:"get",value:function(e,t){var n=r.INT16_BE.get(e,t+0);return new r.StringType(n,"utf-8").get(e,t+2)}}]),e}()},6152:function(e,t,n){"use strict";var r=n(1052).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MP4Parser=void 0;var a=n(7807),i=n(5148),o=n(2181),s=n(9452),u=n(8357),c=n(7160),l=n(8810),f=a("music-metadata:parser:MP4"),h={raw:{lossy:!1,format:"raw"},MAC3:{lossy:!0,format:"MACE 3:1"},MAC6:{lossy:!0,format:"MACE 6:1"},ima4:{lossy:!0,format:"IMA 4:1"},ulaw:{lossy:!0,format:"uLaw 2:1"},alaw:{lossy:!0,format:"uLaw 2:1"},Qclp:{lossy:!0,format:"QUALCOMM PureVoice"},".mp3":{lossy:!0,format:"MPEG-1 layer 3"},alac:{lossy:!1,format:"ALAC"},"ac-3":{lossy:!0,format:"AC-3"},mp4a:{lossy:!0,format:"MPEG-4/AAC"},mp4s:{lossy:!0,format:"MP4S"},c608:{lossy:!0,format:"CEA-608"},c708:{lossy:!0,format:"CEA-708"}};function d(e,t,n){return n.indexOf(e)===t}var p=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,a,o,s,c,l,h,p,m,v,g,y,b,k;return _classCallCheck(this,n),e=t.apply(this,arguments),a=_assertThisInitialized(e),e.atomParsers={mvhd:(k=r(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.tokenizer.readToken(new u.MvhdAtom(t));case 2:n=e.sent,a.metadata.setFormat("creationTime",n.creationTime),a.metadata.setFormat("modificationTime",n.modificationTime);case 4:case"end":return e.stop()}},e)})),function(e){return k.apply(this,arguments)}),mdhd:(b=r(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.tokenizer.readToken(new u.MdhdAtom(t));case 2:n=e.sent,(r=a.getTrackDescription()).creationTime=n.creationTime,r.modificationTime=n.modificationTime,r.timeScale=n.timeScale,r.duration=n.duration;case 5:case"end":return e.stop()}},e)})),function(e){return b.apply(this,arguments)}),chap:(y=r(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=a.getTrackDescription(),r=[];case 1:if(!(t>=i.UINT32_BE.len)){e.next=10;break}return e.t0=r,e.next=5,a.tokenizer.readNumber(i.UINT32_BE);case 5:e.t1=e.sent,e.t0.push.call(e.t0,e.t1),t-=i.UINT32_BE.len;case 8:e.next=1;break;case 10:n.chapterList=r;case 11:case"end":return e.stop()}},e)})),function(e){return y.apply(this,arguments)}),tkhd:(g=r(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.tokenizer.readToken(new u.TrackHeaderAtom(t));case 2:n=e.sent,a.tracks.push(n);case 4:case"end":return e.stop()}},e)})),function(e){return g.apply(this,arguments)}),mdat:(v=r(regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.audioLengthInBytes=t,a.calculateBitRate(),!a.options.includeChapters){e.next=6;break}if(1!==(n=a.tracks.filter(function(e){return e.chapterList})).length){e.next=6;break}if(r=n[0].chapterList,1!==(i=a.tracks.filter(function(e){return-1!==r.indexOf(e.trackId)})).length){e.next=6;break}return e.abrupt("return",a.parseChapterTrack(i[0],n[0],t));case 6:return e.next=8,a.tokenizer.ignore(t);case 8:case"end":return e.stop()}},e)})),function(e){return v.apply(this,arguments)}),ftyp:(m=r(regeneratorRuntime.mark(function e(t){var n,r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=[];case 1:if(!(t>0)){e.next=10;break}return e.next=4,a.tokenizer.readToken(u.ftyp);case 4:r=e.sent,t-=u.ftyp.len,(i=r.type.replace(/\W/g,"")).length>0&&n.push(i);case 8:e.next=1;break;case 10:f("ftyp: ".concat(n.join("/"))),o=n.filter(d).join("/"),a.metadata.setFormat("container",o);case 13:case"end":return e.stop()}},e)})),function(e){return m.apply(this,arguments)}),stsd:(p=r(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.tokenizer.readToken(new u.StsdAtom(t));case 2:n=e.sent,a.getTrackDescription().soundSampleDescription=n.table.map(function(e){return a.parseSoundSampleDescription(e)});case 4:case"end":return e.stop()}},e)})),function(e){return p.apply(this,arguments)}),stsc:(h=r(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.tokenizer.readToken(new u.StscAtom(t));case 2:n=e.sent,a.getTrackDescription().sampleToChunkTable=n.entries;case 4:case"end":return e.stop()}},e)})),function(e){return h.apply(this,arguments)}),stts:(l=r(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.tokenizer.readToken(new u.SttsAtom(t));case 2:n=e.sent,a.getTrackDescription().timeToSampleTable=n.entries;case 4:case"end":return e.stop()}},e)})),function(e){return l.apply(this,arguments)}),stsz:(c=r(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.tokenizer.readToken(new u.StszAtom(t));case 2:n=e.sent,(r=a.getTrackDescription()).sampleSize=n.sampleSize,r.sampleSizeTable=n.entries;case 5:case"end":return e.stop()}},e)})),function(e){return c.apply(this,arguments)}),stco:(s=r(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.tokenizer.readToken(new u.StcoAtom(t));case 2:n=e.sent,a.getTrackDescription().chunkOffsetTable=n.entries;case 4:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)}),date:(o=r(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.tokenizer.readToken(new i.StringType(t,"utf-8"));case 2:n=e.sent,a.addTag("date",n);case 4:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)})},e}return _createClass(n,[{key:"parse",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n,r,a,i,o,c,p,m,v;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.tracks=[],n=e.tokenizer.fileInfo.size;case 2:if(e.tokenizer.fileInfo.size&&!(n>0)){t.next=24;break}return t.prev=3,t.next=6,e.tokenizer.peekToken(u.Header);case 6:if(t.t0=t.sent.name,"\0\0\0\0"!==t.t0){t.next=11;break}return r="Error at offset=".concat(e.tokenizer.position,": box.id=0"),f(r),e.addWarning(r),t.abrupt("break",24);case 11:t.next=18;break;case 13:return t.prev=13,t.t1=t.catch(3),a="Error at offset=".concat(e.tokenizer.position,": ").concat(t.t1.message),f(a),e.addWarning(a),t.abrupt("break",24);case 18:return t.next=20,s.Atom.readAtom(e.tokenizer,function(t,n){return e.handleAtom(t,n)},null,n);case 20:i=t.sent,n-=0===i.header.length?n:i.header.length;case 22:t.next=2;break;case 24:o=[],e.tracks.forEach(function(t){var n=[];t.soundSampleDescription.forEach(function(t){var r={},a=h[t.dataFormat];if(a?(n.push(a.format),r.codecName=a.format):r.codecName="<".concat(t.dataFormat,">"),t.description){var i=t.description;i.sampleRate>0&&(r.type=l.TrackType.audio,r.audio={samplingFrequency:i.sampleRate,bitDepth:i.sampleSize,channels:i.numAudioChannels})}e.metadata.addStreamInfo(r)}),n.length>=1&&o.push(n.join("/"))}),o.length>0&&e.metadata.setFormat("codec",o.filter(d).join("+")),(c=e.tracks.filter(function(e){return e.soundSampleDescription.length>=1&&e.soundSampleDescription[0].description&&e.soundSampleDescription[0].description.numAudioChannels>0})).length>=1&&(p=c[0],e.metadata.setFormat("duration",p.duration/p.timeScale),(m=p.soundSampleDescription[0]).description&&(e.metadata.setFormat("sampleRate",m.description.sampleRate),e.metadata.setFormat("bitsPerSample",m.description.sampleSize),e.metadata.setFormat("numberOfChannels",m.description.numAudioChannels)),(v=h[m.dataFormat])&&e.metadata.setFormat("lossless",!v.lossy),e.calculateBitRate());case 28:case"end":return t.stop()}},t,null,[[3,13]])}))()}},{key:"handleAtom",value:function(e,t){var n=this;return r(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.parent){r.next=5;break}r.t0=e.parent.header.name,r.next="ilst"===r.t0||"<id>"===r.t0?4:5;break;case 4:return r.abrupt("return",n.parseMetadataItemData(e));case 5:if(!n.atomParsers[e.header.name]){r.next=7;break}return r.abrupt("return",n.atomParsers[e.header.name](t));case 7:return f("No parser for atom path=".concat(e.atomPath,", payload-len=").concat(t,", ignoring atom")),r.next=10,n.tokenizer.ignore(t);case 10:case"end":return r.stop()}},r)}))()}},{key:"getTrackDescription",value:function(){return this.tracks[this.tracks.length-1]}},{key:"calculateBitRate",value:function(){this.audioLengthInBytes&&this.metadata.format.duration&&this.metadata.setFormat("bitrate",8*this.audioLengthInBytes/this.metadata.format.duration)}},{key:"addTag",value:function(e,t){this.metadata.addTag("iTunes",e,t)}},{key:"addWarning",value:function(e){f("Warning: "+e),this.metadata.addWarning(e)}},{key:"parseMetadataItemData",value:function(e){var t,n=this,a=e.header.name;return e.readAtoms(this.tokenizer,(t=r(regeneratorRuntime.mark(function e(t,r){var o,s,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=t.getPayloadLength(r),e.t0=t.header.name,e.next="data"===e.t0?4:"name"===e.t0?5:"mean"===e.t0?10:15;break;case 4:return e.abrupt("return",n.parseValueAtom(a,t));case 5:return e.next=7,n.tokenizer.readToken(new u.NameAtom(o));case 7:return s=e.sent,a+=":"+s.name,e.abrupt("break",19);case 10:return e.next=12,n.tokenizer.readToken(new u.NameAtom(o));case 12:return c=e.sent,a+=":"+c.name,e.abrupt("break",19);case 15:return e.next=17,n.tokenizer.readToken(new i.BufferType(o));case 17:l=e.sent,n.addWarning("Unsupported meta-item: "+a+"["+t.header.name+"] => value="+l.toString("hex")+" ascii="+l.toString("ascii"));case 19:case"end":return e.stop()}},e)})),function(e,n){return t.apply(this,arguments)}),e.getPayloadLength(0))}},{key:"parseValueAtom",value:function(e,t){var a=this;return r(regeneratorRuntime.mark(function r(){var o,s,l,f;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.tokenizer.readToken(new u.DataAtom(t.header.length-u.Header.len));case 2:if(0===(o=r.sent).type.set){r.next=5;break}throw new Error("Unsupported type-set != 0: "+o.type.set);case 5:r.t0=o.type.type,r.next=0===r.t0?8:1===r.t0||18===r.t0?17:13===r.t0?19:14===r.t0?23:21===r.t0?27:22===r.t0?29:65===r.t0?31:66===r.t0?33:67===r.t0?35:37;break;case 8:r.t1=e,r.next="trkn"===r.t1||"disk"===r.t1?11:"gnre"===r.t1?14:16;break;case 11:return s=i.UINT8.get(o.value,3),l=i.UINT8.get(o.value,5),a.addTag(e,s+"/"+l),r.abrupt("break",16);case 14:f=i.UINT8.get(o.value,1),a.addTag(e,c.Genres[f-1]);case 16:return r.abrupt("break",38);case 17:return a.addTag(e,o.value.toString("utf-8")),r.abrupt("break",38);case 19:if(!a.options.skipCovers){r.next=21;break}return r.abrupt("break",38);case 21:return a.addTag(e,{format:"image/jpeg",data:Buffer.from(o.value)}),r.abrupt("break",38);case 23:if(!a.options.skipCovers){r.next=25;break}return r.abrupt("break",38);case 25:return a.addTag(e,{format:"image/png",data:Buffer.from(o.value)}),r.abrupt("break",38);case 27:return a.addTag(e,n.read_BE_Signed_Integer(o.value)),r.abrupt("break",38);case 29:return a.addTag(e,n.read_BE_Unsigned_Integer(o.value)),r.abrupt("break",38);case 31:return a.addTag(e,o.value.readInt8(0)),r.abrupt("break",38);case 33:return a.addTag(e,o.value.readInt16BE(0)),r.abrupt("break",38);case 35:return a.addTag(e,o.value.readInt32BE(0)),r.abrupt("break",38);case 37:a.addWarning("atom key=".concat(e,", has unknown well-known-type (data-type): ").concat(o.type.type));case 38:case"end":return r.stop()}},r)}))()}},{key:"parseSoundSampleDescription",value:function(e){var t={dataFormat:e.dataFormat,dataReferenceIndex:e.dataReferenceIndex},n=0,r=u.SoundSampleDescriptionVersion.get(e.description,n);return n+=u.SoundSampleDescriptionVersion.len,0===r.version||1===r.version?t.description=u.SoundSampleDescriptionV0.get(e.description,n):f("Warning: sound-sample-description ".concat(r," not implemented")),t}},{key:"parseChapterTrack",value:function(e,t,n){var a=this;return r(regeneratorRuntime.mark(function r(){var i,o,s,c,l,h;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(e.sampleSize||e.chunkOffsetTable.length===e.sampleSizeTable.length){r.next=2;break}throw new Error("Expected equal chunk-offset-table & sample-size-table length.");case 2:i=[],o=0;case 4:if(!(o<e.chunkOffsetTable.length&&n>0)){r.next=19;break}if(s=e.chunkOffsetTable[o]-a.tokenizer.position,c=e.sampleSize>0?e.sampleSize:e.sampleSizeTable[o],!((n-=s+c)<0)){r.next=8;break}throw new Error("Chapter chunk exceeding token length");case 8:return r.next=10,a.tokenizer.ignore(s);case 10:return r.next=12,a.tokenizer.readToken(new u.ChapterText(c));case 12:l=r.sent,f("Chapter ".concat(o+1,": ").concat(l)),h={title:l,sampleOffset:a.findSampleOffset(t,a.tokenizer.position)},f("Chapter title=".concat(h.title,", offset=").concat(h.sampleOffset,"/").concat(a.tracks[0].duration)),i.push(h);case 16:++o,r.next=4;break;case 19:return a.metadata.setFormat("chapters",i),r.next=22,a.tokenizer.ignore(n);case 22:case"end":return r.stop()}},r)}))()}},{key:"findSampleOffset",value:function(e,t){var n=0;e.timeToSampleTable.forEach(function(e){n+=e.count*e.duration}),f("Total duration=".concat(n));for(var r=0;r<e.chunkOffsetTable.length&&e.chunkOffsetTable[r]<t;)++r;return this.getChunkDuration(r+1,e)}},{key:"getChunkDuration",value:function(e,t){for(var n=0,r=t.timeToSampleTable[n].count,a=t.timeToSampleTable[n].duration,i=1,o=this.getSamplesPerChunk(i,t.sampleToChunkTable),s=0;i<e;){var u=Math.min(r,o);s+=u*a,r-=u,0===(o-=u)?(++i,o=this.getSamplesPerChunk(i,t.sampleToChunkTable)):(++n,r=t.timeToSampleTable[n].count,a=t.timeToSampleTable[n].duration)}return s}},{key:"getSamplesPerChunk",value:function(e,t){for(var n=0;n<t.length-1;++n)if(e>=t[n].firstChunk&&e<t[n+1].firstChunk)return t[n].samplesPerChunk;return t[t.length-1].samplesPerChunk}}],[{key:"read_BE_Signed_Integer",value:function(e){return i.readIntBE(e,0,e.length)}},{key:"read_BE_Unsigned_Integer",value:function(e){return i.readUIntBE(e,0,e.length)}}]),n}(o.BasicParser);t.MP4Parser=p},823:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MP4TagMapper=t.tagType=void 0;var r=n(5729),a={"\xa9nam":"title","\xa9ART":"artist",aART:"albumartist","----:com.apple.iTunes:Band":"albumartist","\xa9alb":"album","\xa9day":"date","\xa9cmt":"comment","\xa9com":"comment",trkn:"track",disk:"disk","\xa9gen":"genre",covr:"picture","\xa9wrt":"composer","\xa9lyr":"lyrics",soal:"albumsort",sonm:"titlesort",soar:"artistsort",soaa:"albumartistsort",soco:"composersort","----:com.apple.iTunes:LYRICIST":"lyricist","----:com.apple.iTunes:CONDUCTOR":"conductor","----:com.apple.iTunes:REMIXER":"remixer","----:com.apple.iTunes:ENGINEER":"engineer","----:com.apple.iTunes:PRODUCER":"producer","----:com.apple.iTunes:DJMIXER":"djmixer","----:com.apple.iTunes:MIXER":"mixer","----:com.apple.iTunes:LABEL":"label","\xa9grp":"grouping","----:com.apple.iTunes:SUBTITLE":"subtitle","----:com.apple.iTunes:DISCSUBTITLE":"discsubtitle",cpil:"compilation",tmpo:"bpm","----:com.apple.iTunes:MOOD":"mood","----:com.apple.iTunes:MEDIA":"media","----:com.apple.iTunes:CATALOGNUMBER":"catalognumber",tvsh:"tvShow",tvsn:"tvSeason",tves:"tvEpisode",sosn:"tvShowSort",tven:"tvEpisodeId",tvnn:"tvNetwork",pcst:"podcast",purl:"podcasturl","----:com.apple.iTunes:MusicBrainz Album Status":"releasestatus","----:com.apple.iTunes:MusicBrainz Album Type":"releasetype","----:com.apple.iTunes:MusicBrainz Album Release Country":"releasecountry","----:com.apple.iTunes:SCRIPT":"script","----:com.apple.iTunes:LANGUAGE":"language",cprt:"copyright","\xa9cpy":"copyright","----:com.apple.iTunes:LICENSE":"license","\xa9too":"encodedby",pgap:"gapless","----:com.apple.iTunes:BARCODE":"barcode","----:com.apple.iTunes:ISRC":"isrc","----:com.apple.iTunes:ASIN":"asin","----:com.apple.iTunes:NOTES":"comment","----:com.apple.iTunes:MusicBrainz Track Id":"musicbrainz_recordingid","----:com.apple.iTunes:MusicBrainz Release Track Id":"musicbrainz_trackid","----:com.apple.iTunes:MusicBrainz Album Id":"musicbrainz_albumid","----:com.apple.iTunes:MusicBrainz Artist Id":"musicbrainz_artistid","----:com.apple.iTunes:MusicBrainz Album Artist Id":"musicbrainz_albumartistid","----:com.apple.iTunes:MusicBrainz Release Group Id":"musicbrainz_releasegroupid","----:com.apple.iTunes:MusicBrainz Work Id":"musicbrainz_workid","----:com.apple.iTunes:MusicBrainz TRM Id":"musicbrainz_trmid","----:com.apple.iTunes:MusicBrainz Disc Id":"musicbrainz_discid","----:com.apple.iTunes:Acoustid Id":"acoustid_id","----:com.apple.iTunes:Acoustid Fingerprint":"acoustid_fingerprint","----:com.apple.iTunes:MusicIP PUID":"musicip_puid","----:com.apple.iTunes:fingerprint":"musicip_fingerprint","----:com.apple.iTunes:replaygain_track_gain":"replaygain_track_gain","----:com.apple.iTunes:replaygain_track_peak":"replaygain_track_peak","----:com.apple.iTunes:replaygain_album_gain":"replaygain_album_gain","----:com.apple.iTunes:replaygain_album_peak":"replaygain_album_peak","----:com.apple.iTunes:replaygain_track_minmax":"replaygain_track_minmax","----:com.apple.iTunes:replaygain_album_minmax":"replaygain_album_minmax","----:com.apple.iTunes:replaygain_undo":"replaygain_undo",gnre:"genre","----:com.apple.iTunes:ALBUMARTISTSORT":"albumartistsort","----:com.apple.iTunes:ARTISTS":"artists","----:com.apple.iTunes:ORIGINALDATE":"originaldate","----:com.apple.iTunes:ORIGINALYEAR":"originalyear",desc:"description",ldes:"longDescription","\xa9mvn":"movement","\xa9mvi":"movementIndex","\xa9mvc":"movementTotal","\xa9wrk":"work",catg:"category",egid:"podcastId",hdvd:"hdVideo",keyw:"keywords",shwm:"showMovement",stik:"stik"};t.tagType="iTunes",t.MP4TagMapper=function(e){_inherits(r,e);var n=_createSuper(r);function r(){return _classCallCheck(this,r),n.call(this,[t.tagType],a)}return r}(r.CaseInsensitiveTagMap)},2054:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtendedLameHeader=void 0;var r=n(5148),a=n(4446),i=n(5956);t.ExtendedLameHeader={len:27,get:function(e,t){var n=r.UINT32_BE.get(e,t+2);return{revision:a.default.getBitAllignedNumber(e,t,0,4),vbr_method:a.default.getBitAllignedNumber(e,t,4,4),lowpass_filter:100*r.UINT8.get(e,t+1),track_peak:0===n?void 0:n/Math.pow(2,23),track_gain:i.ReplayGain.get(e,6),album_gain:i.ReplayGain.get(e,8),music_length:r.UINT32_BE.get(e,t+20),music_crc:r.UINT8.get(e,t+24),header_crc:r.UINT16_BE.get(e,t+24)}}}},3218:function(e,t,n){"use strict";var r=n(1052).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MpegParser=void 0;var a=n(5148),i=n(4074),o=n(7807),s=n(4446),u=n(9655),c=n(5003),l=o("music-metadata:parser:mpeg"),f={AudioObjectTypes:["AAC Main","AAC LC","AAC SSR","AAC LTP"],SamplingFrequencies:[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350,void 0,void 0,-1]},h=[void 0,["front-center"],["front-left","front-right"],["front-center","front-left","front-right"],["front-center","front-left","front-right","back-center"],["front-center","front-left","front-right","back-left","back-right"],["front-center","front-left","front-right","back-left","back-right","LFE-channel"],["front-center","front-left","front-right","side-left","side-right","back-left","back-right","LFE-channel"]],d=function(){function e(t,n){_classCallCheck(this,e),this.versionIndex=s.default.getBitAllignedNumber(t,n+1,3,2),this.layer=e.LayerDescription[s.default.getBitAllignedNumber(t,n+1,5,2)],this.versionIndex>1&&0===this.layer?this.parseAdtsHeader(t,n):this.parseMpegHeader(t,n),this.isProtectedByCRC=!s.default.isBitSet(t,n+1,7)}return _createClass(e,[{key:"calcDuration",value:function(e){return e*this.calcSamplesPerFrame()/this.samplingRate}},{key:"calcSamplesPerFrame",value:function(){return e.samplesInFrameTable[1===this.version?0:1][this.layer]}},{key:"calculateSideInfoLength",value:function(){if(3!==this.layer)return 2;if(3===this.channelModeIndex){if(1===this.version)return 17;if(2===this.version||2.5===this.version)return 9}else{if(1===this.version)return 32;if(2===this.version||2.5===this.version)return 17}}},{key:"calcSlotSize",value:function(){return[null,4,1,1][this.layer]}},{key:"parseMpegHeader",value:function(t,n){this.container="MPEG",this.bitrateIndex=s.default.getBitAllignedNumber(t,n+2,0,4),this.sampRateFreqIndex=s.default.getBitAllignedNumber(t,n+2,4,2),this.padding=s.default.isBitSet(t,n+2,6),this.privateBit=s.default.isBitSet(t,n+2,7),this.channelModeIndex=s.default.getBitAllignedNumber(t,n+3,0,2),this.modeExtension=s.default.getBitAllignedNumber(t,n+3,2,2),this.isCopyrighted=s.default.isBitSet(t,n+3,4),this.isOriginalMedia=s.default.isBitSet(t,n+3,5),this.emphasis=s.default.getBitAllignedNumber(t,n+3,7,2),this.version=e.VersionID[this.versionIndex],this.channelMode=e.ChannelMode[this.channelModeIndex],this.codec="MPEG ".concat(this.version," Layer ").concat(this.layer);var r=this.calcBitrate();if(!r)throw new Error("Cannot determine bit-rate");if(this.bitrate=1e3*r,this.samplingRate=this.calcSamplingRate(),null==this.samplingRate)throw new Error("Cannot determine sampling-rate")}},{key:"parseAdtsHeader",value:function(e,t){l("layer=0 => ADTS"),this.version=2===this.versionIndex?4:2,this.container="ADTS/MPEG-"+this.version;var n=s.default.getBitAllignedNumber(e,t+2,0,2);this.codec="AAC",this.codecProfile=f.AudioObjectTypes[n],l("MPEG-4 audio-codec=".concat(this.codec));var r=s.default.getBitAllignedNumber(e,t+2,2,4);this.samplingRate=f.SamplingFrequencies[r],l("sampling-rate=".concat(this.samplingRate));var a=s.default.getBitAllignedNumber(e,t+2,7,3);this.mp4ChannelConfig=h[a],l("channel-config=".concat(this.mp4ChannelConfig.join("+"))),this.frameLength=s.default.getBitAllignedNumber(e,t+3,6,2)<<11}},{key:"calcBitrate",value:function(){if(0!==this.bitrateIndex&&15!==this.bitrateIndex){var t="".concat(Math.floor(this.version)).concat(this.layer);return e.bitrate_index[this.bitrateIndex][t]}}},{key:"calcSamplingRate",value:function(){return 3===this.sampRateFreqIndex?null:e.sampling_rate_freq_index[this.version][this.sampRateFreqIndex]}}]),e}();d.SyncByte1=255,d.SyncByte2=224,d.VersionID=[2.5,null,2,1],d.LayerDescription=[0,3,2,1],d.ChannelMode=["stereo","joint_stereo","dual_channel","mono"],d.bitrate_index={1:{11:32,12:32,13:32,21:32,22:8,23:8},2:{11:64,12:48,13:40,21:48,22:16,23:16},3:{11:96,12:56,13:48,21:56,22:24,23:24},4:{11:128,12:64,13:56,21:64,22:32,23:32},5:{11:160,12:80,13:64,21:80,22:40,23:40},6:{11:192,12:96,13:80,21:96,22:48,23:48},7:{11:224,12:112,13:96,21:112,22:56,23:56},8:{11:256,12:128,13:112,21:128,22:64,23:64},9:{11:288,12:160,13:128,21:144,22:80,23:80},10:{11:320,12:192,13:160,21:160,22:96,23:96},11:{11:352,12:224,13:192,21:176,22:112,23:112},12:{11:384,12:256,13:224,21:192,22:128,23:128},13:{11:416,12:320,13:256,21:224,22:144,23:144},14:{11:448,12:384,13:320,21:256,22:160,23:160}},d.sampling_rate_freq_index={1:{0:44100,1:48e3,2:32e3},2:{0:22050,1:24e3,2:16e3},2.5:{0:11025,1:12e3,2:8e3}},d.samplesInFrameTable=[[0,384,1152,1152],[0,384,1152,576]],t.MpegParser=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments)).frameCount=0,e.syncFrameCount=-1,e.countSkipFrameData=0,e.totalDataLength=0,e.bitrates=[],e.calculateEofDuration=!1,e.buf_frame_header=Buffer.alloc(4),e.syncPeek={buf:Buffer.alloc(1024),len:0},e}return _createClass(n,[{key:"_parse",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n,r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.metadata.setFormat("lossless",!1),t.prev=1,n=!1;case 3:if(n){t.next=11;break}return t.next=6,e.sync();case 6:return t.next=8,e.parseCommonMpegHeader();case 8:n=t.sent;case 9:t.next=3;break;case 11:t.next=18;break;case 13:if(t.prev=13,t.t0=t.catch(1),t.t0 instanceof i.EndOfStreamError){t.next=17;break}throw t.t0;case 17:l("End-of-stream"),e.calculateEofDuration&&(r=e.frameCount*e.samplesPerFrame,e.metadata.setFormat("numberOfSamples",r),a=r/e.metadata.format.sampleRate,l("Calculate duration at EOF: ".concat(a," sec."),a),e.metadata.setFormat("duration",a));case 18:case"end":return t.stop()}},t,null,[[1,13]])}))()}},{key:"finalize",value:function(){var e=this.metadata.format,t=this.metadata.native.hasOwnProperty("ID3v1");if(e.duration&&this.tokenizer.fileInfo.size){var n=this.tokenizer.fileInfo.size-this.mpegOffset-(t?128:0);e.codecProfile&&"V"===e.codecProfile[0]&&this.metadata.setFormat("bitrate",8*n/e.duration)}else if(this.tokenizer.fileInfo.size&&"CBR"===e.codecProfile){var r=Math.round((this.tokenizer.fileInfo.size-this.mpegOffset-(t?128:0))/this.frame_size)*this.samplesPerFrame;this.metadata.setFormat("numberOfSamples",r);var a=r/e.sampleRate;l("Calculate CBR duration based on file size: %s",a),this.metadata.setFormat("duration",a)}}},{key:"sync",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=!1;case 1:return r=0,t.next=4,e.tokenizer.peekBuffer(e.syncPeek.buf,{length:1024,mayBeLess:!0});case 4:if(e.syncPeek.len=t.sent,!(e.syncPeek.len<=163)){t.next=7;break}throw new i.EndOfStreamError;case 7:if(!n||224!=(224&e.syncPeek.buf[r])){t.next=15;break}return e.buf_frame_header[0]=d.SyncByte1,e.buf_frame_header[1]=e.syncPeek.buf[r],t.next=12,e.tokenizer.ignore(r);case 12:return l("Sync at offset=".concat(e.tokenizer.position-1,", frameCount=").concat(e.frameCount)),e.syncFrameCount===e.frameCount&&(l("Re-synced MPEG stream, frameCount=".concat(e.frameCount)),e.frameCount=0,e.frame_size=0),t.abrupt("return",void(e.syncFrameCount=e.frameCount));case 15:if(n=!1,-1!==(r=e.syncPeek.buf.indexOf(d.SyncByte1,r))){t.next=21;break}if(!(e.syncPeek.len<e.syncPeek.buf.length)){t.next=18;break}throw new i.EndOfStreamError;case 18:return t.next=20,e.tokenizer.ignore(e.syncPeek.len);case 20:return t.abrupt("break",24);case 21:++r,n=!0;case 22:t.next=7;break;case 24:t.next=1;break;case 26:case"end":return t.stop()}},t)}))()}},{key:"parseCommonMpegHeader",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return 0===e.frameCount&&(e.mpegOffset=e.tokenizer.position-1),t.next=3,e.tokenizer.peekBuffer(e.buf_frame_header,{offset:1,length:3});case 3:t.prev=3,n=new d(e.buf_frame_header,0),t.next=13;break;case 7:return t.prev=7,t.t0=t.catch(3),t.next=11,e.tokenizer.ignore(1);case 11:return e.metadata.addWarning("Parse error: "+t.t0.message),t.abrupt("return",!1);case 13:return t.next=15,e.tokenizer.ignore(3);case 15:return e.metadata.setFormat("container",n.container),e.metadata.setFormat("codec",n.codec),e.metadata.setFormat("lossless",!1),e.metadata.setFormat("sampleRate",n.samplingRate),e.frameCount++,t.abrupt("return",n.version>=2&&0===n.layer?e.parseAdts(n):e.parseAudioFrameHeader(n));case 21:case"end":return t.stop()}},t,null,[[3,7]])}))()}},{key:"parseAudioFrameHeader",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.metadata.setFormat("numberOfChannels","mono"===e.channelMode?1:2),t.metadata.setFormat("bitrate",e.bitrate),t.frameCount<2e5&&l("offset=%s MP%s bitrate=%s sample-rate=%s",t.tokenizer.position-4,e.layer,e.bitrate,e.samplingRate),null!==(r=e.calcSlotSize())){n.next=4;break}throw new Error("invalid slot_size");case 4:if(a=e.calcSamplesPerFrame(),l("samples_per_frame=".concat(a)),t.frame_size=Math.floor(a/8*e.bitrate/e.samplingRate+(e.padding?r:0)),t.audioFrameHeader=e,t.bitrates.push(e.bitrate),1!==t.frameCount){n.next=10;break}return t.offset=4,n.next=9,t.skipSideInformation();case 9:return n.abrupt("return",!1);case 10:if(3!==t.frameCount){n.next=20;break}if(!t.areAllSame(t.bitrates)){n.next=16;break}if(t.samplesPerFrame=a,t.metadata.setFormat("codecProfile","CBR"),!t.tokenizer.fileInfo.size){n.next=14;break}return n.abrupt("return",!0);case 14:n.next=18;break;case 16:if(!t.metadata.format.duration){n.next=18;break}return n.abrupt("return",!0);case 18:if(t.options.duration){n.next=20;break}return n.abrupt("return",!0);case 20:if(t.options.duration&&4===t.frameCount&&(t.samplesPerFrame=a,t.calculateEofDuration=!0),t.offset=4,!e.isProtectedByCRC){n.next=28;break}return n.next=25,t.parseCrc();case 25:n.t0=!1,n.next=31;break;case 28:return n.next=30,t.skipSideInformation();case 30:n.t0=!1;case 31:return n.abrupt("return",n.t0);case 32:case"end":return n.stop()}},n)}))()}},{key:"parseAdts",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=Buffer.alloc(3),n.next=3,t.tokenizer.readBuffer(r);case 3:return e.frameLength+=s.default.getBitAllignedNumber(r,0,0,11),t.totalDataLength+=e.frameLength,t.samplesPerFrame=1024,a=8*(0===t.frameCount?0:t.totalDataLength/t.frameCount)*(e.samplingRate/t.samplesPerFrame)+.5,t.metadata.setFormat("bitrate",a),l("frame-count=".concat(t.frameCount,", size=").concat(e.frameLength," bytes, bit-rate=").concat(a)),n.next=11,t.tokenizer.ignore(e.frameLength>7?e.frameLength-7:1);case 11:if(3!==t.frameCount){n.next=15;break}if(t.metadata.setFormat("codecProfile",e.codecProfile),e.mp4ChannelConfig&&t.metadata.setFormat("numberOfChannels",e.mp4ChannelConfig.length),t.options.duration){n.next=14;break}return n.abrupt("return",!0);case 14:t.calculateEofDuration=!0;case 15:return n.abrupt("return",!1);case 16:case"end":return n.stop()}},n)}))()}},{key:"parseCrc",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.tokenizer.readNumber(a.INT16_BE);case 2:return e.crc=t.sent,e.offset+=2,t.abrupt("return",e.skipSideInformation());case 5:case"end":return t.stop()}},t)}))()}},{key:"skipSideInformation",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.audioFrameHeader.calculateSideInfoLength(),t.next=3,e.tokenizer.readToken(new a.BufferType(n));case 3:return e.offset+=n,t.next=6,e.readXtraInfoHeader();case 6:case"end":return t.stop()}},t)}))()}},{key:"readXtraInfoHeader",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n,r,a,i,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.tokenizer.readToken(c.InfoTagHeaderTag);case 2:n=t.sent,t.t0=(e.offset+=c.InfoTagHeaderTag.len,n),t.next="Info"===t.t0?6:"Xing"===t.t0?7:"Xtra"===t.t0?12:"LAME"===t.t0?13:23;break;case 6:return t.abrupt("return",(e.metadata.setFormat("codecProfile","CBR"),e.readXingInfoHeader()));case 7:return t.next=9,e.readXingInfoHeader();case 9:return r=t.sent,a="V"+Math.floor((100-r.vbrScale)/10),t.abrupt("return",(e.metadata.setFormat("codecProfile",a),null));case 12:return t.abrupt("break",23);case 13:return t.next=15,e.tokenizer.readToken(c.LameEncoderVersion);case 15:if(i=t.sent,!(e.frame_size>=e.offset+c.LameEncoderVersion.len)){t.next=22;break}return e.offset+=c.LameEncoderVersion.len,e.metadata.setFormat("tool","LAME "+i),t.next=21,e.skipFrameData(e.frame_size-e.offset);case 21:return t.abrupt("return",null);case 22:e.metadata.addWarning("Corrupt LAME header");case 23:if(!((o=e.frame_size-e.offset)<0)){t.next=28;break}e.metadata.addWarning("Frame "+e.frameCount+"corrupt: negative frameDataLeft"),t.next=30;break;case 28:return t.next=30,e.skipFrameData(o);case 30:return t.abrupt("return",null);case 31:case"end":return t.stop()}},t)}))()}},{key:"readXingInfoHeader",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n,r,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.tokenizer.position,t.next=3,c.readXingHeader(e.tokenizer);case 3:if(r=t.sent,e.offset+=e.tokenizer.position-n,r.lame&&(e.metadata.setFormat("tool","LAME "+s.default.stripNulls(r.lame.version)),r.lame.extended&&(e.metadata.setFormat("trackPeakLevel",r.lame.extended.track_peak),r.lame.extended.track_gain&&e.metadata.setFormat("trackGain",r.lame.extended.track_gain.adjustment),r.lame.extended.album_gain&&e.metadata.setFormat("albumGain",r.lame.extended.album_gain.adjustment),e.metadata.setFormat("duration",r.lame.extended.music_length/1e3))),!r.streamSize){t.next=7;break}return a=e.audioFrameHeader.calcDuration(r.numFrames),t.abrupt("return",(e.metadata.setFormat("duration",a),l("Get duration from Xing header: %s",e.metadata.format.duration),r));case 7:return i=e.frame_size-e.offset,t.next=10,e.skipFrameData(i);case 10:return t.abrupt("return",r);case 11:case"end":return t.stop()}},t)}))()}},{key:"skipFrameData",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(e<0)){n.next=2;break}throw new Error("frame-data-left cannot be negative");case 2:return n.next=4,t.tokenizer.ignore(e);case 4:t.countSkipFrameData+=e;case 5:case"end":return n.stop()}},n)}))()}},{key:"areAllSame",value:function(e){var t=e[0];return e.every(function(e){return e===t})}}]),n}(u.AbstractID3Parser)},5956:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReplayGain=void 0;var r,a,i=n(4446);!function(e){e[e.not_set=0]="not_set",e[e.radio=1]="radio",e[e.audiophile=2]="audiophile"}(r||(r={})),function(e){e[e.unspecified=0]="unspecified",e[e.engineer=1]="engineer",e[e.user=2]="user",e[e.automatic=3]="automatic",e[e.rms_average=4]="rms_average"}(a||(a={})),t.ReplayGain={len:2,get:function(e,t){var n=i.default.getBitAllignedNumber(e,t,0,3),r=i.default.getBitAllignedNumber(e,t,6,1),a=i.default.getBitAllignedNumber(e,t,7,9)/10;if(n>0)return{type:i.default.getBitAllignedNumber(e,t,0,3),origin:i.default.getBitAllignedNumber(e,t,3,3),adjustment:r?-a:a}}}},5003:function(e,t,n){"use strict";var r=n(1052).default;Object.defineProperty(t,"__esModule",{value:!0}),t.readXingHeader=t.XingHeaderFlags=t.LameEncoderVersion=t.InfoTagHeaderTag=void 0;var a=n(5148),i=n(4446),o=n(2054);function s(){return(s=r(regeneratorRuntime.mark(function e(n){var r,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.readToken(t.XingHeaderFlags);case 2:if(r=e.sent,i={},e.t0=r.frames,!e.t0){e.next=9;break}return e.next=8,n.readToken(a.UINT32_BE);case 8:i.numFrames=e.sent;case 9:if(e.t1=r.bytes,!e.t1){e.next=14;break}return e.next=13,n.readToken(a.UINT32_BE);case 13:i.streamSize=e.sent;case 14:if(e.t2=r.toc,!e.t2){e.next=19;break}return i.toc=Buffer.alloc(100),e.next=19,n.readBuffer(i.toc);case 19:if(e.t3=r.vbrScale,!e.t3){e.next=24;break}return e.next=23,n.readToken(a.UINT32_BE);case 23:i.vbrScale=e.sent;case 24:return e.next=26,n.peekToken(new a.StringType(4,"ascii"));case 26:if(e.t5=e.sent,e.t4="LAME"===e.t5,!e.t4){e.next=36;break}return e.next=31,n.ignore(4);case 31:return e.next=33,n.readToken(new a.StringType(5,"ascii"));case 33:e.t6=e.sent,i.lame={version:e.t6},e.t4=i.lame.version.match(/\d+.\d+/g);case 36:if(!e.t4){e.next=43;break}if(s=i.lame.version.match(/\d+.\d+/g)[0].split(".").map(function(e){return parseInt(e,10)}),e.t7=s[0]>=3&&s[1]>=90,!e.t7){e.next=43;break}return e.next=42,n.readToken(o.ExtendedLameHeader);case 42:i.lame.extended=e.sent;case 43:return e.abrupt("return",i);case 44:case"end":return e.stop()}},e)}))).apply(this,arguments)}t.InfoTagHeaderTag=new a.StringType(4,"ascii"),t.LameEncoderVersion=new a.StringType(6,"ascii"),t.XingHeaderFlags={len:4,get:function(e,t){return{frames:i.default.isBitSet(e,t,31),bytes:i.default.isBitSet(e,t,30),toc:i.default.isBitSet(e,t,29),vbrScale:i.default.isBitSet(e,t,28)}}},t.readXingHeader=function(e){return s.apply(this,arguments)}},946:function(e,t,n){"use strict";var r=n(1052).default;Object.defineProperty(t,"__esModule",{value:!0});var a=n(7807),i=n(5148),o=n(4756),s=n(1823),u=n(9655),c=a("music-metadata:parser:musepack");t.default=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_parse",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.tokenizer.peekToken(new i.StringType(3,"binary"));case 2:t.t0=t.sent,t.next="MP+"===t.t0?5:"MPC"===t.t0?7:9;break;case 5:return c("Musepack stream-version 7"),n=new s.MpcSv7Parser,t.abrupt("break",10);case 7:return c("Musepack stream-version 8"),n=new o.MpcSv8Parser,t.abrupt("break",10);case 9:throw new Error("Invalid Musepack signature prefix");case 10:return t.abrupt("return",(n.init(e.metadata,e.tokenizer,e.options),n.parse()));case 11:case"end":return t.stop()}},t)}))()}}]),n}(u.AbstractID3Parser)},7415:function(e,t,n){"use strict";var r=n(1052).default;Object.defineProperty(t,"__esModule",{value:!0}),t.BitReader=void 0;var a=n(5148);t.BitReader=function(){function e(t){_classCallCheck(this,e),this.tokenizer=t,this.pos=0,this.dword=void 0}return _createClass(e,[{key:"read",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==t.dword){n.next=6;break}return n.next=3,t.tokenizer.readToken(a.UINT32_LE);case 3:t.dword=n.sent;case 4:n.next=0;break;case 6:if(r=t.dword,t.pos+=e,!(t.pos<32)){n.next=12;break}n.t0=(r>>>=32-t.pos)&(1<<e)-1,n.next=23;break;case 12:if(t.pos-=32,0!==t.pos){n.next=17;break}n.t1=(t.dword=void 0,r&(1<<e)-1),n.next=22;break;case 17:return n.next=19,t.tokenizer.readToken(a.UINT32_LE);case 19:t.dword=n.sent,t.pos&&(r<<=t.pos,r|=t.dword>>>32-t.pos),n.t1=r&(1<<e)-1;case 22:n.t0=n.t1;case 23:return n.abrupt("return",n.t0);case 24:case"end":return n.stop()}},n)}))()}},{key:"ignore",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t.pos>0&&(r=32-t.pos,t.dword=void 0,e-=r,t.pos=0),i=(e-(a=e%32))/32,n.next=4,t.tokenizer.ignore(4*i);case 4:return n.abrupt("return",t.read(a));case 5:case"end":return n.stop()}},n)}))()}}]),e}()},1823:function(e,t,n){"use strict";var r=n(1052).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MpcSv7Parser=void 0;var a=n(7807),i=n(2181),o=n(6056),s=n(2230),u=n(7415),c=a("music-metadata:parser:musepack");t.MpcSv7Parser=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments)).audioLength=0,e}return _createClass(n,[{key:"parse",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n,r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.tokenizer.readToken(o.Header);case 2:if("MP+"===(n=t.sent).signature){t.next=5;break}throw new Error("Unexpected magic number");case 5:return c("stream-version=".concat(n.streamMajorVersion,".").concat(n.streamMinorVersion)),e.metadata.setFormat("container","Musepack, SV7"),e.metadata.setFormat("sampleRate",n.sampleFrequency),r=1152*(n.frameCount-1)+n.lastFrameLength,e.metadata.setFormat("numberOfSamples",r),e.duration=r/n.sampleFrequency,e.metadata.setFormat("duration",e.duration),e.bitreader=new u.BitReader(e.tokenizer),e.metadata.setFormat("numberOfChannels",n.midSideStereo||n.intensityStereo?2:1),t.next=10,e.bitreader.read(8);case 10:return a=t.sent,e.metadata.setFormat("codec",(a/100).toFixed(2)),t.next=14,e.skipAudioData(n.frameCount);case 14:return c("End of audio stream, switching to APEv2, offset=".concat(e.tokenizer.position)),t.abrupt("return",s.APEv2Parser.tryParseApeHeader(e.metadata,e.tokenizer,e.options));case 16:case"end":return t.stop()}},t)}))()}},{key:"skipAudioData",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(e-- >0)){n.next=9;break}return n.next=3,t.bitreader.read(20);case 3:return r=n.sent,t.audioLength+=20+r,n.next=7,t.bitreader.ignore(r);case 7:n.next=0;break;case 9:return n.next=11,t.bitreader.read(11);case 11:a=n.sent,t.audioLength+=a,t.metadata.setFormat("bitrate",t.audioLength/t.duration);case 13:case"end":return n.stop()}},n)}))()}}]),n}(i.BasicParser)},6056:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0;var r=n(5148),a=n(4446);t.Header={len:24,get:function(e,t){var n={signature:e.toString("binary",t,t+3),streamMinorVersion:a.default.getBitAllignedNumber(e,t+3,0,4),streamMajorVersion:a.default.getBitAllignedNumber(e,t+3,4,4),frameCount:r.UINT32_LE.get(e,t+4),maxLevel:r.UINT16_LE.get(e,t+8),sampleFrequency:[44100,48e3,37800,32e3][a.default.getBitAllignedNumber(e,t+10,0,2)],link:a.default.getBitAllignedNumber(e,t+10,2,2),profile:a.default.getBitAllignedNumber(e,t+10,4,4),maxBand:a.default.getBitAllignedNumber(e,t+11,0,6),intensityStereo:a.default.isBitSet(e,t+11,6),midSideStereo:a.default.isBitSet(e,t+11,7),titlePeak:r.UINT16_LE.get(e,t+12),titleGain:r.UINT16_LE.get(e,t+14),albumPeak:r.UINT16_LE.get(e,t+16),albumGain:r.UINT16_LE.get(e,t+18),lastFrameLength:r.UINT32_LE.get(e,t+20)>>>20&2047,trueGapless:a.default.isBitSet(e,t+23,0)};return n.lastFrameLength=n.trueGapless?r.UINT32_LE.get(e,20)>>>20&2047:0,n}}},4756:function(e,t,n){"use strict";var r=n(1052).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MpcSv8Parser=void 0;var a=n(7807),i=n(2181),o=n(8746),s=n(2230),u=n(9548),c=a("music-metadata:parser:musepack");t.MpcSv8Parser=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments)).audioLength=0,e}return _createClass(n,[{key:"parse",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.tokenizer.readToken(u.FourCcToken);case 2:if(t.t0=t.sent,"MPCK"===t.t0){t.next=5;break}throw new Error("Invalid Magic number");case 5:return t.abrupt("return",(e.metadata.setFormat("container","Musepack, SV8"),e.parsePacket()));case 6:case"end":return t.stop()}},t)}))()}},{key:"parsePacket",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n,r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=new o.StreamReader(e.tokenizer);case 1:return t.next=3,n.readPacketHeader();case 3:r=t.sent,t.t0=(c("packet-header key=".concat(r.key,", payloadLength=").concat(r.payloadLength)),r.key),t.next="SH"===t.t0?7:"AP"===t.t0?12:"RG"===t.t0||"EI"===t.t0||"SO"===t.t0||"ST"===t.t0||"CT"===t.t0?16:"SE"===t.t0?19:20;break;case 7:return t.next=9,n.readStreamHeader(r.payloadLength);case 9:return a=t.sent,e.metadata.setFormat("numberOfSamples",a.sampleCount),e.metadata.setFormat("sampleRate",a.sampleFrequency),e.metadata.setFormat("duration",a.sampleCount/a.sampleFrequency),e.metadata.setFormat("numberOfChannels",a.channelCount),t.abrupt("break",21);case 12:return e.audioLength+=r.payloadLength,t.next=15,e.tokenizer.ignore(r.payloadLength);case 15:return t.abrupt("break",21);case 16:return t.next=18,e.tokenizer.ignore(r.payloadLength);case 18:return t.abrupt("break",21);case 19:return t.abrupt("return",(e.metadata.setFormat("bitrate",8*e.audioLength/e.metadata.format.duration),s.APEv2Parser.tryParseApeHeader(e.metadata,e.tokenizer,e.options)));case 20:throw new Error("Unexpected header: ".concat(r.key));case 21:t.next=1;break;case 23:case"end":return t.stop()}},t)}))()}}]),n}(i.BasicParser)},8746:function(e,t,n){"use strict";var r=n(1052).default;Object.defineProperty(t,"__esModule",{value:!0}),t.StreamReader=void 0;var a=n(5148),i=n(4446),o=n(7807)("music-metadata:parser:musepack:sv8"),s=new a.StringType(2,"binary"),u={len:5,get:function(e,t){return{crc:a.UINT32_LE.get(e,t),streamVersion:a.UINT8.get(e,t+4)}}},c={len:2,get:function(e,t){return{sampleFrequency:[44100,48e3,37800,32e3][i.default.getBitAllignedNumber(e,t,0,3)],maxUsedBands:i.default.getBitAllignedNumber(e,t,3,5),channelCount:i.default.getBitAllignedNumber(e,t+1,0,4)+1,msUsed:i.default.isBitSet(e,t+1,4),audioBlockFrames:i.default.getBitAllignedNumber(e,t+1,5,3)}}};t.StreamReader=function(){function e(t){_classCallCheck(this,e),this.tokenizer=t}return _createClass(e,[{key:"readPacketHeader",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.tokenizer.readToken(s);case 2:return n=t.sent,t.next=5,e.readVariableSizeField();case 5:return r=t.sent,t.abrupt("return",{key:n,payloadLength:r.value-2-r.len});case 7:case"end":return t.stop()}},t)}))()}},{key:"readStreamHeader",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a,i,s,l;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r={},o("Reading SH at offset=".concat(t.tokenizer.position)),n.next=4,t.tokenizer.readToken(u);case 4:return a=n.sent,e-=u.len,Object.assign(r,a),o("SH.streamVersion = ".concat(a.streamVersion)),n.next=8,t.readVariableSizeField();case 8:return i=n.sent,e-=i.len,r.sampleCount=i.value,n.next=12,t.readVariableSizeField();case 12:return s=n.sent,e-=s.len,r.beginningOfSilence=s.value,n.next=16,t.tokenizer.readToken(c);case 16:return l=n.sent,e-=c.len,Object.assign(r,l),n.next=21,t.tokenizer.ignore(e);case 21:return n.abrupt("return",r);case 22:case"end":return n.stop()}},n)}))()}},{key:"readVariableSizeField",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this;return r(regeneratorRuntime.mark(function r(){var i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.tokenizer.readNumber(a.UINT8);case 2:return i=r.sent,r.abrupt("return",0==(128&i)?{len:e,value:t+i}:(i&=127,i+=t,n.readVariableSizeField(e+1,i<<7)));case 4:case"end":return r.stop()}},r)}))()}}]),e}()},6832:function(e,t,n){"use strict";var r=n(1052).default;Object.defineProperty(t,"__esModule",{value:!0}),t.OggParser=t.SegmentTable=void 0;var a=n(5148),i=n(7807),o=n(4446),s=n(9548),u=n(9321),c=n(394),l=n(9477),f=n(2181),h=n(2769),d=n(4074),p=i("music-metadata:parser:ogg"),m=function(){function e(t){_classCallCheck(this,e),this.len=t.page_segments}return _createClass(e,[{key:"get",value:function(t,n){return{totalPageSize:e.sum(t,n,this.len)}}}],[{key:"sum",value:function(e,t,n){for(var r=0,a=t;a<t+n;++a)r+=e[a];return r}}]),e}();t.SegmentTable=m;var v=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"parse",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var r,i,o,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:p("pos=%s, parsePage()",e.tokenizer.position),t.prev=1;case 2:return t.next=4,e.tokenizer.readToken(n.Header);case 4:if("OggS"===(r=t.sent).capturePattern){t.next=7;break}throw new Error("Invalid Ogg capture pattern");case 7:return e.metadata.setFormat("container","Ogg"),e.header=r,e.pageNumber=r.pageSequenceNo,p("page#=%s, Ogg.id=%s",r.pageSequenceNo,r.capturePattern),t.next=10,e.tokenizer.readToken(new m(r));case 10:return i=t.sent,p("totalPageSize=%s",i.totalPageSize),t.next=14,e.tokenizer.readToken(new a.BufferType(i.totalPageSize));case 14:if(o=t.sent,p("firstPage=%s, lastPage=%s, continued=%s",r.headerType.firstPage,r.headerType.lastPage,r.headerType.continued),!r.headerType.firstPage){t.next=29;break}s=new a.StringType(7,"ascii").get(o,0),t.t0=s,t.next="\x01vorbis"===t.t0?20:"OpusHea"===t.t0?22:"Speex  "===t.t0?24:"fishead"===t.t0||"\0theora"===t.t0?26:28;break;case 20:return p("Set page consumer to Ogg/Vorbis"),e.pageConsumer=new u.VorbisParser(e.metadata,e.options),t.abrupt("break",29);case 22:return p("Set page consumer to Ogg/Opus"),e.pageConsumer=new c.OpusParser(e.metadata,e.options,e.tokenizer),t.abrupt("break",29);case 24:return p("Set page consumer to Ogg/Speex"),e.pageConsumer=new l.SpeexParser(e.metadata,e.options,e.tokenizer),t.abrupt("break",29);case 26:return p("Set page consumer to Ogg/Theora"),e.pageConsumer=new h.TheoraParser(e.metadata,e.options,e.tokenizer),t.abrupt("break",29);case 28:throw new Error("gg audio-codec not recognized (id="+s+")");case 29:e.pageConsumer.parsePage(r,o);case 30:if(!r.headerType.lastPage){t.next=2;break}case 31:t.next=42;break;case 33:if(t.prev=33,t.t1=t.catch(1),!(t.t1 instanceof d.EndOfStreamError)){t.next=39;break}e.metadata.addWarning("Last OGG-page is not marked with last-page flag"),p("End-of-stream"),e.metadata.addWarning("Last OGG-page is not marked with last-page flag"),e.header&&e.pageConsumer.calculateDuration(e.header),t.next=42;break;case 39:if(t.t1.message.startsWith("FourCC")){t.next=41;break}throw t.t1;case 41:e.pageNumber>0&&(e.metadata.addWarning("Invalid FourCC ID, maybe last OGG-page is not marked with last-page flag"),e.pageConsumer.flush());case 42:case"end":return t.stop()}},t,null,[[1,33]])}))()}}]),n}(f.BasicParser);t.OggParser=v,v.Header={len:27,get:function(e,t){return{capturePattern:s.FourCcToken.get(e,t),version:e.readUInt8(t+4),headerType:{continued:o.default.strtokBITSET.get(e,t+5,0),firstPage:o.default.strtokBITSET.get(e,t+5,1),lastPage:o.default.strtokBITSET.get(e,t+5,2)},absoluteGranulePosition:e.readIntLE(t+6,6),streamSerialNumber:a.UINT32_LE.get(e,t+14),pageSequenceNo:a.UINT32_LE.get(e,t+18),pageChecksum:a.UINT32_LE.get(e,t+22),page_segments:e.readUInt8(t+26)}}}},9526:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IdHeader=void 0;var r=n(5148);t.IdHeader=function(){function e(t){if(_classCallCheck(this,e),this.len=t,t<19)throw new Error("ID-header-page 0 should be at least 19 bytes long")}return _createClass(e,[{key:"get",value:function(e,t){return{magicSignature:new r.StringType(8,"ascii").get(e,t+0),version:e.readUInt8(t+8),channelCount:e.readUInt8(t+9),preSkip:e.readInt16LE(t+10),inputSampleRate:e.readInt32LE(t+12),outputGain:e.readInt16LE(t+16),channelMapping:e.readUInt8(t+18)}}}]),e}()},394:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpusParser=void 0;var r=n(5148),a=n(9526),i=n(9321);t.OpusParser=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,a){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).tokenizer=a,i.lastPos=-1,i}return _createClass(n,[{key:"parseFirstPage",value:function(e,t){if(this.metadata.setFormat("codec","Opus"),this.idHeader=new a.IdHeader(t.length).get(t,0),"OpusHead"!==this.idHeader.magicSignature)throw new Error("Illegal ogg/Opus magic-signature");this.metadata.setFormat("sampleRate",this.idHeader.inputSampleRate),this.metadata.setFormat("numberOfChannels",this.idHeader.channelCount)}},{key:"parseFullPage",value:function(e){switch(new r.StringType(8,"ascii").get(e,0)){case"OpusTags":this.parseUserCommentList(e,8),this.lastPos=this.tokenizer.position-e.length}}},{key:"calculateDuration",value:function(e){if(this.metadata.format.sampleRate&&e.absoluteGranulePosition>=0){var t=e.absoluteGranulePosition-this.idHeader.preSkip;this.metadata.setFormat("numberOfSamples",t),this.metadata.setFormat("duration",t/48e3),-1!==this.lastPos&&this.tokenizer.fileInfo.size&&this.metadata.format.duration&&this.metadata.setFormat("bitrate",8*(this.tokenizer.fileInfo.size-this.lastPos)/this.metadata.format.duration)}}}]),n}(i.VorbisParser)},5946:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0;var r=n(5148),a=n(4446);t.Header={len:80,get:function(e,t){return{speex:new r.StringType(8,"ascii").get(e,t+0),version:a.default.trimRightNull(new r.StringType(20,"ascii").get(e,t+8)),version_id:e.readInt32LE(t+28),header_size:e.readInt32LE(t+32),rate:e.readInt32LE(t+36),mode:e.readInt32LE(t+40),mode_bitstream_version:e.readInt32LE(t+44),nb_channels:e.readInt32LE(t+48),bitrate:e.readInt32LE(t+52),frame_size:e.readInt32LE(t+56),vbr:e.readInt32LE(t+60),frames_per_packet:e.readInt32LE(t+64),extra_headers:e.readInt32LE(t+68),reserved1:e.readInt32LE(t+72),reserved2:e.readInt32LE(t+76)}}}},9477:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeexParser=void 0;var r=n(7807),a=n(5946),i=n(9321),o=r("music-metadata:parser:ogg:speex");t.SpeexParser=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,a){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).tokenizer=a,i}return _createClass(n,[{key:"parseFirstPage",value:function(e,t){o("First Ogg/Speex page");var n=a.Header.get(t,0);this.metadata.setFormat("codec","Speex ".concat(n.version)),this.metadata.setFormat("numberOfChannels",n.nb_channels),this.metadata.setFormat("sampleRate",n.rate),-1!==n.bitrate&&this.metadata.setFormat("bitrate",n.bitrate)}}]),n}(i.VorbisParser)},5415:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IdentificationHeader=void 0;var r=n(5148);t.IdentificationHeader={len:42,get:function(e,t){return{id:new r.StringType(7,"ascii").get(e,t),vmaj:e.readUInt8(t+7),vmin:e.readUInt8(t+8),vrev:e.readUInt8(t+9),vmbw:e.readUInt16BE(t+10),vmbh:e.readUInt16BE(t+17),nombr:r.UINT24_BE.get(e,t+37),nqual:e.readUInt8(t+40)}}}},2769:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TheoraParser=void 0;var r=n(7807),a=n(5415),i=r("music-metadata:parser:ogg:theora");t.TheoraParser=function(){function e(t,n,r){_classCallCheck(this,e),this.metadata=t,this.tokenizer=r}return _createClass(e,[{key:"parsePage",value:function(e,t){e.headerType.firstPage&&this.parseFirstPage(e,t)}},{key:"flush",value:function(){i("flush")}},{key:"calculateDuration",value:function(e){i("duration calculation not implemented")}},{key:"parseFirstPage",value:function(e,t){i("First Ogg/Theora page"),this.metadata.setFormat("codec","Theora");var n=a.IdentificationHeader.get(t,0);this.metadata.setFormat("bitrate",n.nombr)}}]),e}()},63:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IdentificationHeader=t.CommonHeader=t.VorbisPictureToken=void 0;var r=n(5148),a=n(7899),i=function(){function e(t){_classCallCheck(this,e),this.len=t}return _createClass(e,[{key:"get",value:function(e,t){var n=a.AttachedPictureType[r.UINT32_BE.get(e,t)],i=r.UINT32_BE.get(e,t+=4),o=e.toString("utf-8",t+=4,t+i),s=r.UINT32_BE.get(e,t+=i),u=e.toString("utf-8",t+=4,t+s),c=r.UINT32_BE.get(e,t+=s),l=r.UINT32_BE.get(e,t+=4),f=r.UINT32_BE.get(e,t+=4),h=r.UINT32_BE.get(e,t+=4),d=r.UINT32_BE.get(e,t+=4);return{type:n,format:o,description:u,width:c,height:l,colour_depth:f,indexed_color:h,data:Buffer.from(e.slice(t+=4,t+d))}}}],[{key:"fromBase64",value:function(e){return this.fromBuffer(Buffer.from(e,"base64"))}},{key:"fromBuffer",value:function(t){return new e(t.length).get(t,0)}}]),e}();t.VorbisPictureToken=i,t.CommonHeader={len:7,get:function(e,t){return{packetType:e.readUInt8(t),vorbis:new r.StringType(6,"ascii").get(e,t+1)}}},t.IdentificationHeader={len:23,get:function(e,t){return{version:e.readUInt32LE(t+0),channelMode:e.readUInt8(t+4),sampleRate:e.readUInt32LE(t+5),bitrateMax:e.readUInt32LE(t+9),bitrateNominal:e.readUInt32LE(t+13),bitrateMin:e.readUInt32LE(t+17)}}}},4862:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VorbisDecoder=void 0;var r=n(5148);t.VorbisDecoder=function(){function e(t,n){_classCallCheck(this,e),this.data=t,this.offset=n}return _createClass(e,[{key:"readInt32",value:function(){var e=r.UINT32_LE.get(this.data,this.offset);return this.offset+=4,e}},{key:"readStringUtf8",value:function(){var e=this.readInt32(),t=this.data.toString("utf8",this.offset,this.offset+e);return this.offset+=e,t}},{key:"parseUserComment",value:function(){var e=this.offset,t=this.readStringUtf8(),n=t.indexOf("=");return{key:t.slice(0,n).toUpperCase(),value:t.slice(n+1),len:this.offset-e}}}]),e}()},9321:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VorbisParser=void 0;var r=n(5148),a=n(7807),i=n(4862),o=n(63),s=a("music-metadata:parser:ogg:vorbis1");t.VorbisParser=function(){function e(t,n){_classCallCheck(this,e),this.metadata=t,this.options=n,this.pageSegments=[]}return _createClass(e,[{key:"parsePage",value:function(e,t){if(e.headerType.firstPage)this.parseFirstPage(e,t);else{if(e.headerType.continued){if(0===this.pageSegments.length)throw new Error("Cannot continue on previous page");this.pageSegments.push(t)}if(e.headerType.lastPage||!e.headerType.continued){if(this.pageSegments.length>0){var n=Buffer.concat(this.pageSegments);this.parseFullPage(n)}this.pageSegments=e.headerType.lastPage?[]:[t]}}e.headerType.lastPage&&this.calculateDuration(e)}},{key:"flush",value:function(){this.parseFullPage(Buffer.concat(this.pageSegments))}},{key:"parseUserComment",value:function(e,t){var n=new i.VorbisDecoder(e,t).parseUserComment();return this.addTag(n.key,n.value),n.len}},{key:"addTag",value:function(e,t){if("METADATA_BLOCK_PICTURE"===e&&"string"==typeof t){if(this.options.skipCovers)return void s("Ignore picture");t=o.VorbisPictureToken.fromBase64(t),s("Push picture: id=".concat(e,", format=").concat(t.format))}else s("Push tag: id=".concat(e,", value=").concat(t));this.metadata.addTag("vorbis",e,t)}},{key:"calculateDuration",value:function(e){this.metadata.format.sampleRate&&e.absoluteGranulePosition>=0&&(this.metadata.setFormat("numberOfSamples",e.absoluteGranulePosition),this.metadata.setFormat("duration",this.metadata.format.numberOfSamples/this.metadata.format.sampleRate))}},{key:"parseFirstPage",value:function(e,t){this.metadata.setFormat("codec","Vorbis I"),s("Parse first page");var n=o.CommonHeader.get(t,0);if("vorbis"!==n.vorbis)throw new Error("Metadata does not look like Vorbis");if(1!==n.packetType)throw new Error("First Ogg page should be type 1: the identification header");var r=o.IdentificationHeader.get(t,o.CommonHeader.len);this.metadata.setFormat("sampleRate",r.sampleRate),this.metadata.setFormat("bitrate",r.bitrateNominal),this.metadata.setFormat("numberOfChannels",r.channelMode),s("sample-rate=%s[hz], bitrate=%s[b/s], channel-mode=%s",r.sampleRate,r.bitrateNominal,r.channelMode)}},{key:"parseFullPage",value:function(e){var t=o.CommonHeader.get(e,0);switch(s("Parse full page: type=%s, byteLength=%s",t.packetType,e.byteLength),t.packetType){case 3:return this.parseUserCommentList(e,o.CommonHeader.len)}}},{key:"parseUserCommentList",value:function(e,t){var n=r.UINT32_LE.get(e,t);t+=4;var a=r.UINT32_LE.get(e,t+=n);for(t+=4;a-- >0;)t+=this.parseUserComment(e,t)}}]),e}()},4875:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VorbisTagMapper=void 0;var r=n(8893),a={TITLE:"title",ARTIST:"artist",ARTISTS:"artists",ALBUMARTIST:"albumartist","ALBUM ARTIST":"albumartist",ALBUM:"album",DATE:"date",ORIGINALDATE:"originaldate",ORIGINALYEAR:"originalyear",COMMENT:"comment",TRACKNUMBER:"track",DISCNUMBER:"disk",GENRE:"genre",METADATA_BLOCK_PICTURE:"picture",COMPOSER:"composer",LYRICS:"lyrics",ALBUMSORT:"albumsort",TITLESORT:"titlesort",WORK:"work",ARTISTSORT:"artistsort",ALBUMARTISTSORT:"albumartistsort",COMPOSERSORT:"composersort",LYRICIST:"lyricist",WRITER:"writer",CONDUCTOR:"conductor",REMIXER:"remixer",ARRANGER:"arranger",ENGINEER:"engineer",PRODUCER:"producer",DJMIXER:"djmixer",MIXER:"mixer",LABEL:"label",GROUPING:"grouping",SUBTITLE:"subtitle",DISCSUBTITLE:"discsubtitle",TRACKTOTAL:"totaltracks",DISCTOTAL:"totaldiscs",COMPILATION:"compilation",RATING:"rating",BPM:"bpm",KEY:"key",MOOD:"mood",MEDIA:"media",CATALOGNUMBER:"catalognumber",RELEASESTATUS:"releasestatus",RELEASETYPE:"releasetype",RELEASECOUNTRY:"releasecountry",SCRIPT:"script",LANGUAGE:"language",COPYRIGHT:"copyright",LICENSE:"license",ENCODEDBY:"encodedby",ENCODERSETTINGS:"encodersettings",BARCODE:"barcode",ISRC:"isrc",ASIN:"asin",MUSICBRAINZ_TRACKID:"musicbrainz_recordingid",MUSICBRAINZ_RELEASETRACKID:"musicbrainz_trackid",MUSICBRAINZ_ALBUMID:"musicbrainz_albumid",MUSICBRAINZ_ARTISTID:"musicbrainz_artistid",MUSICBRAINZ_ALBUMARTISTID:"musicbrainz_albumartistid",MUSICBRAINZ_RELEASEGROUPID:"musicbrainz_releasegroupid",MUSICBRAINZ_WORKID:"musicbrainz_workid",MUSICBRAINZ_TRMID:"musicbrainz_trmid",MUSICBRAINZ_DISCID:"musicbrainz_discid",ACOUSTID_ID:"acoustid_id",ACOUSTID_ID_FINGERPRINT:"acoustid_fingerprint",MUSICIP_PUID:"musicip_puid",WEBSITE:"website",NOTES:"notes",TOTALTRACKS:"totaltracks",TOTALDISCS:"totaldiscs",DISCOGS_ARTIST_ID:"discogs_artist_id",DISCOGS_ARTISTS:"artists",DISCOGS_ARTIST_NAME:"artists",DISCOGS_ALBUM_ARTISTS:"albumartist",DISCOGS_CATALOG:"catalognumber",DISCOGS_COUNTRY:"releasecountry",DISCOGS_DATE:"originaldate",DISCOGS_LABEL:"label",DISCOGS_LABEL_ID:"discogs_label_id",DISCOGS_MASTER_RELEASE_ID:"discogs_master_release_id",DISCOGS_RATING:"discogs_rating",DISCOGS_RELEASED:"date",DISCOGS_RELEASE_ID:"discogs_release_id",DISCOGS_VOTES:"discogs_votes",CATALOGID:"catalognumber",STYLE:"genre",REPLAYGAIN_TRACK_GAIN:"replaygain_track_gain",REPLAYGAIN_TRACK_PEAK:"replaygain_track_peak",REPLAYGAIN_ALBUM_GAIN:"replaygain_album_gain",REPLAYGAIN_ALBUM_PEAK:"replaygain_album_peak",REPLAYGAIN_MINMAX:"replaygain_track_minmax",REPLAYGAIN_ALBUM_MINMAX:"replaygain_album_minmax",REPLAYGAIN_UNDO:"replaygain_undo"},i=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this,["vorbis"],a)}return _createClass(n,[{key:"postMap",value:function(e){if(0===e.id.indexOf("RATING:")){var t=e.id.split(":");e.value=n.toRating(t[1],e.value),e.id=t[0]}}}],[{key:"toRating",value:function(e,t){return{source:e?e.toLowerCase():e,rating:parseFloat(t)*r.CommonTagMapper.maxRatingScore}}}]),n}(r.CommonTagMapper);t.VorbisTagMapper=i},1404:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ListInfoTagValue=t.Header=void 0;var r=n(5148);t.Header={len:8,get:function(e,t){return{chunkID:e.toString("binary",t,t+4),chunkSize:e.readUInt32LE(t+4)}}},t.ListInfoTagValue=function(){function e(t){_classCallCheck(this,e),this.tagHeader=t,this.len=t.chunkSize,this.len+=1&this.len}return _createClass(e,[{key:"get",value:function(e,t){return new r.StringType(this.tagHeader.chunkSize,"ascii").get(e,t)}}]),e}()},1023:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RiffInfoTagMapper=t.riffInfoTagMap=void 0;var r=n(8893);t.riffInfoTagMap={IART:"artist",ICRD:"date",INAM:"title",TITL:"title",IPRD:"album",ITRK:"track",COMM:"comment",ICMT:"comment",ICNT:"releasecountry",GNRE:"genre",IWRI:"writer",RATE:"rating",YEAR:"year",ISFT:"encodedby",CODE:"encodedby",TURL:"website",IGNR:"genre",IENG:"engineer",ITCH:"technician",IMED:"media",IRPD:"album"},t.RiffInfoTagMapper=function(e){_inherits(r,e);var n=_createSuper(r);function r(){return _classCallCheck(this,r),n.call(this,["exif"],t.riffInfoTagMap)}return r}(r.CommonTagMapper)},8810:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.TrackType=void 0,(n=t.TrackType||(t.TrackType={}))[n.video=1]="video",n[n.audio=2]="audio",n[n.complex=3]="complex",n[n.logo=4]="logo",n[n.subtitle=17]="subtitle",n[n.button=18]="button",n[n.control=32]="control"},2824:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.FactChunk=t.Format=t.WaveFormat=void 0,(n=t.WaveFormat||(t.WaveFormat={}))[n.PCM=1]="PCM",n[n.ADPCM=2]="ADPCM",n[n.IEEE_FLOAT=3]="IEEE_FLOAT",n[n.MPEG_ADTS_AAC=5632]="MPEG_ADTS_AAC",n[n.MPEG_LOAS=5634]="MPEG_LOAS",n[n.RAW_AAC1=255]="RAW_AAC1",n[n.DOLBY_AC3_SPDIF=146]="DOLBY_AC3_SPDIF",n[n.DVM=8192]="DVM",n[n.RAW_SPORT=576]="RAW_SPORT",n[n.ESST_AC3=577]="ESST_AC3",n[n.DRM=9]="DRM",n[n.DTS2=8193]="DTS2",n[n.MPEG=80]="MPEG",t.Format=function(){function e(t){if(_classCallCheck(this,e),t.chunkSize<16)throw new Error("Invalid chunk size");this.len=t.chunkSize}return _createClass(e,[{key:"get",value:function(e,t){return{wFormatTag:e.readUInt16LE(t),nChannels:e.readUInt16LE(t+2),nSamplesPerSec:e.readUInt32LE(t+4),nAvgBytesPerSec:e.readUInt32LE(t+8),nBlockAlign:e.readUInt16LE(t+12),wBitsPerSample:e.readUInt16LE(t+14)}}}]),e}(),t.FactChunk=function(){function e(t){if(_classCallCheck(this,e),t.chunkSize<4)throw new Error("Invalid fact chunk size.");this.len=t.chunkSize}return _createClass(e,[{key:"get",value:function(e,t){return{dwSampleLength:e.readUInt32LE(t)}}}]),e}()},542:function(e,t,n){"use strict";var r=n(1052).default;Object.defineProperty(t,"__esModule",{value:!0}),t.WaveParser=void 0;var a=n(4074),i=n(5148),o=n(7807),s=n(1404),u=n(2824),c=n(4947),l=n(4446),f=n(9548),h=n(2181),d=o("music-metadata:parser:RIFF");t.WaveParser=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"parse",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.tokenizer.readToken(s.Header);case 2:if(n=t.sent,d("pos=".concat(e.tokenizer.position,", parse: chunkID=").concat(n.chunkID)),"RIFF"!==n.chunkID){t.next=5;break}return t.abrupt("return",e.parseRiffChunk(n.chunkSize).catch(function(e){if(!(e instanceof a.EndOfStreamError))throw e}));case 5:case"end":return t.stop()}},t)}))()}},{key:"parseRiffChunk",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.tokenizer.readToken(f.FourCcToken);case 2:r=n.sent,n.t0=(t.metadata.setFormat("container",r),r),n.next="WAVE"===n.t0?6:7;break;case 6:return n.abrupt("return",t.readWaveChunk(e-f.FourCcToken.len));case 7:throw new Error("Unsupported RIFF format: RIFF/".concat(r));case 8:case"end":return n.stop()}},n)}))()}},{key:"readWaveChunk",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,o,l,f,h,p;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(e>=s.Header.len)){n.next=46;break}return n.next=3,t.tokenizer.readToken(s.Header);case 3:r=n.sent,n.t0=(e-=s.Header.len+r.chunkSize,t.header=r,d("pos=".concat(t.tokenizer.position,", readChunk: chunkID=RIFF/WAVE/").concat(r.chunkID)),r.chunkID),n.next="LIST"===n.t0?7:"fact"===n.t0?10:"fmt "===n.t0?15:"id3 "===n.t0||"ID3 "===n.t0?21:"data"===n.t0?28:35;break;case 7:return n.next=9,t.parseListTag(r);case 9:return n.abrupt("break",39);case 10:return t.metadata.setFormat("lossless",!1),n.next=13,t.tokenizer.readToken(new u.FactChunk(r));case 13:return t.fact=n.sent,n.abrupt("break",39);case 15:return n.next=17,t.tokenizer.readToken(new u.Format(r));case 17:return o=n.sent,(l=u.WaveFormat[o.wFormatTag])||(d("WAVE/non-PCM format="+o.wFormatTag),l="non-PCM ("+o.wFormatTag+")"),t.metadata.setFormat("codec",l),t.metadata.setFormat("bitsPerSample",o.wBitsPerSample),t.metadata.setFormat("sampleRate",o.nSamplesPerSec),t.metadata.setFormat("numberOfChannels",o.nChannels),t.metadata.setFormat("bitrate",o.nBlockAlign*o.nSamplesPerSec*8),t.blockAlign=o.nBlockAlign,n.abrupt("break",39);case 21:return n.next=23,t.tokenizer.readToken(new i.BufferType(r.chunkSize));case 23:return f=n.sent,h=a.fromBuffer(f),n.next=27,(new c.ID3v2Parser).parse(t.metadata,h,t.options);case 27:return n.abrupt("break",39);case 28:return!1!==t.metadata.format.lossless&&t.metadata.setFormat("lossless",!0),(p=t.fact?t.fact.dwSampleLength:4294967295===r.chunkSize?void 0:r.chunkSize/t.blockAlign)&&(t.metadata.setFormat("numberOfSamples",p),t.metadata.setFormat("duration",p/t.metadata.format.sampleRate)),t.metadata.setFormat("bitrate",t.metadata.format.numberOfChannels*t.blockAlign*t.metadata.format.sampleRate),n.next=34,t.tokenizer.ignore(r.chunkSize);case 34:return n.abrupt("break",39);case 35:return d("Ignore chunk: RIFF/".concat(r.chunkID," of ").concat(r.chunkSize," bytes")),t.metadata.addWarning("Ignore chunk: RIFF/"+r.chunkID),n.next=39,t.tokenizer.ignore(r.chunkSize);case 39:if(n.t1=t.header.chunkSize%2==1,!n.t1){n.next=44;break}return d("Read odd padding byte"),n.next=44,t.tokenizer.ignore(1);case 44:n.next=0;break;case 46:case"end":return n.stop()}},n)}))()}},{key:"parseListTag",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.tokenizer.readToken(new i.StringType(4,"binary"));case 2:r=n.sent,n.t0=(d("pos=%s, parseListTag: chunkID=RIFF/WAVE/LIST/%s",t.tokenizer.position,r),r),n.next="INFO"===n.t0?6:(n.t0,7);break;case 6:return n.abrupt("return",t.parseRiffInfoTags(e.chunkSize-4));case 7:return n.abrupt("return",(t.metadata.addWarning("Ignore chunk: RIFF/WAVE/LIST/"+r),d("Ignoring chunkID=RIFF/WAVE/LIST/"+r),t.tokenizer.ignore(e.chunkSize-4).then()));case 8:case"end":return n.stop()}},n)}))()}},{key:"parseRiffInfoTags",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(e>=8)){n.next=11;break}return n.next=3,t.tokenizer.readToken(s.Header);case 3:return r=n.sent,a=new s.ListInfoTagValue(r),n.next=7,t.tokenizer.readToken(a);case 7:i=n.sent,t.addTag(r.chunkID,l.default.stripNulls(i)),e-=8+a.len;case 9:n.next=0;break;case 11:if(0===e){n.next=13;break}throw Error("Illegal remaining size: "+e);case 13:case"end":return n.stop()}},n)}))()}},{key:"addTag",value:function(e,t){this.metadata.addTag("exif",e,t)}}]),n}(h.BasicParser)},5178:function(e,t,n){"use strict";var r=n(1052).default;Object.defineProperty(t,"__esModule",{value:!0}),t.WavPackParser=void 0;var a=n(5148),i=n(2230),o=n(9548),s=n(2181),u=n(3438),c=n(7807)("music-metadata:parser:WavPack");t.WavPackParser=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"parse",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.audioDataSize=0,t.next=3,e.parseWavPackBlocks();case 3:return t.abrupt("return",i.APEv2Parser.tryParseApeHeader(e.metadata,e.tokenizer,e.options));case 4:case"end":return t.stop()}},t)}))()}},{key:"parseWavPackBlocks",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.tokenizer.peekToken(o.FourCcToken);case 2:if(t.t0=t.sent,"wvpk"===t.t0){t.next=5;break}return t.abrupt("break",21);case 5:return t.next=7,e.tokenizer.readToken(u.WavPack.BlockHeaderToken);case 7:if("wvpk"===(n=t.sent).BlockID){t.next=10;break}throw new Error("Invalid WavPack Block-ID");case 10:if(c("WavPack header blockIndex=".concat(n.blockIndex,", len=").concat(u.WavPack.BlockHeaderToken.len)),0!==n.blockIndex||e.metadata.format.container||(e.metadata.setFormat("container","WavPack"),e.metadata.setFormat("lossless",!n.flags.isHybrid),e.metadata.setFormat("bitsPerSample",n.flags.bitsPerSample),n.flags.isDSD||(e.metadata.setFormat("sampleRate",n.flags.samplingRate),e.metadata.setFormat("duration",n.totalSamples/n.flags.samplingRate)),e.metadata.setFormat("numberOfChannels",n.flags.isMono?1:2),e.metadata.setFormat("numberOfSamples",n.totalSamples),e.metadata.setFormat("codec",n.flags.isDSD?"DSD":"PCM")),r=n.blockSize-(u.WavPack.BlockHeaderToken.len-8),0!==n.blockIndex){t.next=17;break}return t.next=15,e.parseMetadataSubBlock(n,r);case 15:t.next=19;break;case 17:return t.next=19,e.tokenizer.ignore(r);case 19:n.blockSamples>0&&(e.audioDataSize+=n.blockSize);case 20:if(!e.tokenizer.fileInfo.size||e.tokenizer.fileInfo.size-e.tokenizer.position>=u.WavPack.BlockHeaderToken.len){t.next=0;break}case 21:e.metadata.setFormat("bitrate",8*e.audioDataSize/e.metadata.format.duration);case 22:case"end":return t.stop()}},t)}))()}},{key:"parseMetadataSubBlock",value:function(e,t){var n=this;return r(regeneratorRuntime.mark(function r(){var i,o,s,l,f;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(t>u.WavPack.MetadataIdToken.len)){r.next=31;break}return r.next=3,n.tokenizer.readToken(u.WavPack.MetadataIdToken);case 3:return i=r.sent,r.next=6,n.tokenizer.readNumber(i.largeBlock?a.UINT24_LE:a.UINT8);case 6:return o=r.sent,s=Buffer.alloc(2*o-(i.isOddSize?1:0)),r.next=10,n.tokenizer.readBuffer(s);case 10:c("Metadata Sub-Blocks functionId=0x".concat(i.functionId.toString(16),", id.largeBlock=").concat(i.largeBlock,",data-size=").concat(s.length)),r.t0=i.functionId,r.next=0===r.t0?14:14===r.t0?15:36===r.t0?21:38===r.t0?23:47===r.t0?25:27;break;case 14:return r.abrupt("break",28);case 15:if(c("ID_DSD_BLOCK"),l=1<<s.readUInt8(0),f=e.flags.samplingRate*l*8,e.flags.isDSD){r.next=19;break}throw new Error("Only expect DSD block if DSD-flag is set");case 19:return n.metadata.setFormat("sampleRate",f),n.metadata.setFormat("duration",e.totalSamples/f),r.abrupt("break",28);case 21:return c("ID_ALT_TRAILER: trailer for non-wav files"),r.abrupt("break",28);case 23:return n.metadata.setFormat("audioMD5",s),r.abrupt("break",28);case 25:return c("ID_BLOCK_CHECKSUM: checksum=".concat(s.toString("hex"))),r.abrupt("break",28);case 27:c("Ignore unsupported meta-sub-block-id functionId=0x".concat(i.functionId.toString(16)));case 28:c("remainingLength="+(t-=u.WavPack.MetadataIdToken.len+(i.largeBlock?a.UINT24_LE.len:a.UINT8.len)+2*o)),i.isOddSize&&n.tokenizer.ignore(1);case 29:r.next=0;break;case 31:if(0===t){r.next=33;break}throw new Error("metadata-sub-block should fit it remaining length");case 33:case"end":return r.stop()}},r)}))()}}]),n}(s.BasicParser)},3438:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WavPack=void 0;var r=n(5148),a=n(9548),i=[6e3,8e3,9600,11025,12e3,16e3,22050,24e3,32e3,44100,48e3,64e3,88200,96e3,192e3,-1],o=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"isBitSet",value:function(t,n){return 1===e.getBitAllignedNumber(t,n,1)}},{key:"getBitAllignedNumber",value:function(e,t,n){return e>>>t&4294967295>>>32-n}}]),e}();t.WavPack=o,o.BlockHeaderToken={len:32,get:function(e,t){var n=r.UINT32_LE.get(e,t+24),s={BlockID:a.FourCcToken.get(e,t),blockSize:r.UINT32_LE.get(e,t+4),version:r.UINT16_LE.get(e,t+8),totalSamples:r.UINT32_LE.get(e,t+12),blockIndex:r.UINT32_LE.get(e,t+16),blockSamples:r.UINT32_LE.get(e,t+20),flags:{bitsPerSample:8*(1+o.getBitAllignedNumber(n,0,2)),isMono:o.isBitSet(n,2),isHybrid:o.isBitSet(n,3),isJointStereo:o.isBitSet(n,4),crossChannel:o.isBitSet(n,5),hybridNoiseShaping:o.isBitSet(n,6),floatingPoint:o.isBitSet(n,7),samplingRate:i[o.getBitAllignedNumber(n,23,4)],isDSD:o.isBitSet(n,31)},crc:new r.BufferType(4).get(e,t+28)};return s.flags.isDSD&&(s.totalSamples*=8),s}},o.MetadataIdToken={len:1,get:function(e,t){return{functionId:o.getBitAllignedNumber(e[t],0,6),isOptional:o.isBitSet(e[t],5),isOddSize:o.isBitSet(e[t],6),largeBlock:o.isBitSet(e[t],7)}}}},2676:function(e,t){"use strict";var n=/^[A-Za-z0-9][A-Za-z0-9!#$&^_.-]{0,126}$/,r=/^[A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126}$/,a=/^ *([A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126})\/([A-Za-z0-9][A-Za-z0-9!#$&^_.+-]{0,126}) *$/;function i(e,t,n){this.type=e,this.subtype=t,this.suffix=n}t.format=function(e){if(!e||"object"!=typeof e)throw new TypeError("argument obj is required");var t=e.subtype,a=e.suffix,i=e.type;if(!i||!r.test(i))throw new TypeError("invalid type");if(!t||!n.test(t))throw new TypeError("invalid subtype");var o=i+"/"+t;if(a){if(!r.test(a))throw new TypeError("invalid suffix");o+="+"+a}return o},t.parse=function(e){if(!e)throw new TypeError("argument string is required");if("string"!=typeof e)throw new TypeError("argument string is required to be a string");var t=a.exec(e.toLowerCase());if(!t)throw new TypeError("invalid media type");var n,r=t[1],o=t[2],s=o.lastIndexOf("+");return-1!==s&&(n=o.substr(s+1),o=o.substr(0,s)),new i(r,o,n)},t.test=function(e){if(!e)throw new TypeError("argument string is required");if("string"!=typeof e)throw new TypeError("argument string is required to be a string");return a.test(e.toLowerCase())}},9210:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EndOfStreamError=t.defaultMessages=void 0,t.defaultMessages="End-Of-Stream";var n=function(e){_inherits(r,e);var n=_createSuper(r);function r(){return _classCallCheck(this,r),n.call(this,t.defaultMessages)}return r}(_wrapNativeSuper(Error));t.EndOfStreamError=n},9254:function(e,t,n){"use strict";var r=n(1052).default;Object.defineProperty(t,"__esModule",{value:!0}),t.StreamReader=t.EndOfStreamError=void 0;var a=n(9210),i=n(9210);Object.defineProperty(t,"EndOfStreamError",{enumerable:!0,get:function(){return i.EndOfStreamError}});var o=function e(){var t=this;_classCallCheck(this,e),this.promise=new Promise(function(e,n){t.reject=n,t.resolve=e})};t.StreamReader=function(){function e(t){var n=this;if(_classCallCheck(this,e),this.s=t,this.endOfStream=!1,this.peekQueue=[],!t.read||!t.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",function(){return n.reject(new a.EndOfStreamError)}),this.s.once("error",function(e){return n.reject(e)}),this.s.once("close",function(){return n.reject(new Error("Stream closed"))})}return _createClass(e,[{key:"peek",value:function(e,t,n){var a=this;return r(regeneratorRuntime.mark(function r(){var i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.read(e,t,n);case 2:return i=r.sent,r.abrupt("return",(a.peekQueue.push(e.slice(t,t+i)),i));case 4:case"end":return r.stop()}},r)}))()}},{key:"read",value:function(e,t,n){var i=this;return r(regeneratorRuntime.mark(function r(){var o,s,u,c,l,f;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==n){r.next=2;break}return r.abrupt("return",0);case 2:if(0!==i.peekQueue.length||!i.endOfStream){r.next=4;break}throw new a.EndOfStreamError;case 4:for(o=n,s=0;i.peekQueue.length>0&&o>0;)u=i.peekQueue.pop(),c=Math.min(u.length,o),u.copy(e,t+s,0,c),s+=c,o-=c,c<u.length&&i.peekQueue.push(u.slice(c));case 6:if(!(o>0)||i.endOfStream){r.next=16;break}return l=Math.min(o,1048576),r.next=10,i._read(e,t+s,l);case 10:if(f=r.sent,s+=f,!(f<l)){r.next=13;break}return r.abrupt("break",16);case 13:o-=f;case 14:r.next=6;break;case 16:return r.abrupt("return",s);case 17:case"end":return r.stop()}},r)}))()}},{key:"_read",value:function(e,t,n){var a=this;return r(regeneratorRuntime.mark(function r(){var i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!a.request){r.next=2;break}throw new Error("Concurrent read operation?");case 2:return i=a.s.read(n),r.abrupt("return",i?(i.copy(e,t),i.length):(a.request={buffer:e,offset:t,length:n,deferred:new o},a.s.once("readable",function(){a.tryRead()}),a.request.deferred.promise.then(function(e){return a.request=null,e},function(e){throw a.request=null,e})));case 4:case"end":return r.stop()}},r)}))()}},{key:"tryRead",value:function(){var e=this,t=this.s.read(this.request.length);t?(t.copy(this.request.buffer,this.request.offset),this.request.deferred.resolve(t.length)):this.s.once("readable",function(){e.tryRead()})}},{key:"reject",value:function(e){this.endOfStream=!0,this.request&&(this.request.deferred.reject(e),this.request=null)}}]),e}()},1552:function(e){"use strict";var t={};function n(e,n,r){r||(r=Error);var a=function(e){var t,r;function a(t,r,a){return e.call(this,function(e,t,r){return"string"==typeof n?n:n(e,t,r)}(t,r,a))||this}return r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,a}(r);a.prototype.name=r.name,a.prototype.code=e,t[e]=a}function r(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map(function(e){return String(e)}),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}n("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),n("ERR_INVALID_ARG_TYPE",function(e,t,n){var a,i,o,s;if("string"==typeof t&&"not "===t.substr(0,"not ".length)?(a="must not be",t=t.replace(/^not /,"")):a="must be",o=e,(void 0===s||s>o.length)&&(s=o.length)," argument"===o.substring(s-" argument".length,s))i="The ".concat(e," ").concat(a," ").concat(r(t,"type"));else{var u=function(e,t,n){return"number"!=typeof n&&(n=0),!(n+".".length>e.length)&&-1!==e.indexOf(".",n)}(e)?"property":"argument";i='The "'.concat(e,'" ').concat(u," ").concat(a," ").concat(r(t,"type"))}return i+". Received type ".concat(typeof n)},TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},9847:function(e,t,n){"use strict";var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=c;var a=n(617),i=n(4374);n(5457)(c,a);for(var o=r(i.prototype),s=0;s<o.length;s++){var u=o[s];c.prototype[u]||(c.prototype[u]=i.prototype[u])}function c(e){if(!(this instanceof c))return new c(e);a.call(this,e),i.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||process.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},9591:function(e,t,n){"use strict";e.exports=a;var r=n(5774);function a(e){if(!(this instanceof a))return new a(e);r.call(this,e)}n(5457)(a,r),a.prototype._transform=function(e,t,n){n(null,e)}},617:function(e,t,n){"use strict";var r;e.exports=T,T.ReadableState=C,n(5068);var a,i=function(e,t){return e.listeners(t).length},o=n(6787),s=n(3833).Buffer,u=global.Uint8Array||function(){},c=n(4616);a=c&&c.debuglog?c.debuglog("stream"):function(){};var l,f,h,d=n(1062),p=n(2742),m=n(6187).getHighWaterMark,v=n(1552).q,g=v.ERR_INVALID_ARG_TYPE,y=v.ERR_STREAM_PUSH_AFTER_EOF,b=v.ERR_METHOD_NOT_IMPLEMENTED,k=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(5457)(T,o);var _=p.errorOrDestroy,w=["error","close","destroy","pause","resume"];function C(e,t,a){r=r||n(9847),"boolean"!=typeof a&&(a=t instanceof r),this.objectMode=!!(e=e||{}).objectMode,a&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=m(this,e,"readableHighWaterMark",a),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(l||(l=n(4706).s),this.decoder=new l(e.encoding),this.encoding=e.encoding)}function T(e){if(r=r||n(9847),!(this instanceof T))return new T(e);this._readableState=new C(e,this,this instanceof r),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function x(e,t,n,r,i){a("readableAddChunk",t);var o,c=e._readableState;if(null===t)c.reading=!1,function(e,t){if(a("onEofChunk"),!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?I(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,A(e)))}}(e,c);else if(i||(o=function(e,t){var n,r;return s.isBuffer(r=t)||r instanceof u||"string"==typeof t||void 0===t||e.objectMode||(n=new g("chunk",["string","Buffer","Uint8Array"],t)),n}(c,t)),o)_(e,o);else if(c.objectMode||t&&t.length>0)if("string"==typeof t||c.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=function(e){return s.from(e)}(t)),r)c.endEmitted?_(e,new k):S(e,c,t,!0);else if(c.ended)_(e,new y);else{if(c.destroyed)return!1;c.reading=!1,c.decoder&&!n?(t=c.decoder.write(t),c.objectMode||0!==t.length?S(e,c,t,!1):R(e,c)):S(e,c,t,!1)}else r||(c.reading=!1,R(e,c));return!c.ended&&(c.length<c.highWaterMark||0===c.length)}function S(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&I(e)),R(e,t)}function E(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=1073741824?e=1073741824:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function I(e){var t=e._readableState;a("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(a("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(A,e))}function A(e){var t=e._readableState;a("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,L(e)}function R(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(O,e,t))}function O(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(a("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function P(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function M(e){a("readable nexttick read 0"),e.read(0)}function D(e,t){a("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),L(e),t.flowing&&!t.reading&&e.read(0)}function L(e){var t=e._readableState;for(a("flow",t.flowing);t.flowing&&null!==e.read(););}function N(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function B(e){var t=e._readableState;a("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(F,t,e))}function F(e,t){if(a("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function z(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),T.prototype.destroy=p.destroy,T.prototype._undestroy=p.undestroy,T.prototype._destroy=function(e,t){t(e)},T.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=s.from(e,t),t=""),n=!0),x(this,e,t,!1,n)},T.prototype.unshift=function(e){return x(this,e,null,!0,!1)},T.prototype.isPaused=function(){return!1===this._readableState.flowing},T.prototype.setEncoding=function(e){l||(l=n(4706).s);var t=new l(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,a="";null!==r;)a+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==a&&this._readableState.buffer.push(a),this._readableState.length=a.length,this},T.prototype.read=function(e){a("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return a("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?B(this):I(this),null;if(0===(e=E(e,t))&&t.ended)return 0===t.length&&B(this),null;var r,i=t.needReadable;return a("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&a("length less than watermark",i=!0),t.ended||t.reading?a("reading or ended",i=!1):i&&(a("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=E(n,t))),null===(r=e>0?N(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&B(this)),null!==r&&this.emit("data",r),r},T.prototype._read=function(e){_(this,new b("_read()"))},T.prototype.pipe=function(e,t){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e)}r.pipesCount+=1,a("pipe count=%d opts=%j",r.pipesCount,t);var o=t&&!1===t.end||e===process.stdout||e===process.stderr?p:s;function s(){a("onend"),e.end()}r.endEmitted?process.nextTick(o):n.once("end",o),e.on("unpipe",function t(i,o){a("onunpipe"),i===n&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,a("cleanup"),e.removeListener("close",h),e.removeListener("finish",d),e.removeListener("drain",u),e.removeListener("error",f),e.removeListener("unpipe",t),n.removeListener("end",s),n.removeListener("end",p),n.removeListener("data",l),c=!0,!r.awaitDrain||e._writableState&&!e._writableState.needDrain||u())});var u=function(e){return function(){var t=e._readableState;a("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,L(e))}}(n);e.on("drain",u);var c=!1;function l(t){a("ondata");var i=e.write(t);a("dest.write",i),!1===i&&((1===r.pipesCount&&r.pipes===e||r.pipesCount>1&&-1!==z(r.pipes,e))&&!c&&(a("false write response, pause",r.awaitDrain),r.awaitDrain++),n.pause())}function f(t){a("onerror",t),p(),e.removeListener("error",f),0===i(e,"error")&&_(e,t)}function h(){e.removeListener("finish",d),p()}function d(){a("onfinish"),e.removeListener("close",h),p()}function p(){a("unpipe"),n.unpipe(e)}return n.on("data",l),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener("error",n);e._events&&e._events.error?Array.isArray(e._events.error)?e._events.error.unshift(n):e._events.error=[n,e._events.error]:e.on("error",n)}(e,0,f),e.once("close",h),e.once("finish",d),e.emit("pipe",n),r.flowing||(a("pipe resume"),n.resume()),e},T.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,a=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<a;i++)r[i].emit("unpipe",this,{hasUnpiped:!1});return this}var o=z(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},T.prototype.addListener=T.prototype.on=function(e,t){var n=o.prototype.on.call(this,e,t),r=this._readableState;return"data"===e?(r.readableListening=this.listenerCount("readable")>0,!1!==r.flowing&&this.resume()):"readable"===e&&(r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,a("on readable",r.length,r.reading),r.length?I(this):r.reading||process.nextTick(M,this))),n},T.prototype.removeListener=function(e,t){var n=o.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(P,this),n},T.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(P,this),t},T.prototype.resume=function(){var e=this._readableState;return e.flowing||(a("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(D,e,t))}(this,e)),e.paused=!1,this},T.prototype.pause=function(){return a("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(a("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},T.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(a("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){a("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<w.length;o++)e.on(w[o],this.emit.bind(this,w[o]));return this._read=function(t){a("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(T.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=n(4536)),f(this)}),Object.defineProperty(T.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(T.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(T.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),T._fromList=N,Object.defineProperty(T.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(T.from=function(e,t){return void 0===h&&(h=n(6144)),h(T,e,t)})},5774:function(e,t,n){"use strict";e.exports=l;var r=n(1552).q,a=r.ERR_METHOD_NOT_IMPLEMENTED,i=r.ERR_MULTIPLE_CALLBACK,o=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=r.ERR_TRANSFORM_WITH_LENGTH_0,u=n(9847);function c(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new i);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);u.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush(function(t,n){h(e,t,n)})}function h(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new s;if(e._transformState.transforming)throw new o;return e.push(null)}n(5457)(l,u),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,n){n(new a("_transform()"))},l.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var a=this._readableState;(r.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,function(e){t(e)})}},4374:function(e,t,n){"use strict";function r(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;for(e.entry=null;r;){var a=r.callback;t.pendingcb--,a(void 0),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}var a;e.exports=T,T.WritableState=C;var i,o={deprecate:n(5435)},s=n(6787),u=n(3833).Buffer,c=global.Uint8Array||function(){},l=n(2742),f=n(6187).getHighWaterMark,h=n(1552).q,d=h.ERR_INVALID_ARG_TYPE,p=h.ERR_METHOD_NOT_IMPLEMENTED,m=h.ERR_MULTIPLE_CALLBACK,v=h.ERR_STREAM_CANNOT_PIPE,g=h.ERR_STREAM_DESTROYED,y=h.ERR_STREAM_NULL_VALUES,b=h.ERR_STREAM_WRITE_AFTER_END,k=h.ERR_UNKNOWN_ENCODING,_=l.errorOrDestroy;function w(){}function C(e,t,i){a=a||n(9847),"boolean"!=typeof i&&(i=t instanceof a),this.objectMode=!!(e=e||{}).objectMode,i&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=f(this,e,"writableHighWaterMark",i),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===e.decodeStrings),this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,a=n.writecb;if("function"!=typeof a)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,a){--t.pendingcb,n?(process.nextTick(a,r),process.nextTick(R,e,t),e._writableState.errorEmitted=!0,_(e,r)):(a(r),e._writableState.errorEmitted=!0,_(e,r),R(e,t))}(e,n,r,t,a);else{var i=I(n)||e.destroyed;i||n.corked||n.bufferProcessing||!n.bufferedRequest||E(e,n),r?process.nextTick(S,e,n,i,a):S(e,n,i,a)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function T(e){var t=this instanceof(a=a||n(9847));if(!t&&!i.call(T,this))return new T(e);this._writableState=new C(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),s.call(this)}function x(e,t,n,r,a,i,o){t.writelen=r,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new g("write")):n?e._writev(a,t.onwrite):e._write(a,i,t.onwrite),t.sync=!1}function S(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),R(e,t)}function E(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var a=new Array(t.bufferedRequestCount),i=t.corkedRequestsFree;i.entry=n;for(var o=0,s=!0;n;)a[o]=n,n.isBuf||(s=!1),n=n.next,o+=1;a.allBuffers=s,x(e,t,!0,t.length,a,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new r(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk;if(x(e,t,!1,t.objectMode?1:u.length,u,n.encoding,n.callback),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function I(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function A(e,t){e._final(function(n){t.pendingcb--,n&&_(e,n),t.prefinished=!0,e.emit("prefinish"),R(e,t)})}function R(e,t){var n=I(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(A,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var r=e._readableState;(!r||r.autoDestroy&&r.endEmitted)&&e.destroy()}return n}n(5457)(T,s),C.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(C.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(i=Function.prototype[Symbol.hasInstance],Object.defineProperty(T,Symbol.hasInstance,{value:function(e){return!!i.call(this,e)||this===T&&e&&e._writableState instanceof C}})):i=function(e){return e instanceof this},T.prototype.pipe=function(){_(this,new v)},T.prototype.write=function(e,t,n){var r,a=this._writableState,i=!1,o=!a.objectMode&&(u.isBuffer(r=e)||r instanceof c);return o&&!u.isBuffer(e)&&(e=function(e){return u.from(e)}(e)),"function"==typeof t&&(n=t,t=null),o?t="buffer":t||(t=a.defaultEncoding),"function"!=typeof n&&(n=w),a.ending?function(e,t){var n=new b;_(e,n),process.nextTick(t,n)}(this,n):(o||function(e,t,n,r){var a;return null===n?a=new y:"string"==typeof n||t.objectMode||(a=new d("chunk",["string","Buffer"],n)),!a||(_(e,a),process.nextTick(r,a),!1)}(this,a,e,n))&&(a.pendingcb++,i=function(e,t,n,r,a,i){if(!n){var o=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=u.from(t,n)),t}(t,r,a);r!==o&&(n=!0,a="buffer",r=o)}var s=t.objectMode?1:r.length;t.length+=s;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:a,isBuf:n,callback:i,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else x(e,t,!1,s,r,a,i);return c}(this,a,o,e,t,n)),i},T.prototype.cork=function(){this._writableState.corked++},T.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||E(this,e))},T.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new k(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(T.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),T.prototype._write=function(e,t,n){n(new p("_write()"))},T.prototype._writev=null,T.prototype.end=function(e,t,n){var r=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||function(e,t,n){t.ending=!0,R(e,t),n&&(t.finished?process.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,r,n),this},Object.defineProperty(T.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),T.prototype.destroy=l.destroy,T.prototype._undestroy=l.undestroy,T.prototype._destroy=function(e,t){t(e)}},4536:function(e,t,n){"use strict";var r;function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(6484),o=Symbol("lastResolve"),s=Symbol("lastReject"),u=Symbol("error"),c=Symbol("ended"),l=Symbol("lastPromise"),f=Symbol("handlePromise"),h=Symbol("stream");function d(e,t){return{value:e,done:t}}function p(e){var t=e[o];if(null!==t){var n=e[h].read();null!==n&&(e[l]=null,e[o]=null,e[s]=null,t(d(n,!1)))}}function m(e){process.nextTick(p,e)}var v=Object.getPrototypeOf(function(){}),g=Object.setPrototypeOf((a(r={get stream(){return this[h]},next:function(){var e=this,t=this[u];if(null!==t)return Promise.reject(t);if(this[c])return Promise.resolve(d(void 0,!0));if(this[h].destroyed)return new Promise(function(t,n){process.nextTick(function(){e[u]?n(e[u]):t(d(void 0,!0))})});var n,r=this[l];if(r)n=new Promise(function(e,t){return function(n,r){e.then(function(){t[c]?n(d(void 0,!0)):t[f](n,r)},r)}}(r,this));else{var a=this[h].read();if(null!==a)return Promise.resolve(d(a,!1));n=new Promise(this[f])}return this[l]=n,n}},Symbol.asyncIterator,function(){return this}),a(r,"return",function(){var e=this;return new Promise(function(t,n){e[h].destroy(null,function(e){e?n(e):t(d(void 0,!0))})})}),r),v);e.exports=function(e){var t,n=Object.create(g,(a(t={},h,{value:e,writable:!0}),a(t,o,{value:null,writable:!0}),a(t,s,{value:null,writable:!0}),a(t,u,{value:null,writable:!0}),a(t,c,{value:e._readableState.endEmitted,writable:!0}),a(t,f,{value:function(e,t){var r=n[h].read();r?(n[l]=null,n[o]=null,n[s]=null,e(d(r,!1))):(n[o]=e,n[s]=t)},writable:!0}),t));return n[l]=null,i(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[s];return null!==t&&(n[l]=null,n[o]=null,n[s]=null,t(e)),void(n[u]=e)}var r=n[o];null!==r&&(n[l]=null,n[o]=null,n[s]=null,r(d(void 0,!0))),n[c]=!0}),e.on("readable",m.bind(null,n)),n}},1062:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(3833).Buffer,o=n(2361).inspect,s=o&&o.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t;return(t=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return i.alloc(0);for(var t=i.allocUnsafe(e>>>0),n=this.head,r=0;n;)i.prototype.copy.call(n.data,t,r),r+=n.data.length,n=n.next;return t}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var a=t.data,i=e>a.length?a.length:e;if(r+=i===a.length?a:a.slice(0,e),0==(e-=i)){i===a.length?(++n,this.head=t.next?t.next:this.tail=null):(this.head=t,t.data=a.slice(i));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=i.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var a=n.data,o=e>a.length?a.length:e;if(a.copy(t,t.length-e,0,o),0==(e-=o)){o===a.length?(++r,this.head=n.next?n.next:this.tail=null):(this.head=n,n.data=a.slice(o));break}++r}return this.length-=r,t}},{key:s,value:function(e,t){return o(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t,{depth:0,customInspect:!1}))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}()},2742:function(e){"use strict";function t(e,t){r(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function r(e,t){e.emit("error",t)}e.exports={destroy:function(e,a){var i=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(a?a(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(r,this,e)):process.nextTick(r,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!a&&e?i._writableState?i._writableState.errorEmitted?process.nextTick(n,i):(i._writableState.errorEmitted=!0,process.nextTick(t,i,e)):process.nextTick(t,i,e):a?(process.nextTick(n,i),a(e)):process.nextTick(n,i)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}},6484:function(e,t,n){"use strict";var r=n(1552).q.ERR_STREAM_PREMATURE_CLOSE;function a(){}e.exports=function e(t,n,i){if("function"==typeof n)return e(t,null,n);n||(n={}),i=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];e.apply(this,r)}}}(i||a);var o=n.readable||!1!==n.readable&&t.readable,s=n.writable||!1!==n.writable&&t.writable,u=function(){t.writable||l()},c=t._writableState&&t._writableState.finished,l=function(){s=!1,c=!0,o||i.call(t)},f=t._readableState&&t._readableState.endEmitted,h=function(){o=!1,f=!0,s||i.call(t)},d=function(e){i.call(t,e)},p=function(){var e;return o&&!f?(t._readableState&&t._readableState.ended||(e=new r),i.call(t,e)):s&&!c?(t._writableState&&t._writableState.ended||(e=new r),i.call(t,e)):void 0},m=function(){t.req.on("finish",l)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",l),t.on("abort",p),t.req?m():t.on("request",m)):s&&!t._writableState&&(t.on("end",u),t.on("close",u)),t.on("end",h),t.on("finish",l),!1!==n.error&&t.on("error",d),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",m),t.req&&t.req.removeListener("finish",l),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",l),t.removeListener("end",h),t.removeListener("error",d),t.removeListener("close",p)}}},6144:function(e){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},5802:function(e,t,n){"use strict";var r,a=n(1552).q,i=a.ERR_MISSING_ARGS,o=a.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function u(e,t,a,i){i=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(i);var s=!1;e.on("close",function(){s=!0}),void 0===r&&(r=n(6484)),r(e,{readable:t,writable:a},function(e){if(e)return i(e);s=!0,i()});var u=!1;return function(t){if(!s&&!u)return u=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void i(t||new o("pipe"))}}function c(e){e()}function l(e,t){return e.pipe(t)}function f(e){return e.length?"function"!=typeof e[e.length-1]?s:e.pop():s}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,a=f(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new i("streams");var o=t.map(function(e,n){var i=n<t.length-1;return u(e,i,n>0,function(e){r||(r=e),e&&o.forEach(c),i||(o.forEach(c),a(r))})});return t.reduce(l)}},6187:function(e,t,n){"use strict";var r=n(1552).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,a){var i=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,a,n);if(null!=i){if(!isFinite(i)||Math.floor(i)!==i||i<0)throw new r(a?n:"highWaterMark",i);return Math.floor(i)}return e.objectMode?16:16384}}},6787:function(e,t,n){e.exports=n(5068).EventEmitter},7612:function(e,t,n){(t=e.exports=n(617)).Stream=t,t.Readable=t,t.Writable=n(4374),t.Duplex=n(9847),t.Transform=n(5774),t.PassThrough=n(9591),t.finished=n(6484),t.pipeline=n(5802)},1762:function(e,t,n){"use strict";var r=n(1052).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ReadableWebToNodeStream=void 0;var a=n(7612);t.ReadableWebToNodeStream=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).bytesRead=0,r.released=!1,r.reader=e.getReader(),r}return _createClass(n,[{key:"_read",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.released){t.next=2;break}return t.abrupt("return",void e.push(null));case 2:return e.pendingRead=e.reader.read(),t.next=5,e.pendingRead;case 5:n=t.sent,delete e.pendingRead,n.done||e.released?e.push(null):(e.bytesRead+=n.value.length,e.push(n.value));case 7:case"end":return t.stop()}},t)}))()}},{key:"waitForReadToComplete",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e.pendingRead,!t.t0){t.next=4;break}return t.next=4,e.pendingRead;case 4:case"end":return t.stop()}},t)}))()}},{key:"close",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.syncAndRelease();case 2:case"end":return t.stop()}},t)}))()}},{key:"syncAndRelease",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.released=!0,t.next=3,e.waitForReadToComplete();case 3:return t.next=5,e.reader.releaseLock();case 5:case"end":return t.stop()}},t)}))()}}]),n}(a.Readable)},4706:function(e,t,n){"use strict";var r=n(4160).Buffer,a=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===a||!a(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=h,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.s=i,i.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},i.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},i.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var a=o(t[r]);return a>=0?(a>0&&(e.lastNeed=a-1),a):--r<n||-2===a?0:(a=o(t[r]))>=0?(a>0&&(e.lastNeed=a-2),a):--r<n||-2===a?0:(a=o(t[r]))>=0?(a>0&&(2===a?a=0:e.lastNeed=a-3),a):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},i.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},4160:function(e,t,n){var r=n(3833),a=r.Buffer;function i(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return a(e,t,n)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=o),o.prototype=Object.create(a.prototype),i(a,o),o.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return a(e,t,n)},o.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=a(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return a(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},5087:function(e,t,n){"use strict";var r=n(1052).default;Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractTokenizer=void 0;var a=n(9254);t.AbstractTokenizer=function(){function e(t){_classCallCheck(this,e),this.position=0,this.numBuffer=Buffer.alloc(10),this.fileInfo=t||{}}return _createClass(e,[{key:"readToken",value:function(e,t){var n=this;return r(regeneratorRuntime.mark(function r(){var i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return i=Buffer.alloc(e.len),r.next=3,n.readBuffer(i,{position:t});case 3:if(r.t0=r.sent,r.t1=e.len,!(r.t0<r.t1)){r.next=7;break}throw new a.EndOfStreamError;case 7:return r.abrupt("return",e.get(i,0));case 8:case"end":return r.stop()}},r)}))()}},{key:"peekToken",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.position,n=this;return r(regeneratorRuntime.mark(function r(){var i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return i=Buffer.alloc(e.len),r.next=3,n.peekBuffer(i,{position:t});case 3:if(r.t0=r.sent,r.t1=e.len,!(r.t0<r.t1)){r.next=7;break}throw new a.EndOfStreamError;case 7:return r.abrupt("return",e.get(i,0));case 8:case"end":return r.stop()}},r)}))()}},{key:"readNumber",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.readBuffer(t.numBuffer,{length:e.len});case 2:if(n.t0=n.sent,n.t1=e.len,!(n.t0<n.t1)){n.next=6;break}throw new a.EndOfStreamError;case 6:return n.abrupt("return",e.get(t.numBuffer,0));case 7:case"end":return n.stop()}},n)}))()}},{key:"peekNumber",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.peekBuffer(t.numBuffer,{length:e.len});case 2:if(n.t0=n.sent,n.t1=e.len,!(n.t0<n.t1)){n.next=6;break}throw new a.EndOfStreamError;case 6:return n.abrupt("return",e.get(t.numBuffer,0));case 7:case"end":return n.stop()}},n)}))()}},{key:"close",value:function(){return r(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}))()}}]),e}()},332:function(e,t,n){"use strict";var r=n(1052).default;Object.defineProperty(t,"__esModule",{value:!0}),t.BufferTokenizer=void 0;var a=n(9254);t.BufferTokenizer=function(){function e(t,n){_classCallCheck(this,e),this.buffer=t,this.position=0,this.fileInfo=n||{},this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:t.length}return _createClass(e,[{key:"readBuffer",value:function(e,t){var n=this;return r(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!t||!t.position){r.next=4;break}if(!(t.position<n.position)){r.next=3;break}throw new Error("`options.position` must be equal or greater than `tokenizer.position`");case 3:n.position=t.position;case 4:return r.abrupt("return",n.peekBuffer(e,t).then(function(e){return n.position+=e,e}));case 5:case"end":return r.stop()}},r)}))()}},{key:"peekBuffer",value:function(e,t){var n=this;return r(regeneratorRuntime.mark(function r(){var i,o,s,u;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=0,o=e.length,s=n.position,!t){r.next=7;break}if(!t.position){r.next=6;break}if(!(t.position<n.position)){r.next=5;break}throw new Error("`options.position` can be less than `tokenizer.position`");case 5:s=t.position;case 6:Number.isInteger(t.length)?o=t.length:o-=t.offset||0,t.offset&&(i=t.offset);case 7:if(0!==o){r.next=9;break}return r.abrupt("return",Promise.resolve(0));case 9:if(s=s||n.position,o||(o=e.length),u=Math.min(n.buffer.length-s,o),(!t||!t.mayBeLess)&&u<o){r.next=13;break}return r.abrupt("return",(n.buffer.copy(e,i,s,s+u),u));case 13:throw new a.EndOfStreamError;case 14:case"end":return r.stop()}},r)}))()}},{key:"readToken",value:function(e,t){var n=this;return r(regeneratorRuntime.mark(function r(){var a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n.position=t||n.position,r.prev=1,a=n.peekToken(e,n.position),r.abrupt("return",(n.position+=e.len,a));case 6:throw r.prev=6,r.t0=r.catch(1),n.position+=n.buffer.length-t,r.t0;case 9:case"end":return r.stop()}},r,null,[[1,6]])}))()}},{key:"peekToken",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.position,n=this;return r(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n.buffer.length-t<e.len)){r.next=2;break}throw new a.EndOfStreamError;case 2:return r.abrupt("return",e.get(n.buffer,t));case 3:case"end":return r.stop()}},r)}))()}},{key:"readNumber",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t.readToken(e));case 1:case"end":return n.stop()}},n)}))()}},{key:"peekNumber",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t.peekToken(e));case 1:case"end":return n.stop()}},n)}))()}},{key:"ignore",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=Math.min(t.buffer.length-t.position,e),n.abrupt("return",(t.position+=r,r));case 2:case"end":return n.stop()}},n)}))()}},{key:"close",value:function(){return r(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}))()}}]),e}()},7262:function(e,t,n){"use strict";var r=n(1052).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ReadStreamTokenizer=void 0;var a=n(5087),i=n(9254);t.ReadStreamTokenizer=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var a;return _classCallCheck(this,n),(a=t.call(this,r)).streamReader=new i.StreamReader(e),a}return _createClass(n,[{key:"getFileInfo",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.fileInfo);case 1:case"end":return t.stop()}},t)}))()}},{key:"readBuffer",value:function(e,t){var n=this;return r(regeneratorRuntime.mark(function r(){var a,o,s,u;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(a=0,o=e.length,!t){r.next=11;break}if(Number.isInteger(t.length)?o=t.length:o-=t.offset||0,!t.position){r.next=10;break}if(!((s=t.position-n.position)>0)){r.next=8;break}return r.next=7,n.ignore(s);case 7:return r.abrupt("return",n.readBuffer(e,t));case 8:if(!(s<0)){r.next=10;break}throw new Error("`options.position` must be equal or greater than `tokenizer.position`");case 10:t.offset&&(a=t.offset);case 11:if(0!==o){r.next=13;break}return r.abrupt("return",0);case 13:return r.next=15,n.streamReader.read(e,a,o);case 15:if(u=r.sent,n.position+=u,t&&t.mayBeLess||!(u<o)){r.next=18;break}throw new i.EndOfStreamError;case 18:return r.abrupt("return",u);case 19:case"end":return r.stop()}},r)}))()}},{key:"peekBuffer",value:function(e,t){var n=this;return r(regeneratorRuntime.mark(function r(){var a,o,s,u,c;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(o=0,s=e.length,!t||(t.offset&&(o=t.offset),Number.isInteger(t.length)?s=t.length:s-=t.offset||0,!t.position)){r.next=12;break}if(!((u=t.position-n.position)>0)){r.next=10;break}return c=Buffer.alloc(s+u),r.next=7,n.peekBuffer(c,{mayBeLess:t.mayBeLess});case 7:return a=r.sent,c.copy(e,o,u),r.abrupt("return",a-u);case 10:if(!(u<0)){r.next=12;break}throw new Error("Cannot peek from a negative offset in a stream");case 12:return r.prev=12,r.next=15,n.streamReader.peek(e,o,s);case 15:a=r.sent,r.next=23;break;case 18:if(r.prev=18,r.t0=r.catch(12),!(t&&t.mayBeLess&&r.t0 instanceof i.EndOfStreamError)){r.next=22;break}return r.abrupt("return",0);case 22:throw r.t0;case 23:if(t&&t.mayBeLess||!(a<s)){r.next=25;break}throw new i.EndOfStreamError;case 25:return r.abrupt("return",a);case 26:case"end":return r.stop()}},r,null,[[12,18]])}))()}},{key:"ignore",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a,i,o,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:r=Math.min(256e3,e),a=Buffer.alloc(r),i=0;case 2:if(!(i<e)){n.next=12;break}return o=e-i,n.next=6,t.readBuffer(a,{length:Math.min(r,o)});case 6:if(!((s=n.sent)<0)){n.next=9;break}return n.abrupt("return",s);case 9:i+=s;case 10:n.next=2;break;case 12:return n.abrupt("return",i);case 13:case"end":return n.stop()}},n)}))()}}]),n}(a.AbstractTokenizer)},4074:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromBuffer=t.fromStream=t.EndOfStreamError=void 0;var r=n(7262),a=n(332),i=n(9254);Object.defineProperty(t,"EndOfStreamError",{enumerable:!0,get:function(){return i.EndOfStreamError}}),t.fromStream=function(e,t){return new r.ReadStreamTokenizer(e,t=t||{})},t.fromBuffer=function(e,t){return new a.BufferTokenizer(e,t)}},5148:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.writeIntBE=t.readIntBE=t.writeUIntBE=t.readUIntBE=t.writeIntLE=t.AnsiStringType=t.StringType=t.BufferType=t.IgnoreType=t.Float80_LE=t.Float80_BE=t.Float64_LE=t.Float64_BE=t.Float32_LE=t.Float32_BE=t.Float16_LE=t.Float16_BE=t.INT64_BE=t.UINT64_BE=t.INT64_LE=t.UINT64_LE=t.INT32_LE=t.INT32_BE=t.INT24_BE=t.INT24_LE=t.INT16_LE=t.INT16_BE=t.INT8=t.UINT32_BE=t.UINT32_LE=t.UINT24_BE=t.UINT24_LE=t.UINT16_BE=t.UINT16_LE=t.UINT8=void 0;var r=n(2390);t.UINT8={len:1,get:function(e,t){return e.readUInt8(t)},put:function(e,t,n){return e.writeUInt8(n,t)}},t.UINT16_LE={len:2,get:function(e,t){return e.readUInt16LE(t)},put:function(e,t,n){return e.writeUInt16LE(n,t)}},t.UINT16_BE={len:2,get:function(e,t){return e.readUInt16BE(t)},put:function(e,t,n){return e.writeUInt16BE(n,t)}},t.UINT24_LE={len:3,get:function(e,t){return e.readUIntLE(t,3)},put:function(e,t,n){return e.writeUIntLE(n,t,3)}},t.UINT24_BE={len:3,get:function(e,t){return e.readUIntBE(t,3)},put:function(e,t,n){return e.writeUIntBE(n,t,3)}},t.UINT32_LE={len:4,get:function(e,t){return e.readUInt32LE(t)},put:function(e,t,n){return e.writeUInt32LE(n,t)}},t.UINT32_BE={len:4,get:function(e,t){return e.readUInt32BE(t)},put:function(e,t,n){return e.writeUInt32BE(n,t)}},t.INT8={len:1,get:function(e,t){return e.readInt8(t)},put:function(e,t,n){return e.writeInt8(n,t)}},t.INT16_BE={len:2,get:function(e,t){return e.readInt16BE(t)},put:function(e,t,n){return e.writeInt16BE(n,t)}},t.INT16_LE={len:2,get:function(e,t){return e.readInt16LE(t)},put:function(e,t,n){return e.writeInt16LE(n,t)}},t.INT24_LE={len:3,get:function(e,t){return e.readIntLE(t,3)},put:function(e,t,n){return e.writeIntLE(n,t,3)}},t.INT24_BE={len:3,get:function(e,t){return e.readIntBE(t,3)},put:function(e,t,n){return e.writeIntBE(n,t,3)}},t.INT32_BE={len:4,get:function(e,t){return e.readInt32BE(t)},put:function(e,t,n){return e.writeInt32BE(n,t)}},t.INT32_LE={len:4,get:function(e,t){return e.readInt32LE(t)},put:function(e,t,n){return e.writeInt32LE(n,t)}},t.UINT64_LE={len:8,get:function(e,t){return function(e,t,n){n>>>=0;for(var r=e[t>>>=0],a=1,i=0;++i<n&&(a*=256);)r+=e[t+i]*a;return r}(e,t,this.len)},put:function(e,t,n){return function(e,t,n,r){r>>>=0;var a=1,i=0;for(e[n>>>=0]=255&(t=+t);++i<r&&(a*=256);)e[n+i]=t/a&255;return n+r}(e,n,t,this.len)}},t.INT64_LE={len:8,get:function(e,t){return function(e,t,n){n>>>=0;for(var r=e[t>>>=0],a=1,i=0;++i<n&&(a*=256);)r+=e[t+i]*a;return r>=(a*=128)&&(r-=Math.pow(2,8*n)),r}(e,t,this.len)},put:function(e,t,n){return i(e,n,t,this.len)}},t.UINT64_BE={len:8,get:function(e,t){return o(e,t,this.len)},put:function(e,t,n){return s(e,n,t,this.len)}},t.INT64_BE={len:8,get:function(e,t){return u(e,t,this.len)},put:function(e,t,n){return c(e,n,t,this.len)}},t.Float16_BE={len:2,get:function(e,t){return r.read(e,t,!1,10,this.len)},put:function(e,t,n){return r.write(e,n,t,!1,10,this.len),t+this.len}},t.Float16_LE={len:2,get:function(e,t){return r.read(e,t,!0,10,this.len)},put:function(e,t,n){return r.write(e,n,t,!0,10,this.len),t+this.len}},t.Float32_BE={len:4,get:function(e,t){return e.readFloatBE(t)},put:function(e,t,n){return e.writeFloatBE(n,t)}},t.Float32_LE={len:4,get:function(e,t){return e.readFloatLE(t)},put:function(e,t,n){return e.writeFloatLE(n,t)}},t.Float64_BE={len:8,get:function(e,t){return e.readDoubleBE(t)},put:function(e,t,n){return e.writeDoubleBE(n,t)}},t.Float64_LE={len:8,get:function(e,t){return e.readDoubleLE(t)},put:function(e,t,n){return e.writeDoubleLE(n,t)}},t.Float80_BE={len:10,get:function(e,t){return r.read(e,t,!1,63,this.len)},put:function(e,t,n){return r.write(e,n,t,!1,63,this.len),t+this.len}},t.Float80_LE={len:10,get:function(e,t){return r.read(e,t,!0,63,this.len)},put:function(e,t,n){return r.write(e,n,t,!0,63,this.len),t+this.len}},t.IgnoreType=function(){function e(t){_classCallCheck(this,e),this.len=t}return _createClass(e,[{key:"get",value:function(e,t){}}]),e}(),t.BufferType=function(){function e(t){_classCallCheck(this,e),this.len=t}return _createClass(e,[{key:"get",value:function(e,t){return e.slice(t,t+this.len)}}]),e}(),t.StringType=function(){function e(t,n){_classCallCheck(this,e),this.len=t,this.encoding=n}return _createClass(e,[{key:"get",value:function(e,t){return e.toString(this.encoding,t,t+this.len)}}]),e}();var a=function(){function e(t){_classCallCheck(this,e),this.len=t}return _createClass(e,[{key:"get",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.decode(t,n,n+this.len)}}],[{key:"decode",value:function(t,n,r){for(var a="",i=n;i<r;++i)a+=e.codePointToString(e.singleByteDecoder(t[i]));return a}},{key:"inRange",value:function(e,t,n){return t<=e&&e<=n}},{key:"codePointToString",value:function(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}},{key:"singleByteDecoder",value:function(t){if(e.inRange(t,0,127))return t;var n=e.windows1252[t-128];if(null===n)throw Error("invaliding encoding");return n}}]),e}();function i(e,t,n,r){var a=0,i=1,o=0;for(e[n>>>=0]=255&(t=+t);++a<r&&(i*=256);)t<0&&0===o&&0!==e[n+a-1]&&(o=1),e[n+a]=(t/i>>0)-o&255;return n+r}function o(e,t,n){n>>>=0;for(var r=e[(t>>>=0)+--n],a=1;n>0&&(a*=256);)r+=e[t+--n]*a;return r}function s(e,t,n,r){var a=(r>>>=0)-1,i=1;for(e[(n>>>=0)+a]=255&(t=+t);--a>=0&&(i*=256);)e[n+a]=t/i&255;return n+r}function u(e,t,n){for(var r=n>>>=0,a=1,i=e[(t>>>=0)+--r];r>0&&(a*=256);)i+=e[t+--r]*a;return i>=(a*=128)&&(i-=Math.pow(2,8*n)),i}function c(e,t,n,r){var a=r-1,i=1,o=0;for(e[(n>>>=0)+a]=255&(t=+t);--a>=0&&(i*=256);)t<0&&0===o&&0!==e[n+a+1]&&(o=1),e[n+a]=(t/i>>0)-o&255;return n+r}t.AnsiStringType=a,a.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255],t.writeIntLE=i,t.readUIntBE=o,t.writeUIntBE=s,t.readIntBE=u,t.writeIntBE=c},8171:function(e){e.exports=function(e){return ArrayBuffer.isView(e)?Buffer.from(e.buffer,e.byteOffset,e.byteLength):Buffer.from(e)}},5435:function(e){function t(e){try{if(!global.localStorage)return!1}catch(n){return!1}var t=global.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,n){if(t("noDeprecation"))return e;var r=!1;return function(){if(!r){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),r=!0}return e.apply(this,arguments)}}},1637:function(e,t,n){"use strict";function r(e){return"function"==typeof e}var a=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else a&&console.log("RxJS: Back to a better error behavior. Thank you. <3");a=e},get useDeprecatedSynchronousErrorHandling(){return a}};function o(e){setTimeout(function(){throw e},0)}var s={closed:!0,next:function(e){},error:function(e){if(i.useDeprecatedSynchronousErrorHandling)throw e;o(e)},complete:function(){}},u=Array.isArray||function(e){return e&&"number"==typeof e.length};function c(e){return null!==e&&"object"==typeof e}var l=function(){function e(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map(function(e,t){return"".concat(t+1,") ").concat(e.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),f=function(){var e=function(){function e(t){_classCallCheck(this,e),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return _createClass(e,[{key:"unsubscribe",value:function(){var t;if(!this.closed){var n=this._parentOrParents,a=this._ctorUnsubscribe,i=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var s=0;s<n.length;++s)n[s].remove(this);if(r(i)){a&&(this._unsubscribe=void 0);try{i.call(this)}catch(m){t=m instanceof l?h(m.errors):[m]}}if(u(o))for(var f=-1,d=o.length;++f<d;){var p=o[f];if(c(p))try{p.unsubscribe()}catch(m){t=t||[],m instanceof l?t=t.concat(h(m.errors)):t.push(m)}}if(t)throw new l(t)}}},{key:"add",value:function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var a=n._parentOrParents;if(null===a)n._parentOrParents=this;else if(a instanceof e){if(a===this)return n;n._parentOrParents=[a,this]}else{if(-1!==a.indexOf(this))return n;a.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}]),e}();return e.EMPTY=function(e){return e.closed=!0,e}(new e),e}();function h(e){return e.reduce(function(e,t){return e.concat(t instanceof l?t.errors:t)},[])}var d="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),p=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,a){var i;switch(_classCallCheck(this,n),(i=t.call(this)).syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=s;break;case 1:if(!e){i.destination=s;break}if("object"==typeof e){e instanceof n?(i.syncErrorThrowable=e.syncErrorThrowable,i.destination=e,e.add(_assertThisInitialized(i))):(i.syncErrorThrowable=!0,i.destination=new m(_assertThisInitialized(i),e));break}default:i.syncErrorThrowable=!0,i.destination=new m(_assertThisInitialized(i),e,r,a)}return i}return _createClass(n,[{key:d,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}],[{key:"create",value:function(e,t,r){var a=new n(e,t,r);return a.syncErrorThrowable=!1,a}}]),n}(f),m=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,a,i,o){var u,c;_classCallCheck(this,n),(u=t.call(this))._parentSubscriber=e;var l=_assertThisInitialized(u);return r(a)?c=a:a&&(c=a.next,i=a.error,o=a.complete,a!==s&&(r((l=Object.create(a)).unsubscribe)&&u.add(l.unsubscribe.bind(l)),l.unsubscribe=u.unsubscribe.bind(_assertThisInitialized(u)))),u._context=l,u._next=c,u._error=i,u._complete=o,u}return _createClass(n,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;i.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=i.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):o(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;o(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};i.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),i.useDeprecatedSynchronousErrorHandling)throw n;o(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!i.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return i.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(o(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),n}(p),v="function"==typeof Symbol&&Symbol.observable||"@@observable";function g(e){return e}var y,b=((y=function(){function e(t){_classCallCheck(this,e),this._isScalar=!1,t&&(this._subscribe=t)}return _createClass(e,[{key:"lift",value:function(t){var n=new e;return n.source=this,n.operator=t,n}},{key:"subscribe",value:function(e,t,n){var r=this.operator,a=function(e,t,n){if(e){if(e instanceof p)return e;if(e[d])return e[d]()}return e||t||n?new p(e,t,n):new p(s)}(e,t,n);if(a.add(r?r.call(a,this.source):this.source||i.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),i.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){i.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,r=t.destination,a=t.isStopped;if(n||a)return!1;e=r&&r instanceof p?r:null}return!0}(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=k(t))(function(t,r){var a;a=n.subscribe(function(t){try{e(t)}catch(n){r(n),a&&a.unsubscribe()}},r,t)})}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:v,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:(0===(r=t).length?g:1===r.length?r[0]:function(e){return r.reduce(function(e,t){return t(e)},e)})(this);var r}},{key:"toPromise",value:function(e){var t=this;return new(e=k(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})}}]),e}()).create=function(e){return new y(e)},y);function k(e){if(e||(e=i.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var _=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),w=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var a;return _classCallCheck(this,n),(a=t.call(this)).subject=e,a.subscriber=r,a.closed=!1,a}return _createClass(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),n}(f),C=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).destination=e,r}return n}(p),T=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return _createClass(n,[{key:d,value:function(){return new C(this)}},{key:"lift",value:function(e){var t=new x(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new _;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),a=0;a<n;a++)r[a].next(e)}},{key:"error",value:function(e){if(this.closed)throw new _;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),a=0;a<n;a++)r[a].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new _;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new _;return _get(_getPrototypeOf(n.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new _;return this.hasError?(e.error(this.thrownError),f.EMPTY):this.isStopped?(e.complete(),f.EMPTY):(this.observers.push(e),new w(this,e))}},{key:"asObservable",value:function(){var e=new b;return e.source=this,e}}]),n}(b);return e.create=function(e,t){return new x(e,t)},e}(),x=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var a;return _classCallCheck(this,n),(a=t.call(this)).destination=e,a.source=r,a}return _createClass(n,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):f.EMPTY}}]),n}(T);function S(e){return e&&"function"==typeof e.schedule}function E(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new I(e,t))}}var I=function(){function e(t,n){_classCallCheck(this,e),this.project=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new A(e,this.project,this.thisArg))}}]),e}(),A=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,a){var i;return _classCallCheck(this,n),(i=t.call(this,e)).project=r,i.count=0,i.thisArg=a||_assertThisInitialized(i),i}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(p),R=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}};var O="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",P=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function M(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var D=function(e){if(e&&"function"==typeof e[v])return n=e,function(e){var t=n[v]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(P(e))return R(e);if(M(e))return function(e){return function(t){return e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,o),t}}(e);if(e&&"function"==typeof e[O])return t=e,function(e){for(var n=t[O]();;){var r=void 0;try{r=n.next()}catch(a){return e.error(a),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add(function(){n.return&&n.return()}),e};var t,n,r=c(e)?"an invalid object":"'".concat(e,"'");throw new TypeError("You provided ".concat(r," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))};function L(e,t){return new b(function(n){var r=new f,a=0;return r.add(t.schedule(function(){a!==e.length?(n.next(e[a++]),n.closed||r.add(this.schedule())):n.complete()})),r})}function N(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[v]}(e))return function(e,t){return new b(function(n){var r=new f;return r.add(t.schedule(function(){var a=e[v]();r.add(a.subscribe({next:function(e){r.add(t.schedule(function(){return n.next(e)}))},error:function(e){r.add(t.schedule(function(){return n.error(e)}))},complete:function(){r.add(t.schedule(function(){return n.complete()}))}}))})),r})}(e,t);if(M(e))return function(e,t){return new b(function(n){var r=new f;return r.add(t.schedule(function(){return e.then(function(e){r.add(t.schedule(function(){n.next(e),r.add(t.schedule(function(){return n.complete()}))}))},function(e){r.add(t.schedule(function(){return n.error(e)}))})})),r})}(e,t);if(P(e))return L(e,t);if(function(e){return e&&"function"==typeof e[O]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new b(function(n){var r,a=new f;return a.add(function(){r&&"function"==typeof r.return&&r.return()}),a.add(t.schedule(function(){r=e[O](),a.add(t.schedule(function(){if(!n.closed){var e,t;try{var a=r.next();e=a.value,t=a.done}catch(i){return void n.error(i)}t?n.complete():(n.next(e),this.schedule())}}))})),a})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof b?e:new b(D(e))}var B=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).parent=e,r}return _createClass(n,[{key:"_next",value:function(e){this.parent.notifyNext(e)}},{key:"_error",value:function(e){this.parent.notifyError(e),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),n}(p),F=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(e){this.destination.next(e)}},{key:"notifyError",value:function(e){this.destination.error(e)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),n}(p);function z(e,t){if(!t.closed){if(e instanceof b)return e.subscribe(t);var n;try{n=D(e)(t)}catch(r){t.error(r)}return n}}function U(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(r){return r.pipe(U(function(n,r){return N(e(n,r)).pipe(E(function(e,a){return t(n,e,r,a)}))},n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new j(e,n))})}var j=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,e),this.project=t,this.concurrent=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new H(e,this.project,this.concurrent))}}]),e}(),H=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,n),(a=t.call(this,e)).project=r,a.concurrent=i,a.hasCompleted=!1,a.buffer=[],a.active=0,a.index=0,a}return _createClass(n,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)}},{key:"_innerSub",value:function(e){var t=new B(this),n=this.destination;n.add(t);var r=z(e,t);r!==t&&n.add(r)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e){this.destination.next(e)}},{key:"notifyComplete",value:function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(F);function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return U(g,e)}function W(e,t){return t?L(e,t):new b(R(e))}function q(){return function(e){return e.lift(new X(e))}}var G,X=function(){function e(t){_classCallCheck(this,e),this.connectable=t}return _createClass(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var r=new Z(e,n),a=t.subscribe(r);return r.closed||(r.connection=n.connect()),a}}]),e}(),Z=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var a;return _classCallCheck(this,n),(a=t.call(this,e)).connectable=r,a}return _createClass(n,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(p),Y=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var a;return _classCallCheck(this,n),(a=t.call(this)).source=e,a.subjectFactory=r,a._refCount=0,a._isComplete=!1,a}return _createClass(n,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new f).add(this.source.subscribe(new Q(this.getSubject(),this))),e.closed&&(this._connection=null,e=f.EMPTY)),e}},{key:"refCount",value:function(){return q()(this)}}]),n}(b),K={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(G=Y.prototype)._subscribe},_isComplete:{value:G._isComplete,writable:!0},getSubject:{value:G.getSubject},connect:{value:G.connect},refCount:{value:G.refCount}},Q=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var a;return _classCallCheck(this,n),(a=t.call(this,e)).connectable=r,a}return _createClass(n,[{key:"_error",value:function(e){this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),n}(C);function $(){return new T}function J(e){for(var t in e)if(e[t]===J)return t;throw Error("Could not find renamed property on target object.")}function ee(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ee).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return"".concat(e.overriddenName);if(e.name)return"".concat(e.name);var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function te(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var ne=J({__forward_ref__:J});function re(e){return e.__forward_ref__=re,e.toString=function(){return ee(this())},e}function ae(e){return"function"==typeof(t=e)&&t.hasOwnProperty(ne)&&t.__forward_ref__===re?e():e;var t}var ie=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var a;return _classCallCheck(this,n),(a=t.call(this,function(e,t){return"".concat(e?"NG0".concat(e,": "):"").concat(t)}(e,r))).code=e,a}return n}(_wrapNativeSuper(Error));function oe(e){return"string"==typeof e?e:null==e?"":String(e)}function se(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():oe(e)}function ue(e,t){var n=t?" in ".concat(t):"";throw new ie("201","No provider for ".concat(se(e)," found").concat(n))}function ce(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function le(e){return{providers:e.providers||[],imports:e.imports||[]}}function fe(e){return he(e,me)||he(e,ge)}function he(e,t){return e.hasOwnProperty(t)?e[t]:null}function de(e){return e&&(e.hasOwnProperty(ve)||e.hasOwnProperty(ye))?e[ve]:null}var pe,me=J({"\u0275prov":J}),ve=J({"\u0275inj":J}),ge=J({ngInjectableDef:J}),ye=J({ngInjectorDef:J}),be=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function ke(e){var t=pe;return pe=e,t}function _e(e,t,n){var r=fe(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&be.Optional?null:void 0!==t?t:void ue(ee(e),"Injector")}function we(e){return{toString:e}.toString()}var Ce=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}({}),Te=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}({}),xe="undefined"!=typeof globalThis&&globalThis,Se="undefined"!=typeof window&&window,Ee="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ie="undefined"!=typeof global&&global,Ae=xe||Ie||Se||Ee,Re={},Oe=[],Pe=J({"\u0275cmp":J}),Me=J({"\u0275dir":J}),De=J({"\u0275pipe":J}),Le=J({"\u0275mod":J}),Ne=J({"\u0275loc":J}),Be=J({"\u0275fac":J}),Fe=J({__NG_ELEMENT_ID__:J}),ze=0;function Ue(e){return we(function(){var t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Ce.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||Oe,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Te.Emulated,id:"c",styles:e.styles||Oe,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,a=e.features,i=e.pipes;return n.id+=ze++,n.inputs=qe(e.inputs,t),n.outputs=qe(e.outputs),a&&a.forEach(function(e){return e(n)}),n.directiveDefs=r?function(){return("function"==typeof r?r():r).map(je)}:null,n.pipeDefs=i?function(){return("function"==typeof i?i():i).map(He)}:null,n})}function je(e){return Xe(e)||function(e){return e[Me]||null}(e)}function He(e){return function(e){return e[De]||null}(e)}var Ve={};function We(e){var t={type:e.type,bootstrap:e.bootstrap||Oe,declarations:e.declarations||Oe,imports:e.imports||Oe,exports:e.exports||Oe,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&we(function(){Ve[e.id]=e.type}),t}function qe(e,t){if(null==e)return Re;var n={};for(var r in e)if(e.hasOwnProperty(r)){var a=e[r],i=a;Array.isArray(a)&&(i=a[1],a=a[0]),n[a]=r,t&&(t[a]=i)}return n}var Ge=Ue;function Xe(e){return e[Pe]||null}function Ze(e,t){var n=e[Le]||null;if(!n&&!0===t)throw new Error("Type ".concat(ee(e)," does not have '\u0275mod' property."));return n}function Ye(e){return Array.isArray(e)&&"object"==typeof e[1]}function Ke(e){return Array.isArray(e)&&!0===e[1]}function Qe(e){return 0!=(8&e.flags)}function $e(e){return 2==(2&e.flags)}function Je(e){return 1==(1&e.flags)}function et(e){return null!==e.template}function tt(e,t){return e.hasOwnProperty(Be)?e[Be]:null}var nt,rt=function(){function e(t,n,r){_classCallCheck(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=r}return _createClass(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}();function at(){return it}function it(e){return e.type.prototype.ngOnChanges&&(e.setInput=st),ot}function ot(){var e=ut(this),t=null==e?void 0:e.current;if(t){var n=e.previous;if(n===Re)e.previous=t;else for(var r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function st(e,t,n,r){var a=ut(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:Re,current:null}),i=a.current||(a.current={}),o=a.previous,s=this.declaredInputs[n],u=o[s];i[s]=new rt(u&&u.currentValue,t,o===Re),e[r]=t}function ut(e){return e.__ngSimpleChanges__||null}function ct(){return void 0!==nt?nt:"undefined"!=typeof document?document:void 0}function lt(e){return!!e.listen}at.ngInherit=!0;var ft={createRenderer:function(e,t){return ct()}};function ht(e){for(;Array.isArray(e);)e=e[0];return e}function dt(e,t){return ht(t[e.index])}function pt(e,t){return e.data[t]}function mt(e,t){var n=t[e];return Ye(n)?n:n[0]}function vt(e){return 4==(4&e[2])}function gt(e){return 128==(128&e[2])}function yt(e,t){return null==t?null:e[t]}function bt(e){e[18]=0}function kt(e,t){e[5]+=t;for(var n=e,r=e[3];null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}var _t={lFrame:Ht(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function wt(){return _t.bindingsEnabled}function Ct(){return _t.lFrame.lView}function Tt(){return _t.lFrame.tView}function xt(e){return _t.lFrame.contextLView=e,e[8]}function St(){for(var e=Et();null!==e&&64===e.type;)e=e.parent;return e}function Et(){return _t.lFrame.currentTNode}function It(e,t){var n=_t.lFrame;n.currentTNode=e,n.isParent=t}function At(){return _t.lFrame.isParent}function Rt(){_t.lFrame.isParent=!1}function Ot(){return _t.isInCheckNoChangesMode}function Pt(e){_t.isInCheckNoChangesMode=e}function Mt(){var e=_t.lFrame,t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Dt(){return _t.lFrame.bindingIndex++}function Lt(e){_t.lFrame.currentDirectiveIndex=e}function Nt(){return _t.lFrame.currentQueryIndex}function Bt(e){_t.lFrame.currentQueryIndex=e}function Ft(e){var t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function zt(e,t,n){if(n&be.SkipSelf){for(var r=t,a=e;!(null!==(r=r.parent)||n&be.Host||(r=Ft(a),null===r)||(a=a[15],10&r.type)););if(null===r)return!1;t=r,e=a}var i=_t.lFrame=jt();return i.currentTNode=t,i.lView=e,!0}function Ut(e){var t=jt(),n=e[1];_t.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function jt(){var e=_t.lFrame,t=null===e?null:e.child;return null===t?Ht(e):t}function Ht(e){var t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Vt(){var e=_t.lFrame;return _t.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Wt=Vt;function qt(){var e=Vt();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Gt(){return _t.lFrame.selectedIndex}function Xt(e){_t.lFrame.selectedIndex=e}function Zt(){var e=_t.lFrame;return pt(e.tView,e.selectedIndex)}function Yt(e,t){for(var n=t.directiveStart,r=t.directiveEnd;n<r;n++){var a=e.data[n].type.prototype,i=a.ngAfterContentInit,o=a.ngAfterContentChecked,s=a.ngAfterViewInit,u=a.ngAfterViewChecked,c=a.ngOnDestroy;i&&(e.contentHooks||(e.contentHooks=[])).push(-n,i),o&&((e.contentHooks||(e.contentHooks=[])).push(n,o),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,o)),s&&(e.viewHooks||(e.viewHooks=[])).push(-n,s),u&&((e.viewHooks||(e.viewHooks=[])).push(n,u),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,u)),null!=c&&(e.destroyHooks||(e.destroyHooks=[])).push(n,c)}}function Kt(e,t,n){Jt(e,t,3,n)}function Qt(e,t,n,r){(3&e[2])===n&&Jt(e,t,n,r)}function $t(e,t){var n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Jt(e,t,n,r){for(var a=null!=r?r:-1,i=t.length-1,o=0,s=void 0!==r?65535&e[18]:0;s<i;s++)if("number"==typeof t[s+1]){if(o=t[s],null!=r&&o>=r)break}else t[s]<0&&(e[18]+=65536),(o<a||-1==a)&&(en(e,n,t,s),e[18]=(4294901760&e[18])+s+2),s++}function en(e,t,n,r){var a=n[r]<0,i=n[r+1],o=e[a?-n[r]:n[r]];if(a){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{i.call(o)}finally{}}}else try{i.call(o)}finally{}}var tn=function e(t,n,r){_classCallCheck(this,e),this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function nn(e,t,n){for(var r=lt(e),a=0;a<n.length;){var i=n[a];if("number"==typeof i){if(0!==i)break;a++;var o=n[a++],s=n[a++],u=n[a++];r?e.setAttribute(t,s,u,o):t.setAttributeNS(o,s,u)}else{var c=i,l=n[++a];an(c)?r&&e.setProperty(t,c,l):r?e.setAttribute(t,c,l):t.setAttribute(c,l),a++}}return a}function rn(e){return 3===e||4===e||6===e}function an(e){return 64===e.charCodeAt(0)}function on(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else for(var n=-1,r=0;r<t.length;r++){var a=t[r];"number"==typeof a?n=a:0===n||sn(e,n,a,null,-1===n||2===n?t[++r]:null)}return e}function sn(e,t,n,r,a){var i=0,o=e.length;if(-1===t)o=-1;else for(;i<e.length;){var s=e[i++];if("number"==typeof s){if(s===t){o=-1;break}if(s>t){o=i-1;break}}}for(;i<e.length;){var u=e[i];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==a&&(e[i+1]=a));if(r===e[i+1])return void(e[i+2]=a)}i++,null!==r&&i++,null!==a&&i++}-1!==o&&(e.splice(o,0,t),i=o+1),e.splice(i++,0,n),null!==r&&e.splice(i++,0,r),null!==a&&e.splice(i++,0,a)}function un(e){return-1!==e}function cn(e){return 32767&e}function ln(e,t){for(var n=e>>16,r=t;n>0;)r=r[15],n--;return r}var fn=!0;function hn(e){var t=fn;return fn=e,t}var dn=0;function pn(e,t){var n=vn(e,t);if(-1!==n)return n;var r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,mn(r.data,e),mn(t,null),mn(r.blueprint,null));var a=gn(e,t),i=e.injectorIndex;if(un(a))for(var o=cn(a),s=ln(a,t),u=s[1].data,c=0;c<8;c++)t[i+c]=s[o+c]|u[o+c];return t[i+8]=a,i}function mn(e,t){e.push(0,0,0,0,0,0,0,0,t)}function vn(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function gn(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=0,r=null,a=t;null!==a;){var i=a[1],o=i.type;if(null===(r=2===o?i.declTNode:1===o?a[6]:null))return-1;if(n++,a=a[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function yn(e,t,n){!function(e,t,n){var r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Fe)&&(r=n[Fe]),null==r&&(r=n[Fe]=dn++);var a=255&r;t.data[e+(a>>5)]|=1<<a}(e,t,n)}function bn(e,t,n){if(n&be.Optional)return e;ue(t,"NodeInjector")}function kn(e,t,n,r){if(n&be.Optional&&void 0===r&&(r=null),0==(n&(be.Self|be.Host))){var a=e[9],i=ke(void 0);try{return a?a.get(t,r,n&be.Optional):_e(t,r,n&be.Optional)}finally{ke(i)}}return bn(r,t,n)}function _n(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:be.Default,a=arguments.length>4?arguments[4]:void 0;if(null!==e){var i=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e.hasOwnProperty(Fe)?e[Fe]:void 0;return"number"==typeof t?t>=0?255&t:Cn:t}(n);if("function"==typeof i){if(!zt(t,e,r))return r&be.Host?bn(a,n,r):kn(t,n,r,a);try{var o=i(r);if(null!=o||r&be.Optional)return o;ue(n)}finally{Wt()}}else if("number"==typeof i){var s=null,u=vn(e,t),c=-1,l=r&be.Host?t[16][6]:null;for((-1===u||r&be.SkipSelf)&&(-1!==(c=-1===u?gn(e,t):t[u+8])&&In(r,!1)?(s=t[1],u=cn(c),t=ln(c,t)):u=-1);-1!==u;){var f=t[1];if(En(i,u,f.data)){var h=Tn(u,t,n,s,r,l);if(h!==wn)return h}-1!==(c=t[u+8])&&In(r,t[1].data[u+8]===l)&&En(i,u,t)?(s=f,u=cn(c),t=ln(c,t)):u=-1}}}return kn(t,n,r,a)}var wn={};function Cn(){return new An(St(),Ct())}function Tn(e,t,n,r,a,i){var o=t[1],s=o.data[e+8],u=xn(s,o,n,null==r?$e(s)&&fn:r!=o&&0!=(3&s.type),a&be.Host&&i===s);return null!==u?Sn(t,o,u,s):wn}function xn(e,t,n,r,a){for(var i=e.providerIndexes,o=t.data,s=1048575&i,u=e.directiveStart,c=i>>20,l=a?s+c:e.directiveEnd,f=r?s:s+c;f<l;f++){var h=o[f];if(f<u&&n===h||f>=u&&h.type===n)return f}if(a){var d=o[u];if(d&&et(d)&&d.type===n)return u}return null}function Sn(e,t,n,r){var a=e[n],i=t.data;if(a instanceof tn){var o=a;o.resolving&&function(e,t){throw new ie("200","Circular dependency in DI detected for ".concat(e))}(se(i[n]));var s=hn(o.canSeeViewProviders);o.resolving=!0;var u=o.injectImpl?ke(o.injectImpl):null;zt(e,r,be.Default);try{a=e[n]=o.factory(void 0,i,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){var r=t.type.prototype,a=r.ngOnChanges,i=r.ngOnInit,o=r.ngDoCheck;if(a){var s=it(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,i[n],t)}finally{null!==u&&ke(u),hn(s),o.resolving=!1,Wt()}}return a}function En(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function In(e,t){return!(e&be.Self||e&be.Host&&t)}var An=function(){function e(t,n){_classCallCheck(this,e),this._tNode=t,this._lView=n}return _createClass(e,[{key:"get",value:function(e,t){return _n(this._tNode,this._lView,e,void 0,t)}}]),e}();function Rn(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;var n=e.attrs;if(n)for(var r=n.length,a=0;a<r;){var i=n[a];if(rn(i))break;if(0===i)a+=2;else if("number"==typeof i)for(a++;a<r&&"string"==typeof n[a];)a++;else{if(i===t)return n[a+1];a+=2}}return null}(St(),e)}function On(e,t,n){return we(function(){var r=function(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}(t);function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof a)return r.apply(this,t),this;var i=_construct(a,t);return o.annotation=i,o;function o(e,t,n){for(var r=e.hasOwnProperty("__parameters__")?e.__parameters__:Object.defineProperty(e,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(i),e}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a})}var Pn=function(){function e(t,n){_classCallCheck(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ce({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(e,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),e}(),Mn=new Pn("AnalyzeForEntryComponents"),Dn=Function;function Ln(e,t){void 0===t&&(t=e);for(var n=0;n<e.length;n++){var r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),Ln(r,t)):t!==e&&t.push(r)}return t}function Nn(e,t){e.forEach(function(e){return Array.isArray(e)?Nn(e,t):t(e)})}function Bn(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Fn(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function zn(e,t){for(var n=[],r=0;r<e;r++)n.push(t);return n}var Un,jn={},Hn=/\n/gm,Vn=J({provide:String,useValue:J});function Wn(e){var t=Un;return Un=e,t}function qn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:be.Default;if(void 0===Un)throw new Error("inject() must be called from an injection context");return null===Un?_e(e,void 0,t):Un.get(e,t&be.Optional?null:void 0,t)}function Gn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:be.Default;return(pe||qn)(ae(e),t)}function Xn(e){for(var t=[],n=0;n<e.length;n++){var r=ae(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var a=void 0,i=be.Default,o=0;o<r.length;o++){var s=r[o],u=s.__NG_DI_FLAG__;"number"==typeof u?-1===u?a=s.token:i|=u:a=s}t.push(Gn(a,i))}else t.push(Gn(r))}return t}function Zn(e,t){return e.__NG_DI_FLAG__=t,e.prototype.__NG_DI_FLAG__=t,e}var Yn,Kn,Qn=Zn(On("Inject",function(e){return{token:e}}),-1),$n=Zn(On("Optional"),8),Jn=Zn(On("SkipSelf"),4);function er(e){var t;return(null===(t=function(){if(void 0===Yn&&(Yn=null,Ae.trustedTypes))try{Yn=Ae.trustedTypes.createPolicy("angular",{createHTML:function(e){return e},createScript:function(e){return e},createScriptURL:function(e){return e}})}catch(t){}return Yn}())||void 0===t?void 0:t.createHTML(e))||e}function tr(e){var t;return(null===(t=function(){if(void 0===Kn&&(Kn=null,Ae.trustedTypes))try{Kn=Ae.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:function(e){return e},createScript:function(e){return e},createScriptURL:function(e){return e}})}catch(t){}return Kn}())||void 0===t?void 0:t.createHTML(e))||e}var nr=function(){function e(t){_classCallCheck(this,e),this.changingThisBreaksApplicationSecurity=t}return _createClass(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity," (see https://g.co/ng/security#xss)")}}]),e}(),rr=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(nr),ar=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(nr),ir=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(nr),or=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(nr),sr=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(nr);function ur(e){return e instanceof nr?e.changingThisBreaksApplicationSecurity:e}function cr(e,t){var n=lr(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error("Required a safe ".concat(t,", got a ").concat(n," (see https://g.co/ng/security#xss)"))}return n===t}function lr(e){return e instanceof nr&&e.getTypeName()||null}var fr=function(){function e(t){_classCallCheck(this,e),this.inertDocumentHelper=t}return _createClass(e,[{key:"getInertBodyElement",value:function(e){e="<body><remove></remove>"+e;try{var t=(new window.DOMParser).parseFromString(er(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(n){return null}}}]),e}(),hr=function(){function e(t){if(_classCallCheck(this,e),this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);var r=this.inertDocument.createElement("body");n.appendChild(r)}}return _createClass(e,[{key:"getInertBodyElement",value:function(e){var t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=er(e),t;var n=this.inertDocument.createElement("body");return n.innerHTML=er(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(e){for(var t=e.attributes,n=t.length-1;0<n;n--){var r=t.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||e.removeAttribute(r)}for(var a=e.firstChild;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}]),e}(),dr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,pr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function mr(e){return(e=String(e)).match(dr)||e.match(pr)?e:"unsafe:"+e}function vr(e){var t,n={},r=_createForOfIteratorHelper(e.split(","));try{for(r.s();!(t=r.n()).done;){n[t.value]=!0}}catch(a){r.e(a)}finally{r.f()}return n}function gr(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var a=0,i=n;a<i.length;a++){var o=i[a];for(var s in o)o.hasOwnProperty(s)&&(e[s]=!0)}return e}var yr,br=vr("area,br,col,hr,img,wbr"),kr=vr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),_r=vr("rp,rt"),wr=gr(_r,kr),Cr=gr(br,gr(kr,vr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),gr(_r,vr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),wr),Tr=vr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xr=vr("srcset"),Sr=gr(Tr,xr,vr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),vr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Er=vr("script,style,template"),Ir=function(){function e(){_classCallCheck(this,e),this.sanitizedSomething=!1,this.buf=[]}return _createClass(e,[{key:"sanitizeChildren",value:function(e){for(var t=e.firstChild,n=!0;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(e){var t=e.nodeName.toLowerCase();if(!Cr.hasOwnProperty(t))return this.sanitizedSomething=!0,!Er.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);for(var n,r=e.attributes,a=0;a<r.length;a++){var i=r.item(a),o=i.name,s=o.toLowerCase();if(Sr.hasOwnProperty(s)){var u=i.value;Tr[s]&&(u=mr(u)),xr[s]&&(n=u,u=(n=String(n)).split(",").map(function(e){return mr(e.trim())}).join(", ")),this.buf.push(" ",o,'="',Or(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(e){var t=e.nodeName.toLowerCase();Cr.hasOwnProperty(t)&&!br.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}},{key:"chars",value:function(e){this.buf.push(Or(e))}},{key:"checkClobberedElement",value:function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(e.outerHTML));return t}}]),e}(),Ar=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Rr=/([^\#-~ |!])/g;function Or(e){return e.replace(/&/g,"&amp;").replace(Ar,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Rr,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Pr(e,t){var n=null;try{yr=yr||function(e){var t=new hr(e);return function(){try{return!!(new window.DOMParser).parseFromString(er(""),"text/html")}catch(e){return!1}}()?new fr(t):t}(e);var r=t?String(t):"";n=yr.getInertBodyElement(r);var a=5,i=r;do{if(0===a)throw new Error("Failed to sanitize html because the input is unstable");a--,r=i,i=n.innerHTML,n=yr.getInertBodyElement(r)}while(r!==i);return er((new Ir).sanitizeChildren(Mr(n)||n))}finally{if(n)for(var o=Mr(n)||n;o.firstChild;)o.removeChild(o.firstChild)}}function Mr(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Dr=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}({});function Lr(e){var t=Br();return t?tr(t.sanitize(Dr.HTML,e)||""):cr(e,"HTML")?tr(ur(e)):Pr(ct(),oe(e))}function Nr(e){var t=Br();return t?t.sanitize(Dr.URL,e)||"":cr(e,"URL")?ur(e):mr(oe(e))}function Br(){var e=Ct();return e&&e[12]}function Fr(e,t){e.__ngContext__=t}function zr(e){var t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Ur(e){return e.ngDebugContext}function jr(e){return e.ngOriginalError}function Hr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.error.apply(e,n)}var Vr=function(){function e(){_classCallCheck(this,e),this._console=console}return _createClass(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e.ngErrorLogger||Hr}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?Ur(e)?Ur(e):this._findContext(jr(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=jr(e);t&&jr(t);)t=jr(t);return t}}]),e}(),Wr=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ae);function qr(e){return e instanceof Function?e():e}var Gr=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}({});function Xr(e,t){return(void 0)(e,t)}function Zr(e){var t=e[3];return Ke(t)?t[3]:t}function Yr(e){return Qr(e[13])}function Kr(e){return Qr(e[4])}function Qr(e){for(;null!==e&&!Ke(e);)e=e[4];return e}function $r(e,t,n,r,a){if(null!=r){var i,o=!1;Ke(r)?i=r:Ye(r)&&(o=!0,r=r[0]);var s=ht(r);0===e&&null!==n?null==a?oa(t,n,s):ia(t,n,s,a||null,!0):1===e&&null!==n?ia(t,n,s,a||null,!0):2===e?function(e,t,n){var r=ua(e,t);r&&function(e,t,n,r){lt(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,s,o):3===e&&t.destroyNode(s),null!=i&&function(e,t,n,r,a){var i=n[7];i!==ht(n)&&$r(t,e,r,i,a);for(var o=10;o<n.length;o++){var s=n[o];va(s[1],s,e,t,r,i)}}(t,e,i,n,a)}}function Jr(e,t,n){return lt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function ea(e,t){var n=e[9],r=n.indexOf(t),a=t[3];1024&t[2]&&(t[2]&=-1025,kt(a,-1)),n.splice(r,1)}function ta(e,t){if(!(e.length<=10)){var n,r=10+t,a=e[r];if(a){var i=a[17];null!==i&&i!==e&&ea(i,a),t>0&&(e[r-1][4]=a[4]);var o=Fn(e,10+t);va(a[1],n=a,n[11],2,null,null),n[0]=null,n[6]=null;var s=o[19];null!==s&&s.detachView(o[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}}function na(e,t){if(!(256&t[2])){var n=t[11];lt(n)&&n.destroyNode&&va(e,t,n,3,null,null),function(e){var t=e[13];if(!t)return ra(e[1],e);for(;t;){var n=null;if(Ye(t))n=t[13];else{var r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)Ye(t)&&ra(t[1],t),t=t[3];null===t&&(t=e),Ye(t)&&ra(t[1],t),n=t&&t[4]}t=n}}(t)}}function ra(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){var n;if(null!=e&&null!=(n=e.destroyHooks))for(var r=0;r<n.length;r+=2){var a=t[n[r]];if(!(a instanceof tn)){var i=n[r+1];if(Array.isArray(i))for(var o=0;o<i.length;o+=2){var s=a[i[o]],u=i[o+1];try{u.call(s)}finally{}}else try{i.call(a)}finally{}}}}(e,t),function(e,t){var n=e.cleanup,r=t[7],a=-1;if(null!==n)for(var i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){var o=n[i+1],s="function"==typeof o?o(t):ht(t[o]),u=r[a=n[i+2]],c=n[i+3];"boolean"==typeof c?s.removeEventListener(n[i],u,c):c>=0?r[a=c]():r[a=-c].unsubscribe(),i+=2}else{var l=r[a=n[i+1]];n[i].call(l)}if(null!==r){for(var f=a+1;f<r.length;f++)(0,r[f])();t[7]=null}}(e,t),1===t[1].type&&lt(t[11])&&t[11].destroy();var n=t[17];if(null!==n&&Ke(t[3])){n!==t[3]&&ea(n,t);var r=t[19];null!==r&&r.detachView(e)}}}function aa(e,t,n){return function(e,t,n){for(var r=t;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){var a=e.data[r.directiveStart].encapsulation;if(a===Te.None||a===Te.Emulated)return null}return dt(r,n)}(e,t.parent,n)}function ia(e,t,n,r,a){lt(e)?e.insertBefore(t,n,r,a):t.insertBefore(n,r,a)}function oa(e,t,n){lt(e)?e.appendChild(t,n):t.appendChild(n)}function sa(e,t,n,r,a){null!==r?ia(e,t,n,r,a):oa(e,t,n)}function ua(e,t){return lt(e)?e.parentNode(t):t.parentNode}function ca(e,t,n){return la(e,t,n)}var la=function(e,t,n){return 40&e.type?dt(e,n):null};function fa(e,t,n,r){var a=aa(e,r,t),i=t[11],o=ca(r.parent||t[6],r,t);if(null!=a)if(Array.isArray(n))for(var s=0;s<n.length;s++)sa(i,a,n[s],o,!1);else sa(i,a,n,o,!1)}function ha(e,t){if(null!==t){var n=t.type;if(3&n)return dt(t,e);if(4&n)return pa(-1,e[t.index]);if(8&n){var r=t.child;if(null!==r)return ha(e,r);var a=e[t.index];return Ke(a)?pa(-1,a):ht(a)}if(32&n)return Xr(t,e)()||ht(e[t.index]);var i=da(e,t);return null!==i?Array.isArray(i)?i[0]:ha(Zr(e[16]),i):ha(e,t.next)}return null}function da(e,t){return null!==t?e[16][6].projection[t.projection]:null}function pa(e,t){var n=10+e+1;if(n<t.length){var r=t[n],a=r[1].firstChild;if(null!==a)return ha(r,a)}return t[7]}function ma(e,t,n,r,a,i,o){for(;null!=n;){var s=r[n.index],u=n.type;if(o&&0===t&&(s&&Fr(ht(s),r),n.flags|=4),64!=(64&n.flags))if(8&u)ma(e,t,n.child,r,a,i,!1),$r(t,e,a,s,i);else if(32&u){for(var c=Xr(n,r),l=void 0;l=c();)$r(t,e,a,l,i);$r(t,e,a,s,i)}else 16&u?ga(e,t,r,n,a,i):$r(t,e,a,s,i);n=o?n.projectionNext:n.next}}function va(e,t,n,r,a,i){ma(n,r,e.firstChild,t,a,i,!1)}function ga(e,t,n,r,a,i){var o=n[16],s=o[6].projection[r.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)$r(t,e,a,s[u],i);else ma(e,t,s,o[3],a,i,!0)}function ya(e,t,n){lt(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function ba(e,t,n){lt(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function ka(e,t,n){for(var r=e.length;;){var a=e.indexOf(t,n);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){var i=t.length;if(a+i===r||e.charCodeAt(a+i)<=32)return a}n=a+1}}function _a(e,t,n){for(var r=0;r<e.length;){var a=e[r++];if(n&&"class"===a){if(-1!==ka((a=e[r]).toLowerCase(),t,0))return!0}else if(1===a){for(;r<e.length&&"string"==typeof(a=e[r++]);)if(a.toLowerCase()===t)return!0;return!1}}return!1}function wa(e){return 4===e.type&&"ng-template"!==e.value}function Ca(e,t,n){return t===(4!==e.type||n?e.value:"ng-template")}function Ta(e,t,n){for(var r=4,a=e.attrs||[],i=function(e){for(var t=0;t<e.length;t++)if(rn(e[t]))return t;return e.length}(a),o=!1,s=0;s<t.length;s++){var u=t[s];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!Ca(e,u,n)||""===u&&1===t.length){if(xa(r))return!1;o=!0}}else{var c=8&r?u:t[++s];if(8&r&&null!==e.attrs){if(!_a(e.attrs,c,n)){if(xa(r))return!1;o=!0}continue}var l=Sa(8&r?"class":u,a,wa(e),n);if(-1===l){if(xa(r))return!1;o=!0;continue}if(""!==c){var f;f=l>i?"":a[l+1].toLowerCase();var h=8&r?f:null;if(h&&-1!==ka(h,c,0)||2&r&&c!==f){if(xa(r))return!1;o=!0}}}}else{if(!o&&!xa(r)&&!xa(u))return!1;if(o&&xa(u))continue;o=!1,r=u|1&r}}return xa(r)||o}function xa(e){return 0==(1&e)}function Sa(e,t,n,r){if(null===t)return-1;var a=0;if(r||!n){for(var i=!1;a<t.length;){var o=t[a];if(o===e)return a;if(3===o||6===o)i=!0;else{if(1===o||2===o){for(var s=t[++a];"string"==typeof s;)s=t[++a];continue}if(4===o)break;if(0===o){a+=4;continue}}a+=i?1:2}return-1}return function(e,t){var n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){var r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Ea(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<t.length;r++)if(Ta(e,t[r],n))return!0;return!1}function Ia(e,t){e:for(var n=0;n<t.length;n++){var r=t[n];if(e.length===r.length){for(var a=0;a<e.length;a++)if(e[a]!==r[a])continue e;return!0}}return!1}function Aa(e,t){return e?":not("+t.trim()+")":t}function Ra(e){for(var t=e[0],n=1,r=2,a="",i=!1;n<e.length;){var o=e[n];if("string"==typeof o)if(2&r){var s=e[++n];a+="["+o+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?a+="."+o:4&r&&(a+=" "+o);else""===a||xa(o)||(t+=Aa(i,a),a=""),r=o,i=i||!xa(r);n++}return""!==a&&(t+=Aa(i,a)),t}var Oa={};function Pa(e){Ma(Tt(),Ct(),Gt()+e,Ot())}function Ma(e,t,n,r){if(!r)if(3==(3&t[2])){var a=e.preOrderCheckHooks;null!==a&&Kt(t,a,n)}else{var i=e.preOrderHooks;null!==i&&Qt(t,i,0,n)}Xt(n)}function Da(e,t){var n=e.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var a=n[r],i=n[r+1];if(-1!==i){var o=e.data[i];Bt(a),o.contentQueries(2,t[i],i)}}}function La(e,t,n,r,a,i,o,s,u,c){var l=t.blueprint.slice();return l[0]=a,l[2]=140|r,bt(l),l[3]=l[15]=e,l[8]=n,l[10]=o||e&&e[10],l[11]=s||e&&e[11],l[12]=u||e&&e[12]||null,l[9]=c||e&&e[9]||null,l[6]=i,l[16]=2==t.type?e[16]:l,l}function Na(e,t,n,r,a){var i,o,s=e.data[t];if(null===s)s=function(e,t,n,r,a){var i=Et(),o=At(),s=e.data[t]=function(e,t,n,r,a,i){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:a,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?i:i&&i.parent,n,t,r,a);return null===e.firstChild&&(e.firstChild=s),null!==i&&(o?null==i.child&&null!==s.parent&&(i.child=s):null===i.next&&(i.next=s)),s}(e,t,n,r,a),_t.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=a;var u=(i=_t.lFrame,o=i.currentTNode,i.isParent?o:o.parent);s.injectorIndex=null===u?-1:u.injectorIndex}return It(s,!0),s}function Ba(e,t,n,r){if(0===n)return-1;for(var a=t.length,i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return a}function Fa(e,t,n){Ut(t);try{var r=e.viewQuery;null!==r&&di(1,r,n);var a=e.template;null!==a&&ja(e,t,a,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Da(e,t),e.staticViewQueries&&di(2,e.viewQuery,n);var i=e.components;null!==i&&function(e,t){for(var n=0;n<t.length;n++)ui(e,t[n])}(t,i)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),o}finally{t[2]&=-5,qt()}}function za(e,t,n,r){var a=t[2];if(256!=(256&a)){Ut(t);var i=Ot();try{bt(t),_t.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&ja(e,t,n,2,r);var o=3==(3&a);if(!i)if(o){var s=e.preOrderCheckHooks;null!==s&&Kt(t,s,null)}else{var u=e.preOrderHooks;null!==u&&Qt(t,u,0,null),$t(t,0)}if(function(e){for(var t=Yr(e);null!==t;t=Kr(t))if(t[2])for(var n=t[9],r=0;r<n.length;r++){var a=n[r],i=a[3];0==(1024&a[2])&&kt(i,1),a[2]|=1024}}(t),function(e){for(var t=Yr(e);null!==t;t=Kr(t))for(var n=10;n<t.length;n++){var r=t[n],a=r[1];gt(r)&&za(a,r,a.template,r[8])}}(t),null!==e.contentQueries&&Da(e,t),!i)if(o){var c=e.contentCheckHooks;null!==c&&Kt(t,c)}else{var l=e.contentHooks;null!==l&&Qt(t,l,1),$t(t,1)}!function(e,t){var n,r,a,i=e.hostBindingOpCodes;if(null!==i)try{for(var o=0;o<i.length;o++){var s=i[o];if(s<0)Xt(~s);else{var u=s,c=i[++o],l=i[++o];n=c,r=u,a=void 0,(a=_t.lFrame).bindingIndex=a.bindingRootIndex=n,Lt(r),l(2,t[u])}}}finally{Xt(-1)}}(e,t);var f=e.components;null!==f&&function(e,t){for(var n=0;n<t.length;n++)oi(e,t[n])}(t,f);var h=e.viewQuery;if(null!==h&&di(2,h,r),!i)if(o){var d=e.viewCheckHooks;null!==d&&Kt(t,d)}else{var p=e.viewHooks;null!==p&&Qt(t,p,2),$t(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),i||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,kt(t[3],-1))}finally{qt()}}}function Ua(e,t,n,r){var a=t[10],i=!Ot(),o=vt(t);try{i&&!o&&a.begin&&a.begin(),o&&Fa(e,t,r),za(e,t,n,r)}finally{i&&!o&&a.end&&a.end()}}function ja(e,t,n,r,a){var i=Gt(),o=2&r;try{Xt(-1),o&&t.length>20&&Ma(e,t,20,Ot()),n(r,a)}finally{Xt(i)}}function Ha(e,t,n){wt()&&(function(e,t,n,r){var a=n.directiveStart,i=n.directiveEnd;e.firstCreatePass||pn(n,t),Fr(r,t);for(var o=n.initialInputs,s=a;s<i;s++){var u=e.data[s],c=et(u);c&&ni(t,n,u);var l=Sn(t,e,s,n);Fr(l,t),null!==o&&ri(0,s-a,l,u,0,o),c&&(mt(n.index,t)[8]=l)}}(e,t,n,dt(n,t)),128==(128&n.flags)&&function(e,t,n){var r=n.directiveStart,a=n.directiveEnd,i=n.index,o=_t.lFrame.currentDirectiveIndex;try{Xt(i);for(var s=r;s<a;s++){var u=e.data[s],c=t[s];Lt(s),null===u.hostBindings&&0===u.hostVars&&null===u.hostAttrs||Qa(u,c)}}finally{Xt(-1),Lt(o)}}(e,t,n))}function Va(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dt,r=t.localNames;if(null!==r)for(var a=t.index+1,i=0;i<r.length;i+=2){var o=r[i+1],s=-1===o?n(t,e):e[o];e[a++]=s}}function Wa(e){var t=e.tView;return null===t||t.incompleteFirstPass?e.tView=qa(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function qa(e,t,n,r,a,i,o,s,u,c){var l=20+r,f=l+a,h=function(e,t){for(var n=[],r=0;r<t;r++)n.push(r<e?null:Oa);return n}(l,f),d="function"==typeof c?c():c;return h[1]={type:e,blueprint:h,template:n,queries:null,viewQuery:s,declTNode:t,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Ga(e,t,n,r){var a=mi(t);null===n?a.push(r):(a.push(n),e.firstCreatePass&&vi(e).push(r,a.length-1))}function Xa(e,t,n){for(var r in e)if(e.hasOwnProperty(r)){var a=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,a):n[r]=[t,a]}return n}function Za(e,t,n,r,a,i,o,s){var u,c,l=dt(t,n),f=t.inputs;!s&&null!=f&&(u=f[r])?(yi(e,n,u,r,a),$e(t)&&function(e,t){var n=mt(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r="class"===(c=r)?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c,a=null!=o?o(a,t.value||"",r):a,lt(i)?i.setProperty(l,r,a):an(r)||(l.setProperty?l.setProperty(r,a):l[r]=a))}function Ya(e,t,n,r){var a=!1;if(wt()){var i=function(e,t,n){var r=e.directiveRegistry,a=null;if(r)for(var i=0;i<r.length;i++){var o=r[i];Ea(n,o.selectors,!1)&&(a||(a=[]),yn(pn(n,t),e,o.type),et(o)?($a(e,n),a.unshift(o)):a.push(o))}return a}(e,t,n),o=null===r?null:{"":-1};if(null!==i){a=!0,ei(n,e.data.length,i.length);for(var s=0;s<i.length;s++){var u=i[s];u.providersResolver&&u.providersResolver(u)}for(var c=!1,l=!1,f=Ba(e,t,i.length,null),h=0;h<i.length;h++){var d=i[h];n.mergedAttrs=on(n.mergedAttrs,d.hostAttrs),ti(e,n,t,f,d),Ja(f,d,o),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128);var p=d.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),c=!0),l||!p.ngOnChanges&&!p.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),l=!0),f++}!function(e,t){for(var n=t.directiveEnd,r=e.data,a=t.attrs,i=[],o=null,s=null,u=t.directiveStart;u<n;u++){var c=r[u],l=c.inputs,f=null===a||wa(t)?null:ai(l,a);i.push(f),o=Xa(l,u,o),s=Xa(c.outputs,u,s)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=i,t.inputs=o,t.outputs=s}(e,n)}o&&function(e,t,n){if(t)for(var r=e.localNames=[],a=0;a<t.length;a+=2){var i=n[t[a+1]];if(null==i)throw new ie("301","Export of name '".concat(t[a+1],"' not found!"));r.push(t[a],i)}}(n,r,o)}return n.mergedAttrs=on(n.mergedAttrs,n.attrs),a}function Ka(e,t,n,r,a,i){var o=i.hostBindings;if(o){var s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);var u=~t.index;(function(e){for(var t=e.length;t>0;){var n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=u&&s.push(u),s.push(r,a,o)}}function Qa(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function $a(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Ja(e,t,n){if(n){if(t.exportAs)for(var r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;et(t)&&(n[""]=e)}}function ei(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function ti(e,t,n,r,a){e.data[r]=a;var i=a.factory||(a.factory=tt(a.type)),o=new tn(i,et(a),null);e.blueprint[r]=o,n[r]=o,Ka(e,t,0,r,Ba(e,n,a.hostVars,Oa),a)}function ni(e,t,n){var r=dt(t,e),a=Wa(n),i=e[10],o=ci(e,La(e,a,null,n.onPush?64:16,r,t,i,i.createRenderer(r,n),null,null));e[t.index]=o}function ri(e,t,n,r,a,i){var o=i[t];if(null!==o)for(var s=r.setInput,u=0;u<o.length;){var c=o[u++],l=o[u++],f=o[u++];null!==s?r.setInput(n,f,c,l):n[l]=f}}function ai(e,t){for(var n=null,r=0;r<t.length;){var a=t[r];if(0!==a)if(5!==a){if("number"==typeof a)break;e.hasOwnProperty(a)&&(null===n&&(n=[]),n.push(a,e[a],t[r+1])),r+=2}else r+=2;else r+=4}return n}function ii(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function oi(e,t){var n=mt(t,e);if(gt(n)){var r=n[1];80&n[2]?za(r,n,r.template,n[8]):n[5]>0&&si(n)}}function si(e){for(var t=Yr(e);null!==t;t=Kr(t))for(var n=10;n<t.length;n++){var r=t[n];if(1024&r[2]){var a=r[1];za(a,r,a.template,r[8])}else r[5]>0&&si(r)}var i=e[1].components;if(null!==i)for(var o=0;o<i.length;o++){var s=mt(i[o],e);gt(s)&&s[5]>0&&si(s)}}function ui(e,t){var n=mt(t,e),r=n[1];!function(e,t){for(var n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),Fa(r,n,n[8])}function ci(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function li(e){for(;e;){e[2]|=64;var t=Zr(e);if(0!=(512&e[2])&&!t)return e;e=t}return null}function fi(e,t,n){var r=t[10];r.begin&&r.begin();try{za(e,t,e.template,n)}catch(a){throw gi(t,a),a}finally{r.end&&r.end()}}function hi(e){!function(e){for(var t=0;t<e.components.length;t++){var n=e.components[t],r=zr(n),a=r[1];Ua(a,r,a.template,n)}}(e[8])}function di(e,t,n){Bt(0),t(e,n)}var pi=Promise.resolve(null);function mi(e){return e[7]||(e[7]=[])}function vi(e){return e.cleanup||(e.cleanup=[])}function gi(e,t){var n=e[9],r=n?n.get(Vr,null):null;r&&r.handleError(t)}function yi(e,t,n,r,a){for(var i=0;i<n.length;){var o=n[i++],s=n[i++],u=t[o],c=e.data[o];null!==c.setInput?c.setInput(u,a,r,s):u[s]=a}}function bi(e,t,n){var r=n?e.styles:null,a=n?e.classes:null,i=0;if(null!==t)for(var o=0;o<t.length;o++){var s=t[o];"number"==typeof s?i=s:1==i?a=te(a,s):2==i&&(r=te(r,s+": "+t[++o]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=a:e.classesWithoutHost=a}var ki,_i=new Pn("INJECTOR",-1),wi=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jn;if(t===jn){var n=new Error("NullInjectorError: No provider for ".concat(ee(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}(),Ci=new Pn("Set Injector scope."),Ti={},xi={};function Si(){return void 0===ki&&(ki=new wi),ki}function Ei(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new Ii(e,n,t||Si(),r)}var Ii=function(){function e(t,n,r){var a=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var o=[];n&&Nn(n,function(e){return a.processProvider(e,t,n)}),Nn([t],function(e){return a.processInjectorType(e,[],o)}),this.records.set(_i,Ri(void 0,this));var s=this.records.get(Ci);this.scope=null!=s?s.value:null,this.source=i||("object"==typeof t?null:ee(t))}return _createClass(e,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(e){return e.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jn,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:be.Default;this.assertNotDestroyed();var r,a=Wn(this);try{if(!(n&be.SkipSelf)){var i=this.records.get(e);if(void 0===i){var o=("function"==typeof(r=e)||"object"==typeof r&&r instanceof Pn)&&fe(e);i=o&&this.injectableDefInScope(o)?Ri(Ai(e),Ti):null,this.records.set(e,i)}if(null!=i)return this.hydrate(e,i)}return(n&be.Self?Si():this.parent).get(e,t=n&be.Optional&&t===jn?null:t)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(ee(e)),a)throw s;return function(e,t,n,r){var a=e.ngTempTokenPath;throw t.__source&&a.unshift(t.__source),e.message=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var a=ee(t);if(Array.isArray(t))a=t.map(ee).join(" -> ");else if("object"==typeof t){var i=[];for(var o in t)if(t.hasOwnProperty(o)){var s=t[o];i.push(o+":"+("string"==typeof s?JSON.stringify(s):ee(s)))}a="{".concat(i.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(a,"]: ").concat(e.replace(Hn,"\n  "))}("\n"+e.message,a,"R3InjectorError",r),e.ngTokenPath=a,e.ngTempTokenPath=null,e}(s,e,0,this.source)}throw s}finally{Wn(a)}}},{key:"_resolveInjectorDefTypes",value:function(){var e=this;this.injectorDefTypes.forEach(function(t){return e.get(t)})}},{key:"toString",value:function(){var e=[];return this.records.forEach(function(t,n){return e.push(ee(n))}),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,t,n){var r=this;if(!(e=ae(e)))return!1;var a=de(e),i=null==a&&e.ngModule||void 0,o=void 0===i?e:i,s=-1!==n.indexOf(o);if(void 0!==i&&(a=de(i)),null==a)return!1;if(null!=a.imports&&!s){var u;n.push(o);try{Nn(a.imports,function(e){r.processInjectorType(e,t,n)&&(void 0===u&&(u=[]),u.push(e))})}finally{}if(void 0!==u)for(var c=function(e){var t=u[e],n=t.ngModule,a=t.providers;Nn(a,function(e){return r.processProvider(e,n,a||Oe)})},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(o);var f=tt(o)||function(){return new o};this.records.set(o,Ri(f,Ti));var h=a.providers;if(null!=h&&!s){var d=e;Nn(h,function(e){return r.processProvider(e,d,h)})}return void 0!==i&&void 0!==e.providers}},{key:"processProvider",value:function(e,t,n){var r=Pi(e=ae(e))?e:ae(e&&e.provide),a=function(e,t,n){return Oi(e)?Ri(void 0,e.useValue):Ri(function(e,t,n){var r,a;if(Pi(e)){var i=ae(e);return tt(i)||Ai(i)}if(Oi(e))r=function(){return ae(e.useValue)};else if((a=e)&&a.useFactory)r=function(){return e.useFactory.apply(e,_toConsumableArray(Xn(e.deps||[])))};else if(function(e){return!(!e||!e.useExisting)}(e))r=function(){return Gn(ae(e.useExisting))};else{var o=ae(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return tt(o)||Ai(o);r=function(){return _construct(o,_toConsumableArray(Xn(e.deps)))}}return r}(e),Ti)}(e);if(Pi(e)||!0!==e.multi)this.records.get(r);else{var i=this.records.get(r);i||((i=Ri(void 0,Ti,!0)).factory=function(){return Xn(i.multi)},this.records.set(r,i)),r=e,i.multi.push(e)}this.records.set(r,a)}},{key:"hydrate",value:function(e,t){var n;return t.value===Ti&&(t.value=xi,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}},{key:"injectableDefInScope",value:function(e){if(!e.providedIn)return!1;var t=ae(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}]),e}();function Ai(e){var t=fe(e),n=null!==t?t.factory:tt(e);if(null!==n)return n;if(e instanceof Pn)throw new Error("Token ".concat(ee(e)," is missing a \u0275prov definition."));if(e instanceof Function)return function(e){var t=e.length;if(t>0){var n=zn(t,"?");throw new Error("Can't resolve all parameters for ".concat(ee(e),": (").concat(n.join(", "),")."))}var r=function(e){var t=e&&(e[me]||e[ge]);if(t){var n=function(e){if(e.hasOwnProperty("name"))return e.name;var t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "').concat(n,'" class.')),t}return null}(e);return null!==r?function(){return r.factory(e)}:function(){return new e}}(e);throw new Error("unreachable")}function Ri(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:e,value:t,multi:n?[]:void 0}}function Oi(e){return null!==e&&"object"==typeof e&&Vn in e}function Pi(e){return"function"==typeof e}var Mi=function(e,t,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,a=Ei(e,t,n,r);return a._resolveInjectorDefTypes(),a}({name:n},t,e,n)},Di=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?Mi(e,t,""):Mi(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=jn,e.NULL=new wi,e.\u0275prov=ce({token:e,providedIn:"any",factory:function(){return Gn(_i)}}),e.__NG_ELEMENT_ID__=-1,e}();function Li(e,t){Yt(zr(e)[1],St())}var Ni=null;function Bi(){if(!Ni){var e=Ae.Symbol;if(e&&e.iterator)Ni=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Ni=r)}}return Ni}function Fi(e){return!!zi(e)&&(Array.isArray(e)||!(e instanceof Map)&&Bi()in e)}function zi(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Ui(e,t,n){return e[t]=n}function ji(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Hi(e,t,n,r){var a=Ct();return ji(a,Dt(),t)&&(Tt(),function(e,t,n,r,a,i){var o=dt(e,t);!function(e,t,n,r,a,i,o){if(null==i)lt(e)?e.removeAttribute(t,a,n):t.removeAttribute(a);else{var s=null==o?oe(i):o(i,r||"",a);lt(e)?e.setAttribute(t,a,s,n):n?t.setAttributeNS(n,a,s):t.setAttribute(a,s)}}(t[11],o,i,e.value,n,r,a)}(Zt(),a,e,t,n,r)),Hi}function Vi(e,t,n,r,a,i,o,s){var u=Ct(),c=Tt(),l=e+20,f=c.firstCreatePass?function(e,t,n,r,a,i,o,s,u){var c=t.consts,l=Na(t,e,4,o||null,yt(c,s));Ya(t,n,l,yt(c,u)),Yt(t,l);var f=l.tViews=qa(2,l,r,a,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,l),f.queries=t.queries.embeddedTView(l)),l}(l,c,u,t,n,r,a,i,o):c.data[l];It(f,!1);var h=u[11].createComment("");fa(c,u,h,f),Fr(h,u),ci(u,u[l]=ii(h,u,h,f)),Je(f)&&Ha(c,u,f),null!=o&&Va(u,f,s)}function Wi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:be.Default,n=Ct();return null===n?Gn(e,t):_n(St(),n,ae(e),t)}function qi(e,t,n){var r=Ct();return ji(r,Dt(),t)&&Za(Tt(),Zt(),r,e,t,r[11],n,!1),qi}function Gi(e,t,n,r,a){var i=a?"class":"style";yi(e,n,t.inputs[i],i,r)}function Xi(e,t,n,r){var a=Ct(),i=Tt(),o=20+e,s=a[11],u=a[o]=Jr(s,t,_t.lFrame.currentNamespace),c=i.firstCreatePass?function(e,t,n,r,a,i,o){var s=t.consts,u=Na(t,e,2,a,yt(s,i));return Ya(t,n,u,yt(s,o)),null!==u.attrs&&bi(u,u.attrs,!1),null!==u.mergedAttrs&&bi(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(o,i,a,0,t,n,r):i.data[o];It(c,!0);var l=c.mergedAttrs;null!==l&&nn(s,u,l);var f=c.classes;null!==f&&ba(s,u,f);var h=c.styles;null!==h&&ya(s,u,h),64!=(64&c.flags)&&fa(i,a,u,c),0===_t.lFrame.elementDepthCount&&Fr(u,a),_t.lFrame.elementDepthCount++,Je(c)&&(Ha(i,a,c),function(e,t,n){if(Qe(t))for(var r=t.directiveEnd,a=t.directiveStart;a<r;a++){var i=e.data[a];i.contentQueries&&i.contentQueries(1,n[a],a)}}(i,c,a)),null!==r&&Va(a,c)}function Zi(){var e=St();At()?Rt():It(e=e.parent,!1);var t=e;_t.lFrame.elementDepthCount--;var n=Tt();n.firstCreatePass&&(Yt(n,e),Qe(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Gi(n,t,Ct(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Gi(n,t,Ct(),t.stylesWithoutHost,!1)}function Yi(e,t,n,r){Xi(e,t,n,r),Zi()}function Ki(){return Ct()}function Qi(e){return!!e&&"function"==typeof e.then}var $i=function(e){return!!e&&"function"==typeof e.subscribe};function Ji(e,t,n,r){var a=Ct(),i=Tt(),o=St();return function(e,t,n,r,a,i,o,s){var u=Je(r),c=e.firstCreatePass&&vi(e),l=mi(t),f=!0;if(3&r.type||s){var h=dt(r,t),d=s?s(h):h,p=l.length,m=s?function(e){return s(ht(e[r.index]))}:r.index;if(lt(n)){var v=null;if(!s&&u&&(v=function(e,t,n,r){var a=e.cleanup;if(null!=a)for(var i=0;i<a.length-1;i+=2){var o=a[i];if(o===n&&a[i+1]===r){var s=t[7],u=a[i+2];return s.length>u?s[u]:null}"string"==typeof o&&(i+=2)}return null}(e,t,a,r.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=i,v.__ngLastListenerFn__=i,f=!1;else{i=to(r,t,0,i,!1);var g=n.listen(d,a,i);l.push(i,g),c&&c.push(a,m,p,p+1)}}else i=to(r,t,0,i,!0),d.addEventListener(a,i,o),l.push(i),c&&c.push(a,m,p,o)}else i=to(r,t,0,i,!1);var y,b=r.outputs;if(f&&null!==b&&(y=b[a])){var k=y.length;if(k)for(var _=0;_<k;_+=2){var w=t[y[_]][y[_+1]].subscribe(i),C=l.length;l.push(i,w),c&&c.push(a,r.index,C,-(C+1))}}}(i,a,a[11],o,e,t,!!n,r),Ji}function eo(e,t,n,r){try{return!1!==n(r)}catch(a){return gi(e,a),!1}}function to(e,t,n,r,a){return function n(i){if(i===Function)return r;var o=2&e.flags?mt(e.index,t):t;0==(32&t[2])&&li(o);for(var s=eo(t,0,r,i),u=n.__ngNextListenerFn__;u;)s=eo(t,0,u,i)&&s,u=u.__ngNextListenerFn__;return a&&!1===s&&(i.preventDefault(),i.returnValue=!1),s}}function no(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(e){return(_t.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,_t.lFrame.contextLView))[8]}(e)}function ro(e,t){for(var n=null,r=function(e){var t=e.attrs;if(null!=t){var n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e),a=0;a<t.length;a++){var i=t[a];if("*"!==i){if(null===r?Ea(e,i,!0):Ia(r,i))return a}else n=a}return n}function ao(e){var t=Ct()[16][6];if(!t.projection)for(var n=t.projection=zn(e?e.length:1,null),r=n.slice(),a=t.child;null!==a;){var i=e?ro(a,e):0;null!==i&&(r[i]?r[i].projectionNext=a:n[i]=a,r[i]=a),a=a.next}}function io(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=Ct(),a=Tt(),i=Na(a,20+e,16,null,n||null);null===i.projection&&(i.projection=t),Rt(),64!=(64&i.flags)&&function(e,t,n){ga(t[11],0,t,n,aa(e,n,t),ca(n.parent||t[6],n,t))}(a,r,i)}function oo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Ct(),r=Tt(),a=e+20,i=r.firstCreatePass?Na(r,a,1,t,null):r.data[a],o=n[a]=function(e,t){return lt(e)?e.createText(t):e.createTextNode(t)}(n[11],t);fa(r,n,o,i),It(i,!1)}function so(e){return uo("",e,""),so}function uo(e,t,n){var r=Ct(),a=function(e,t,n,r){return ji(e,Dt(),n)?t+oe(n)+r:Oa}(r,e,t,n);return a!==Oa&&function(e,t,n){var r=function(e,t){return ht(t[e])}(t,e);!function(e,t,n){lt(e)?e.setValue(t,n):t.textContent=n}(e[11],r,n)}(r,Gt(),a),uo}function co(e,t,n){var r=Ct();return ji(r,Dt(),t)&&Za(Tt(),Zt(),r,e,t,r[11],n,!0),co}var lo=void 0,fo=["en",[["a","p"],["AM","PM"],lo],[["AM","PM"],lo,lo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],lo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],lo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",lo,"{1} 'at' {0}",lo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],ho={};function po(e){return e in ho||(ho[e]=Ae.ng&&Ae.ng.common&&Ae.ng.common.locales&&Ae.ng.common.locales[e]),ho[e]}var mo=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}({});function vo(e){var t;null==(t=e)&&function(e,t,n,r){throw new Error("ASSERTION ERROR: ".concat("Expected localeId to be defined"," [Expected=> null != ").concat(t," <=Actual]"))}(0,t),"string"==typeof e&&e.toLowerCase().replace(/_/g,"-")}var go=function e(){_classCallCheck(this,e)},yo=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"resolveComponentFactory",value:function(e){throw function(e){var t=Error("No component factory found for ".concat(ee(e),". Did you add it to @NgModule.entryComponents?"));return t.ngComponent=e,t}(e)}}]),e}(),bo=function(){var e=function e(){_classCallCheck(this,e)};return e.NULL=new yo,e}();function ko(){}function _o(e,t){return new Co(dt(e,t))}var wo=function(){return _o(St(),Ct())},Co=function(){var e=function e(t){_classCallCheck(this,e),this.nativeElement=t};return e.__NG_ELEMENT_ID__=wo,e}();function To(e){return e instanceof Co?e.nativeElement:e}var xo=function e(){_classCallCheck(this,e)},So=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return Eo()},e}(),Eo=function(){var e=Ct(),t=mt(St().index,e);return function(e){return e[11]}(Ye(t)?t:e)},Io=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275prov=ce({token:e,providedIn:"root",factory:function(){return null}}),e}(),Ao=new function e(t){_classCallCheck(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}("12.0.1"),Ro=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return Fi(e)}},{key:"create",value:function(e){return new Po(e)}}]),e}(),Oo=function(e,t){return t},Po=function(){function e(t){_classCallCheck(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Oo}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,r=0,a=null;t||n;){var i=!n||t&&t.currentIndex<No(n,r,a)?t:n,o=No(i,r,a),s=i.currentIndex;if(i===n)r--,n=n._nextRemoved;else if(t=t._next,null==i.previousIndex)r++;else{a||(a=[]);var u=o-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var f=l<a.length?a[l]:a[l]=0,h=f+l;c<=h&&h<u&&(a[l]=f+1)}a[i.previousIndex]=c-u}}o!==s&&e(i,o,s)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!Fi(e))throw new Error("Error trying to diff '".concat(ee(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,r,a,i=this._itHead,o=!1;if(Array.isArray(e)){this.length=e.length;for(var s=0;s<this.length;s++)r=e[s],a=this._trackByFn(s,r),null!==i&&Object.is(i.trackById,a)?(o&&(i=this._verifyReinsertion(i,r,a,s)),Object.is(i.item,r)||this._addIdentityChange(i,r)):(i=this._mismatch(i,r,a,s),o=!0),i=i._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var r,a=e[Bi()]();!(r=a.next()).done;)t(r.value)}(e,function(e){a=t._trackByFn(n,e),null!==i&&Object.is(i.trackById,a)?(o&&(i=t._verifyReinsertion(i,e,a,n)),Object.is(i.item,e)||t._addIdentityChange(i,e)):(i=t._mismatch(i,e,a,n),o=!0),i=i._next,n++}),this.length=n;return this._truncate(i),this.collection=e,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,r){var a;return null===e?a=this._itTail:(a=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,a,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,a,r)):e=this._addAfter(new Mo(t,n),a,r),e}},{key:"_verifyReinsertion",value:function(e,t,n,r){var a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==a?e=this._reinsertAfter(a,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,a=e._nextRemoved;return null===r?this._removalsHead=a:r._nextRemoved=a,null===a?this._removalsTail=r:a._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Lo),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Lo),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}]),e}(),Mo=function e(t,n){_classCallCheck(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Do=function(){function e(){_classCallCheck(this,e),this._head=null,this._tail=null}return _createClass(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),Lo=function(){function e(){_classCallCheck(this,e),this.map=new Map}return _createClass(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new Do,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),e}();function No(e,t,n){var r=e.previousIndex;if(null===r)return r;var a=0;return n&&r<n.length&&(a=n[r]),r+t+a}var Bo=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return e instanceof Map||zi(e)}},{key:"create",value:function(){return new Fo}}]),e}(),Fo=function(){function e(){_classCallCheck(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(e,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||zi(e)))throw new Error("Error trying to diff '".concat(ee(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,function(e,r){if(n&&n.key===r)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var a=t._getOrCreateRecordForKey(r,e);n=t._insertBeforeOrAppend(n,a)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var r=n._prev,a=n._next;return r&&(r._next=a),a&&(a._prev=r),n._next=null,n._prev=null,n}var i=new zo(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(function(n){return t(e[n],n)})}}]),e}(),zo=function e(t){_classCallCheck(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null};function Uo(){return new jo([new Ro])}var jo=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t,n=this.factories.find(function(t){return t.supports(e)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){return e.create(t,n||Uo())},deps:[[e,new Jn,new $n]]}}}]),e}();return e.\u0275prov=ce({token:e,providedIn:"root",factory:Uo}),e}();function Ho(){return new Vo([new Bo])}var Vo=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t=this.factories.find(function(t){return t.supports(e)});if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){return e.create(t,n||Ho())},deps:[[e,new Jn,new $n]]}}}]),e}();return e.\u0275prov=ce({token:e,providedIn:"root",factory:Ho}),e}();function Wo(e,t,n,r){for(var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==n;){var i=t[n.index];if(null!==i&&r.push(ht(i)),Ke(i))for(var o=10;o<i.length;o++){var s=i[o],u=s[1].firstChild;null!==u&&Wo(s[1],s,u,r)}var c=n.type;if(8&c)Wo(e,t,n.child,r);else if(32&c)for(var l=Xr(n,t),f=void 0;f=l();)r.push(f);else if(16&c){var h=da(t,n);if(Array.isArray(h))r.push.apply(r,_toConsumableArray(h));else{var d=Zr(t[16]);Wo(d[1],d,h,r,!0)}}n=a?n.projectionNext:n.next}return r}var qo=function(){function e(t,n){_classCallCheck(this,e),this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}return _createClass(e,[{key:"rootNodes",get:function(){var e=this._lView,t=e[1];return Wo(t,e,t.firstChild,[])}},{key:"context",get:function(){return this._lView[8]},set:function(e){this._lView[8]=e}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var e=this._lView[3];if(Ke(e)){var t=e[8],n=t?t.indexOf(this):-1;n>-1&&(ta(e,n),Fn(t,n))}this._attachedToViewContainer=!1}na(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){Ga(this._lView[1],this._lView,null,e)}},{key:"markForCheck",value:function(){li(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){fi(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(e,t,n){Pt(!0);try{fi(e,t,n)}finally{Pt(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){var e;this._appRef=null,va(this._lView[1],e=this._lView,e[11],2,null,null)}},{key:"attachToAppRef",value:function(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}]),e}(),Go=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e))._view=e,r}return _createClass(n,[{key:"detectChanges",value:function(){hi(this._view)}},{key:"checkNoChanges",value:function(){!function(e){Pt(!0);try{hi(e)}finally{Pt(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(qo),Xo=function(e){return function(e,t,n){if($e(e)&&!n){var r=mt(e.index,t);return new qo(r,r)}return 47&e.type?new qo(t[16],t):null}(St(),Ct(),16==(16&e))},Zo=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=Xo,e}(),Yo=[new Bo],Ko=new jo([new Ro]),Qo=new Vo(Yo),$o=function(){return ts(St(),Ct())},Jo=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=$o,e}(),es=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,a){var i;return _classCallCheck(this,n),(i=t.call(this))._declarationLView=e,i._declarationTContainer=r,i.elementRef=a,i}return _createClass(n,[{key:"createEmbeddedView",value:function(e){var t=this._declarationTContainer.tViews,n=La(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];var r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),Fa(t,n,e),new qo(n)}}]),n}(Jo);function ts(e,t){return 4&e.type?new es(t,e,_o(e,t)):null}var ns=function e(){_classCallCheck(this,e)},rs=function e(){_classCallCheck(this,e)},as=function(){return cs(St(),Ct())},is=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=as,e}(),os=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,a){var i;return _classCallCheck(this,n),(i=t.call(this))._lContainer=e,i._hostTNode=r,i._hostLView=a,i}return _createClass(n,[{key:"element",get:function(){return _o(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new An(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var e=gn(this._hostTNode,this._hostLView);if(un(e)){var t=ln(e,this._hostLView),n=cn(e);return new An(t[1].data[n+8],t)}return new An(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(e){var t=ss(this._lContainer);return null!==t&&t[e]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r}},{key:"createComponent",value:function(e,t,n,r,a){var i=n||this.parentInjector;if(!a&&null==e.ngModule&&i){var o=i.get(ns,null);o&&(a=o)}var s=e.create(i,r,void 0,a);return this.insert(s.hostView,t),s}},{key:"insert",value:function(e,t){var r=e._lView,a=r[1];if(Ke(r[3])){var i=this.indexOf(e);if(-1!==i)this.detach(i);else{var o=r[3],s=new n(o,o[6],o[3]);s.detach(s.indexOf(e))}}var u=this._adjustIndex(t),c=this._lContainer;!function(e,t,n,r){var a=10+r,i=n.length;r>0&&(n[a-1][4]=t),r<i-10?(t[4]=n[a],Bn(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;var o=t[17];null!==o&&n!==o&&function(e,t){var n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(o,t);var s=t[19];null!==s&&s.insertView(e),t[2]|=128}(a,r,c,u);var l=pa(u,c),f=r[11],h=ua(f,c[7]);return null!==h&&function(e,t,n,r,a,i){r[0]=a,r[6]=t,va(e,r,n,1,a,i)}(a,c[6],f,r,h,l),e.attachToViewContainerRef(),Bn(us(c),u,e),e}},{key:"move",value:function(e,t){return this.insert(e,t)}},{key:"indexOf",value:function(e){var t=ss(this._lContainer);return null!==t?t.indexOf(e):-1}},{key:"remove",value:function(e){var t=this._adjustIndex(e,-1),n=ta(this._lContainer,t);n&&(Fn(us(this._lContainer),t),na(n[1],n))}},{key:"detach",value:function(e){var t=this._adjustIndex(e,-1),n=ta(this._lContainer,t);return n&&null!=Fn(us(this._lContainer),t)?new qo(n):null}},{key:"_adjustIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e?this.length+t:e}}]),n}(is);function ss(e){return e[8]}function us(e){return e[8]||(e[8]=[])}function cs(e,t){var n,r=t[e.index];if(Ke(r))n=r;else{var a;if(8&e.type)a=ht(r);else{var i=t[11];a=i.createComment("");var o=dt(e,t);ia(i,ua(i,o),a,function(e,t){return lt(e)?e.nextSibling(t):t.nextSibling}(i,o),!1)}t[e.index]=n=ii(r,t,a,e),ci(t,n)}return new os(n,e,t)}var ls={},fs=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).ngModule=e,r}return _createClass(n,[{key:"resolveComponentFactory",value:function(e){var t=Xe(e);return new ps(t,this.ngModule)}}]),n}(bo);function hs(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var ds=new Pn("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Wr}}),ps=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var a;return _classCallCheck(this,n),(a=t.call(this)).componentDef=e,a.ngModule=r,a.componentType=e.type,a.selector=e.selectors.map(Ra).join(","),a.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],a.isBoundToModule=!!r,a}return _createClass(n,[{key:"inputs",get:function(){return hs(this.componentDef.inputs)}},{key:"outputs",get:function(){return hs(this.componentDef.outputs)}},{key:"create",value:function(e,t,n,r){var a,i,o=(r=r||this.ngModule)?function(e,t){return{get:function(n,r,a){var i=e.get(n,ls,a);return i!==ls||r===ls?i:t.get(n,r,a)}}}(e,r.injector):e,s=o.get(xo,ft),u=o.get(Io,null),c=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",f=n?function(e,t,n){if(lt(e))return e.selectRootElement(t,n===Te.ShadowDom);var r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(c,n,this.componentDef.encapsulation):Jr(s.createRenderer(null,this.componentDef),l,function(e){var t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(l)),h=this.componentDef.onPush?576:528,d={components:[],scheduler:Wr,clean:pi,playerHandler:null,flags:0},p=qa(0,null,null,1,0,null,null,null,null,null),m=La(null,p,d,h,null,null,s,c,u,o);Ut(m);try{var v=function(e,t,n,r,a,i){var o=n[1];n[20]=e;var s=Na(o,20,2,"#host",null),u=s.mergedAttrs=t.hostAttrs;null!==u&&(bi(s,u,!0),null!==e&&(nn(a,e,u),null!==s.classes&&ba(a,e,s.classes),null!==s.styles&&ya(a,e,s.styles)));var c=r.createRenderer(e,t),l=La(n,Wa(t),null,t.onPush?64:16,n[20],s,r,c,null,null);return o.firstCreatePass&&(yn(pn(s,n),o,t.type),$a(o,s),ei(s,n.length,1)),ci(n,l),n[20]=l}(f,this.componentDef,m,s,c);if(f)if(n)nn(c,f,["ng-version",Ao.full]);else{var g=function(e){for(var t=[],n=[],r=1,a=2;r<e.length;){var i=e[r];if("string"==typeof i)2===a?""!==i&&t.push(i,e[++r]):8===a&&n.push(i);else{if(!xa(a))break;a=i}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]),y=g.attrs,b=g.classes;y&&nn(c,f,y),b&&b.length>0&&ba(c,f,b.join(" "))}if(i=pt(p,20),void 0!==t)for(var k=i.projection=[],_=0;_<this.ngContentSelectors.length;_++){var w=t[_];k.push(null!=w?Array.from(w):null)}a=function(e,t,n,r,a){var i=n[1],o=function(e,t,n){var r=St();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ti(e,r,t,Ba(e,t,1,null),n));var a=Sn(t,e,r.directiveStart,r);Fr(a,t);var i=dt(r,t);return i&&Fr(i,t),a}(i,n,t);if(r.components.push(o),e[8]=o,a&&a.forEach(function(e){return e(o,t)}),t.contentQueries){var s=St();t.contentQueries(1,o,s.directiveStart)}var u=St();return!i.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Xt(u.index),Ka(n[1],u,0,u.directiveStart,u.directiveEnd,t),Qa(t,o)),o}(v,this.componentDef,m,d,[Li]),Fa(p,m,null)}finally{qt()}return new ms(this.componentType,a,_o(i,m),m,i)}}]),n}(go),ms=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,a,i,o){var s;return _classCallCheck(this,n),(s=t.call(this)).location=a,s._rootLView=i,s._tNode=o,s.instance=r,s.hostView=s.changeDetectorRef=new Go(i),s.componentType=e,s}return _createClass(n,[{key:"injector",get:function(){return new An(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(e){this.hostView.onDestroy(e)}}]),n}(function(){return function e(){_classCallCheck(this,e)}}()),vs=new Map,gs=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var a;_classCallCheck(this,n),(a=t.call(this))._parent=r,a._bootstrapComponents=[],a.injector=_assertThisInitialized(a),a.destroyCbs=[],a.componentFactoryResolver=new fs(_assertThisInitialized(a));var i=Ze(e),o=e[Ne]||null;return o&&vo(o),a._bootstrapComponents=qr(i.bootstrap),a._r3Injector=Ei(e,r,[{provide:ns,useValue:_assertThisInitialized(a)},{provide:bo,useValue:a.componentFactoryResolver}],ee(e)),a._r3Injector._resolveInjectorDefTypes(),a.instance=a.get(e),a}return _createClass(n,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Di.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:be.Default;return e===Di||e===ns||e===_i?this:this._r3Injector.get(e,t,n)}},{key:"destroy",value:function(){var e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(function(e){return e()}),this.destroyCbs=null}},{key:"onDestroy",value:function(e){this.destroyCbs.push(e)}}]),n}(ns),ys=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,a,i;return _classCallCheck(this,n),(r=t.call(this)).moduleType=e,null!==Ze(e)&&(a=e,i=new Set,function e(t){var n=Ze(t,!0),r=n.id;null!==r&&(function(e,t,n){if(t&&t!==n)throw new Error("Duplicate module registered for ".concat(e," - ").concat(ee(t)," vs ").concat(ee(t.name)))}(r,vs.get(r),t),vs.set(r,t));var a,o=_createForOfIteratorHelper(qr(n.imports));try{for(o.s();!(a=o.n()).done;){var s=a.value;i.has(s)||(i.add(s),e(s))}}catch(u){o.e(u)}finally{o.f()}}(a)),r}return _createClass(n,[{key:"create",value:function(e){return new gs(this.moduleType,e)}}]),n}(rs);function bs(e,t,n,r){return function(e,t,n,r,a,i){var o=t+n;return ji(e,o,a)?Ui(e,o+1,i?r.call(i,a):r(a)):ks(e,o+1)}(Ct(),Mt(),e,t,n,r)}function ks(e,t){var n=e[t];return n===Oa?void 0:n}function _s(e){return function(t){setTimeout(e,void 0,t)}}var ws=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,n),(e=t.call(this)).__isAsync=r,e}return _createClass(n,[{key:"emit",value:function(e){_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,t,r){var a,i,o,s=e,u=t||function(){return null},c=r;if(e&&"object"==typeof e){var l=e;s=null===(a=l.next)||void 0===a?void 0:a.bind(l),u=null===(i=l.error)||void 0===i?void 0:i.bind(l),c=null===(o=l.complete)||void 0===o?void 0:o.bind(l)}this.__isAsync&&(u=_s(u),s&&(s=_s(s)),c&&(c=_s(c)));var h=_get(_getPrototypeOf(n.prototype),"subscribe",this).call(this,{next:s,error:u,complete:c});return e instanceof f&&e.add(h),h}}]),n}(T);function Cs(){return this._results[Bi()]()}var Ts=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];_classCallCheck(this,e),this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;var n=Bi(),r=e.prototype;r[n]||(r[n]=Cs)}return _createClass(e,[{key:"changes",get:function(){return this._changes||(this._changes=new ws)}},{key:"get",value:function(e){return this._results[e]}},{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e,t){this.dirty=!1;var n=Ln(e);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++){var a=e[r],i=t[r];if(n&&(a=n(a),i=n(i)),i!==a)return!1}return!0}(this._results,n,t))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}},{key:"notifyOnChanges",value:function(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}(),xs=function(){function e(t){_classCallCheck(this,e),this.queryList=t,this.matches=null}return _createClass(e,[{key:"clone",value:function(){return new e(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),e}(),Ss=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.queries=t}return _createClass(e,[{key:"createEmbeddedView",value:function(t){var n=t.queries;if(null!==n){for(var r=null!==t.contentQueries?t.contentQueries[0]:n.length,a=[],i=0;i<r;i++){var o=n.getByIndex(i);a.push(this.queries[o.indexInDeclarationView].clone())}return new e(a)}return null}},{key:"insertView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"detachView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"dirtyQueriesWithMatches",value:function(e){for(var t=0;t<this.queries.length;t++)null!==Bs(e,t).matches&&this.queries[t].setDirty()}}]),e}(),Es=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;_classCallCheck(this,e),this.predicate=t,this.flags=n,this.read=r},Is=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.queries=t}return _createClass(e,[{key:"elementStart",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}},{key:"elementEnd",value:function(e){for(var t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}},{key:"embeddedTView",value:function(t){for(var n=null,r=0;r<this.length;r++){var a=null!==n?n.length:0,i=this.getByIndex(r).embeddedTView(t,a);i&&(i.indexInDeclarationView=r,null!==n?n.push(i):n=[i])}return null!==n?new e(n):null}},{key:"template",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}},{key:"getByIndex",value:function(e){return this.queries[e]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(e){this.queries.push(e)}}]),e}(),As=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_classCallCheck(this,e),this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return _createClass(e,[{key:"elementStart",value:function(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}},{key:"elementEnd",value:function(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(e,t){this.elementStart(e,t)}},{key:"embeddedTView",value:function(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}},{key:"isApplyingToNode",value:function(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){for(var t=this._declarationNodeIndex,n=e.parent;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(e,t){var n=this.metadata.predicate;if(Array.isArray(n))for(var r=0;r<n.length;r++){var a=n[r];this.matchTNodeWithReadOption(e,t,Rs(t,a)),this.matchTNodeWithReadOption(e,t,xn(t,e,a,!1,!1))}else n===Jo?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,xn(t,e,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(e,t,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===Co||r===is||r===Jo&&4&t.type)this.addMatch(t.index,-2);else{var a=xn(t,e,r,!1,!1);null!==a&&this.addMatch(t.index,a)}else this.addMatch(t.index,n)}}},{key:"addMatch",value:function(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}]),e}();function Rs(e,t){var n=e.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function Os(e,t,n,r){return-1===n?function(e,t){return 11&e.type?_o(e,t):4&e.type?ts(e,t):null}(t,e):-2===n?function(e,t,n){return n===Co?_o(t,e):n===Jo?ts(t,e):n===is?cs(t,e):void 0}(e,t,r):Sn(e,e[1],n,t)}function Ps(e,t,n,r){var a=t[19].queries[r];if(null===a.matches){for(var i=e.data,o=n.matches,s=[],u=0;u<o.length;u+=2){var c=o[u];s.push(c<0?null:Os(t,i[c],o[u+1],n.metadata.read))}a.matches=s}return a.matches}function Ms(e,t,n,r){var a=e.queries.getByIndex(n),i=a.matches;if(null!==i)for(var o=Ps(e,t,a,n),s=0;s<i.length;s+=2){var u=i[s];if(u>0)r.push(o[s/2]);else{for(var c=i[s+1],l=t[-u],f=10;f<l.length;f++){var h=l[f];h[17]===h[3]&&Ms(h[1],h,c,r)}if(null!==l[9])for(var d=l[9],p=0;p<d.length;p++){var m=d[p];Ms(m[1],m,c,r)}}}return r}function Ds(e){var t=Ct(),n=Tt(),r=Nt();Bt(r+1);var a=Bs(n,r);if(e.dirty&&vt(t)===(2==(2&a.metadata.flags))){if(null===a.matches)e.reset([]);else{var i=a.crossesNgTemplate?Ms(n,t,r,[]):Ps(n,t,a,r);e.reset(i,To),e.notifyOnChanges()}return!0}return!1}function Ls(e,t,n,r){var a=Tt();if(a.firstCreatePass){var i=St();(function(e,t,n){null===e.queries&&(e.queries=new Is),e.queries.track(new As(t,n))})(a,new Es(t,n,r),i.index),function(e,t){var n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(a,e),2==(2&n)&&(a.staticContentQueries=!0)}!function(e,t,n){var r=new Ts(4==(4&n));Ga(e,t,r,r.destroy),null===t[19]&&(t[19]=new Ss),t[19].queries.push(new xs(r))}(a,Ct(),n)}function Ns(){return e=Ct(),t=Nt(),e[19].queries[t].queryList;var e,t}function Bs(e,t){return e.queries.getByIndex(t)}var Fs=new Pn("Application Initializer"),zs=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this.appInits=t,this.resolve=ko,this.reject=ko,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(e,t){n.resolve=e,n.reject=t})}return _createClass(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var r=function(n){var r=e.appInits[n]();if(Qi(r))t.push(r);else if($i(r)){var a=new Promise(function(e,t){r.subscribe({complete:e,error:t})});t.push(a)}},a=0;a<this.appInits.length;a++)r(a);Promise.all(t).then(function(){n()}).catch(function(t){e.reject(t)}),0===t.length&&n(),this.initialized=!0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Gn(Fs,8))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e}(),Us=new Pn("AppId"),js={provide:Us,useFactory:function(){return"".concat(Hs()).concat(Hs()).concat(Hs())},deps:[]};function Hs(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Vs=new Pn("Platform Initializer"),Ws=new Pn("Platform ID"),qs=new Pn("appBootstrapListener"),Gs=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e}(),Xs=new Pn("LocaleId"),Zs=new Pn("DefaultCurrencyCode"),Ys=function e(t,n){_classCallCheck(this,e),this.ngModuleFactory=t,this.componentFactories=n},Ks=function(e){return new ys(e)},Qs=Ks,$s=function(e){return Promise.resolve(Ks(e))},Js=function(e){var t=Ks(e),n=qr(Ze(e).declarations).reduce(function(e,t){var n=Xe(t);return n&&e.push(new ps(n)),e},[]);return new Ys(t,n)},eu=Js,tu=function(e){return Promise.resolve(Js(e))},nu=function(){var e=function(){function e(){_classCallCheck(this,e),this.compileModuleSync=Qs,this.compileModuleAsync=$s,this.compileModuleAndAllComponentsSync=eu,this.compileModuleAndAllComponentsAsync=tu}return _createClass(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e}(),ru=Promise.resolve(0);function au(e){"undefined"==typeof Zone?ru.then(function(){e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var iu=function(){function e(t){var n,r,a=t.enableLongStackTrace,i=void 0!==a&&a,o=t.shouldCoalesceEventChangeDetection,s=void 0!==o&&o,u=t.shouldCoalesceRunChangeDetection,c=void 0!==u&&u;if(_classCallCheck(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ws(!1),this.onMicrotaskEmpty=new ws(!1),this.onStable=new ws(!1),this.onError=new ws(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=!c&&s,this.shouldCoalesceRunChangeDetection=c,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var e=Ae.requestAnimationFrame,t=Ae.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){var n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);var r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,r=function(){!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Ae,function(){e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){e.lastRequestAnimationFrameId=-1,uu(e),e.isCheckStableRunning=!0,su(e),e.isCheckStableRunning=!1},void 0,function(){},function(){})),e.fakeTopEventTask.invoke()}),uu(e))}(n)},(n=this)._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(e,t,a,i,o,s){try{return cu(n),e.invokeTask(a,i,o,s)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||n.shouldCoalesceRunChangeDetection)&&r(),lu(n)}},onInvoke:function(e,t,a,i,o,s,u){try{return cu(n),e.invoke(a,i,o,s,u)}finally{n.shouldCoalesceRunChangeDetection&&r(),lu(n)}},onHasTask:function(e,t,r,a){e.hasTask(r,a),t===r&&("microTask"==a.change?(n._hasPendingMicrotasks=a.microTask,uu(n),su(n)):"macroTask"==a.change&&(n.hasPendingMacrotasks=a.macroTask))},onHandleError:function(e,t,r,a){return e.handleError(r,a),n.runOutsideAngular(function(){return n.onError.emit(a)}),!1}})}return _createClass(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,r){var a=this._inner,i=a.scheduleEventTask("NgZoneEvent: "+r,e,ou,ko,ko);try{return a.runTask(i,t,n)}finally{a.cancelTask(i)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}(),ou={};function su(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(function(){return e.onStable.emit(null)})}finally{e.isStable=!0}}}function uu(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function cu(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function lu(e){e._nesting--,su(e)}var fu,hu=function(){function e(){_classCallCheck(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ws,this.onMicrotaskEmpty=new ws,this.onStable=new ws,this.onError=new ws}return _createClass(e,[{key:"run",value:function(e,t,n){return e.apply(t,n)}},{key:"runGuarded",value:function(e,t,n){return e.apply(t,n)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,t,n,r){return e.apply(t,n)}}]),e}(),du=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return _createClass(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){e._ngZone.onStable.subscribe({next:function(){iu.assertNotInAngularZone(),au(function(){e._isZoneStable=!0,e._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())au(function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1});else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}}):[]}},{key:"addCallback",value:function(e,t,n){var r=this,a=-1;t&&t>0&&(a=setTimeout(function(){r._callbacks=r._callbacks.filter(function(e){return e.timeoutId!==a}),e(r._didWork,r.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:a,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Gn(iu))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e}(),pu=function(){var e=function(){function e(){_classCallCheck(this,e),this._applications=new Map,mu.addToWindow(this)}return _createClass(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return mu.findTestabilityInTree(this,e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e}(),mu=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),vu=!0,gu=!1,yu=new Pn("AllowMultipleToken"),bu=function e(t,n){_classCallCheck(this,e),this.name=t,this.token=n};function ku(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(t),a=new Pn(r);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=_u();if(!i||i.injector.get(yu,!1))if(e)e(n.concat(t).concat({provide:a,useValue:!0}));else{var o=n.concat(t).concat({provide:a,useValue:!0},{provide:Ci,useValue:"platform"});!function(e){if(fu&&!fu.destroyed&&!fu.injector.get(yu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");fu=e.get(wu);var t=e.get(Vs,null);t&&t.forEach(function(e){return e()})}(Di.create({providers:o,name:r}))}return function(e){var t=_u();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(a)}}function _u(){return fu&&!fu.destroyed?fu:null}var wu=function(){var e=function(){function e(t){_classCallCheck(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n,r,a=this,i=(n=t?t.ngZone:void 0,r={ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1},"noop"===n?new hu:("zone.js"===n?void 0:n)||new iu({enableLongStackTrace:(gu=!0,vu),shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)})),o=[{provide:iu,useValue:i}];return i.run(function(){var t=Di.create({providers:o,parent:a.injector,name:e.moduleType.name}),n=e.create(t),r=n.injector.get(Vr,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.runOutsideAngular(function(){var e=i.onError.subscribe({next:function(e){r.handleError(e)}});n.onDestroy(function(){Su(a._modules,n),e.unsubscribe()})}),function(e,t,r){try{var i=((o=n.injector.get(zs)).runInitializers(),o.donePromise.then(function(){return vo(n.injector.get(Xs,"en-US")||"en-US"),a._moduleDoBootstrap(n),n}));return Qi(i)?i.catch(function(n){throw t.runOutsideAngular(function(){return e.handleError(n)}),n}):i}catch(s){throw t.runOutsideAngular(function(){return e.handleError(s)}),s}var o}(r,i)})}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Cu({},n);return function(e,t,n){var r=new ys(n);return Promise.resolve(r)}(0,0,e).then(function(e){return t.bootstrapModuleFactory(e,r)})}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(xu);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(function(e){return t.bootstrap(e)});else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(ee(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(e){return e.destroy()}),this._destroyListeners.forEach(function(e){return e()}),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Gn(Di))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e}();function Cu(e,t){return Array.isArray(t)?t.reduce(Cu,e):Object.assign(Object.assign({},e),t)}var Tu,xu=((Tu=function(){function e(t,n,r,a,i){var o=this;_classCallCheck(this,e),this._zone=t,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=a,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){o._zone.run(function(){o.tick()})}});var s=new b(function(e){o._stable=o._zone.isStable&&!o._zone.hasPendingMacrotasks&&!o._zone.hasPendingMicrotasks,o._zone.runOutsideAngular(function(){e.next(o._stable),e.complete()})}),u=new b(function(e){var t;o._zone.runOutsideAngular(function(){t=o._zone.onStable.subscribe(function(){iu.assertNotInAngularZone(),au(function(){o._stable||o._zone.hasPendingMacrotasks||o._zone.hasPendingMicrotasks||(o._stable=!0,e.next(!0))})})});var n=o._zone.onUnstable.subscribe(function(){iu.assertInAngularZone(),o._stable&&(o._stable=!1,o._zone.runOutsideAngular(function(){e.next(!1)}))});return function(){t.unsubscribe(),n.unsubscribe()}});this.isStable=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Number.POSITIVE_INFINITY,a=null,i=t[t.length-1];return S(i)?(a=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(r=t.pop())):"number"==typeof i&&(r=t.pop()),null===a&&1===t.length&&t[0]instanceof b?t[0]:V(r)(W(t,a))}(s,u.pipe(function(e){return q()((t=$,function(e){var n;n="function"==typeof t?t:function(){return t};var r=Object.create(e,K);return r.source=e,r.subjectFactory=n,r})(e));var t}))}return _createClass(e,[{key:"bootstrap",value:function(e,t){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof go?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var a=n.isBoundToModule?void 0:this._injector.get(ns),i=n.create(Di.NULL,[],t||n.selector,a),o=i.location.nativeElement,s=i.injector.get(du,null),u=s&&i.injector.get(pu);return s&&u&&u.registerApplication(o,s),i.onDestroy(function(){r.detachView(i.hostView),Su(r.components,i),u&&u.unregisterApplication(o)}),this._loadComponent(i),i}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var t,n=_createForOfIteratorHelper(this._views);try{for(n.s();!(t=n.n()).done;)t.value.detectChanges()}catch(r){n.e(r)}finally{n.f()}}catch(a){this._zone.runOutsideAngular(function(){return e._exceptionHandler.handleError(a)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;Su(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(qs,[]).concat(this._bootstrapListeners).forEach(function(t){return t(e)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(e){return e.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),e}()).\u0275fac=function(e){return new(e||Tu)(Gn(iu),Gn(Di),Gn(Vr),Gn(bo),Gn(zs))},Tu.\u0275prov=ce({token:Tu,factory:Tu.\u0275fac}),Tu);function Su(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Eu=function e(){_classCallCheck(this,e)},Iu=function e(){_classCallCheck(this,e)},Au={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Ru=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this._compiler=t,this._config=n||Au}return _createClass(e,[{key:"load",value:function(e){return this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(e){var t=this,r=_slicedToArray2(e.split("#"),2),a=r[0],i=r[1];return void 0===i&&(i="default"),n(8255)(a).then(function(e){return e[i]}).then(function(e){return Ou(e,a,i)}).then(function(e){return t._compiler.compileModuleAsync(e)})}},{key:"loadFactory",value:function(e){var t=_slicedToArray2(e.split("#"),2),r=t[0],a=t[1],i="NgFactory";return void 0===a&&(a="default",i=""),n(8255)(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(function(e){return e[a+i]}).then(function(e){return Ou(e,r,a)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Gn(nu),Gn(Iu,8))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e}();function Ou(e,t,n){if(!e)throw new Error("Cannot find '".concat(n,"' in '").concat(t,"'"));return e}var Pu=ku(null,"core",[{provide:Ws,useValue:"unknown"},{provide:wu,deps:[Di]},{provide:pu,deps:[]},{provide:Gs,deps:[]}]),Mu=[{provide:xu,useClass:xu,deps:[iu,Di,Vr,bo,zs]},{provide:ds,deps:[iu],useFactory:function(e){var t=[];return e.onStable.subscribe(function(){for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:zs,useClass:zs,deps:[[new $n,Fs]]},{provide:nu,useClass:nu,deps:[]},js,{provide:jo,useFactory:function(){return Ko},deps:[]},{provide:Vo,useFactory:function(){return Qo},deps:[]},{provide:Xs,useFactory:function(e){return vo(e=e||"undefined"!=typeof $localize&&$localize.locale||"en-US"),e},deps:[[new Qn(Xs),new $n,new Jn]]},{provide:Zs,useValue:"USD"}],Du=function(){var e=function e(t){_classCallCheck(this,e)};return e.\u0275fac=function(t){return new(t||e)(Gn(xu))},e.\u0275mod=We({type:e}),e.\u0275inj=le({providers:Mu}),e}(),Lu=null;function Nu(){return Lu}var Bu=new Pn("DocumentToken"),Fu=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"historyGo",value:function(e){throw new Error("Not implemented")}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({factory:zu,token:e,providedIn:"platform"}),e}();function zu(){return Gn(ju)}var Uu=new Pn("Location Initialized"),ju=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r._init(),r}return _createClass(n,[{key:"_init",value:function(){this.location=window.location,this._history=window.history}},{key:"getBaseHrefFromDOM",value:function(){return Nu().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){var t=Nu().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),function(){return t.removeEventListener("popstate",e)}}},{key:"onHashChange",value:function(e){var t=Nu().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),function(){return t.removeEventListener("hashchange",e)}}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(e,t,n){Hu()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){Hu()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"historyGo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._history.go(e)}},{key:"getState",value:function(){return this._history.state}}]),n}(Fu);return e.\u0275fac=function(t){return new(t||e)(Gn(Bu))},e.\u0275prov=ce({factory:Vu,token:e,providedIn:"platform"}),e}();function Hu(){return!!window.history.pushState}function Vu(){return new ju(Gn(Bu))}function Wu(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function qu(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Gu(e){return e&&"?"!==e[0]?"?"+e:e}var Xu=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"historyGo",value:function(e){throw new Error("Not implemented")}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({factory:Zu,token:e,providedIn:"root"}),e}();function Zu(e){var t=Gn(Bu).location;return new Ku(Gn(Fu),t&&t.origin||"")}var Yu=new Pn("appBaseHref"),Ku=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var a;if(_classCallCheck(this,n),(a=t.call(this))._platformLocation=e,a._removeListenerFns=[],null==r&&(r=a._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return a._baseHref=r,_possibleConstructorReturn(a)}return _createClass(n,[{key:"ngOnDestroy",value:function(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}},{key:"onPopState",value:function(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return Wu(this._baseHref,e)}},{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+Gu(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?"".concat(t).concat(n):t}},{key:"pushState",value:function(e,t,n,r){var a=this.prepareExternalUrl(n+Gu(r));this._platformLocation.pushState(e,t,a)}},{key:"replaceState",value:function(e,t,n,r){var a=this.prepareExternalUrl(n+Gu(r));this._platformLocation.replaceState(e,t,a)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}},{key:"historyGo",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(t=(e=this._platformLocation).historyGo)||void 0===t||t.call(e,n)}}]),n}(Xu);return e.\u0275fac=function(t){return new(t||e)(Gn(Fu),Gn(Yu,8))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e}(),Qu=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var a;return _classCallCheck(this,n),(a=t.call(this))._platformLocation=e,a._baseHref="",a._removeListenerFns=[],null!=r&&(a._baseHref=r),a}return _createClass(n,[{key:"ngOnDestroy",value:function(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}},{key:"onPopState",value:function(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){var t=Wu(this._baseHref,e);return t.length>0?"#"+t:t}},{key:"pushState",value:function(e,t,n,r){var a=this.prepareExternalUrl(n+Gu(r));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(e,t,a)}},{key:"replaceState",value:function(e,t,n,r){var a=this.prepareExternalUrl(n+Gu(r));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,a)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}},{key:"historyGo",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(t=(e=this._platformLocation).historyGo)||void 0===t||t.call(e,n)}}]),n}(Xu);return e.\u0275fac=function(t){return new(t||e)(Gn(Fu),Gn(Yu,8))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e}(),$u=function(){var e=function(){function e(t,n){var r=this;_classCallCheck(this,e),this._subject=new ws,this._urlChangeListeners=[],this._platformStrategy=t;var a=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=qu(ec(a)),this._platformStrategy.onPopState(function(e){r._subject.emit({url:r.path(!0),pop:!0,state:e.state,type:e.type})})}return _createClass(e,[{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(e+Gu(t))}},{key:"normalize",value:function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,ec(t)))}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Gu(t)),n)}},{key:"replaceState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Gu(t)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"historyGo",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(t=(e=this._platformStrategy).historyGo)||void 0===t||t.call(e,n)}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(n){return n(e,t)})}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Gn(Xu),Gn(Fu))},e.normalizeQueryParams=Gu,e.joinWithSlash=Wu,e.stripTrailingSlash=qu,e.\u0275prov=ce({factory:Ju,token:e,providedIn:"root"}),e}();function Ju(){return new $u(Gn(Xu),Gn(Fu))}function ec(e){return e.replace(/\/index.html$/,"")}var tc=function(e){return e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other",e}({}),nc=function e(){_classCallCheck(this,e)},rc=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).locale=e,r}return _createClass(n,[{key:"getPluralCategory",value:function(e,t){switch(function(e){return function(e){var t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),n=po(t);if(n)return n;var r=t.split("-")[0];if(n=po(r))return n;if("en"===r)return fo;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}(e)[mo.PluralCase]}(t||this.locale)(e)){case tc.Zero:return"zero";case tc.One:return"one";case tc.Two:return"two";case tc.Few:return"few";case tc.Many:return"many";default:return"other"}}}]),n}(nc);return e.\u0275fac=function(t){return new(t||e)(Gn(Xs))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e}();function ac(e,t){t=encodeURIComponent(t);var n,r=_createForOfIteratorHelper(e.split(";"));try{for(r.s();!(n=r.n()).done;){var a=n.value,i=a.indexOf("="),o=_slicedToArray2(-1==i?[a,""]:[a.slice(0,i),a.slice(i+1)],2),s=o[0],u=o[1];if(s.trim()===t)return decodeURIComponent(u)}}catch(c){r.e(c)}finally{r.f()}return null}var ic=function(){var e=function(){function e(t,n,r,a){_classCallCheck(this,e),this._iterableDiffers=t,this._keyValueDiffers=n,this._ngEl=r,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return _createClass(e,[{key:"klass",set:function(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Fi(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}},{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){var t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}},{key:"_applyKeyValueChanges",value:function(e){var t=this;e.forEachAddedItem(function(e){return t._toggleClass(e.key,e.currentValue)}),e.forEachChangedItem(function(e){return t._toggleClass(e.key,e.currentValue)}),e.forEachRemovedItem(function(e){e.previousValue&&t._toggleClass(e.key,!1)})}},{key:"_applyIterableChanges",value:function(e){var t=this;e.forEachAddedItem(function(e){if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat(ee(e.item)));t._toggleClass(e.item,!0)}),e.forEachRemovedItem(function(e){return t._toggleClass(e.item,!1)})}},{key:"_applyClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach(function(e){return t._toggleClass(e,!0)}):Object.keys(e).forEach(function(n){return t._toggleClass(n,!!e[n])}))}},{key:"_removeClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach(function(e){return t._toggleClass(e,!1)}):Object.keys(e).forEach(function(e){return t._toggleClass(e,!1)}))}},{key:"_toggleClass",value:function(e,t){var n=this;(e=e.trim())&&e.split(/\s+/g).forEach(function(e){t?n._renderer.addClass(n._ngEl.nativeElement,e):n._renderer.removeClass(n._ngEl.nativeElement,e)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Wi(jo),Wi(Vo),Wi(Co),Wi(So))},e.\u0275dir=Ge({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e}(),oc=function(){function e(t,n,r,a){_classCallCheck(this,e),this.$implicit=t,this.ngForOf=n,this.index=r,this.count=a}return _createClass(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),sc=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this._viewContainer=t,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return _createClass(e,[{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(e){this._trackByFn=e}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'. NgFor only supports binding to Iterables such as Arrays."))}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(e){var t=this,n=[];e.forEachOperation(function(e,r,a){if(null==e.previousIndex){var i=t._viewContainer.createEmbeddedView(t._template,new oc(null,t._ngForOf,-1,-1),null===a?void 0:a),o=new uc(e,i);n.push(o)}else if(null==a)t._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=t._viewContainer.get(r);t._viewContainer.move(s,a);var u=new uc(e,s);n.push(u)}});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var a=0,i=this._viewContainer.length;a<i;a++){var o=this._viewContainer.get(a);o.context.index=a,o.context.count=i,o.context.ngForOf=this._ngForOf}e.forEachIdentityChange(function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item})}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Wi(is),Wi(Jo),Wi(jo))},e.\u0275dir=Ge({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e}(),uc=function e(t,n){_classCallCheck(this,e),this.record=t,this.view=n},cc=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this._viewContainer=t,this._context=new lc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(e,[{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){fc("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){fc("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Wi(is),Wi(Jo))},e.\u0275dir=Ge({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e}(),lc=function e(){_classCallCheck(this,e),this.$implicit=null,this.ngIf=null};function fc(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(ee(t),"'."))}var hc=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this._ngEl=t,this._differs=n,this._renderer=r,this._ngStyle=null,this._differ=null}return _createClass(e,[{key:"ngStyle",set:function(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}},{key:"ngDoCheck",value:function(){if(this._differ){var e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}},{key:"_setStyle",value:function(e,t){var n=_slicedToArray2(e.split("."),2),r=n[0],a=n[1];null!=(t=null!=t&&a?"".concat(t).concat(a):t)?this._renderer.setStyle(this._ngEl.nativeElement,r,t):this._renderer.removeStyle(this._ngEl.nativeElement,r)}},{key:"_applyChanges",value:function(e){var t=this;e.forEachRemovedItem(function(e){return t._setStyle(e.key,null)}),e.forEachAddedItem(function(e){return t._setStyle(e.key,e.currentValue)}),e.forEachChangedItem(function(e){return t._setStyle(e.key,e.currentValue)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Wi(Co),Wi(Vo),Wi(So))},e.\u0275dir=Ge({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),e}(),dc=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=We({type:e}),e.\u0275inj=le({providers:[{provide:nc,useClass:rc}]}),e}(),pc=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275prov=ce({token:e,providedIn:"root",factory:function(){return new mc(Gn(Bu),window)}}),e}(),mc=function(){function e(t,n){_classCallCheck(this,e),this.document=t,this.window=n,this.offset=function(){return[0,0]}}return _createClass(e,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportsScrolling()){var t=function(e,t){var n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow))for(var r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),a=r.currentNode;a;){var i=a.shadowRoot;if(i){var o=i.getElementById(t)||i.querySelector('[name="'.concat(t,'"]'));if(o)return o}a=r.nextNode()}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(n-a[0],r-a[1])}},{key:"attemptFocus",value:function(e){return e.focus(),this.document.activeElement===e}},{key:"supportScrollRestoration",value:function(){try{if(!this.supportsScrolling())return!1;var e=vc(this.window.history)||vc(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(t){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}]),e}();function vc(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}var gc,yc=function e(){_classCallCheck(this,e)},bc=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"remove",value:function(e){e.parentNode&&e.parentNode.removeChild(e)}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getBaseHref",value:function(e){var t=(kc=kc||document.querySelector("base"))?kc.getAttribute("href"):null;return null==t?null:function(e){(gc=gc||document.createElement("a")).setAttribute("href",e);var t=gc.pathname;return"/"===t.charAt(0)?t:"/".concat(t)}(t)}},{key:"resetBaseElement",value:function(){kc=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"getCookie",value:function(e){return ac(document.cookie,e)}}],[{key:"makeCurrent",value:function(){var e;e=new n,Lu||(Lu=e)}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments)).supportsDOMEvents=!0,e}return n}(function(){return function e(){_classCallCheck(this,e)}}())),kc=null,_c=new Pn("TRANSITION_ID"),wc=[{provide:Fs,useFactory:function(e,t,n){return function(){n.get(zs).donePromise.then(function(){var n=Nu();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(function(t){return t.getAttribute("ng-transition")===e}).forEach(function(e){return n.remove(e)})})}},deps:[_c,Bu,Di],multi:!0}],Cc=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){Ae.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},Ae.getAllAngularTestabilities=function(){return e.getAllTestabilities()},Ae.getAllAngularRootElements=function(){return e.getAllRootElements()},Ae.frameworkStabilizers||(Ae.frameworkStabilizers=[]),Ae.frameworkStabilizers.push(function(e){var t=Ae.getAllAngularTestabilities(),n=t.length,r=!1,a=function(t){r=r||t,0==--n&&e(r)};t.forEach(function(e){e.whenStable(a)})})}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var r=e.getTestability(t);return null!=r?r:n?Nu().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}],[{key:"init",value:function(){var t;t=new e,mu=t}}]),e}(),Tc=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"build",value:function(){return new XMLHttpRequest}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e}(),xc=new Pn("EventManagerPlugins"),Sc=function(){var e=function(){function e(t,n){var r=this;_classCallCheck(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach(function(e){return e.manager=r}),this._plugins=t.slice().reverse()}return _createClass(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,r=0;r<n.length;r++){var a=n[r];if(a.supports(e))return this._eventNameToPlugin.set(e,a),a}throw new Error("No event manager plugin found for event ".concat(e))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Gn(xc),Gn(iu))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e}(),Ec=function(){function e(t){_classCallCheck(this,e),this._doc=t}return _createClass(e,[{key:"addGlobalEventListener",value:function(e,t,n){var r=Nu().getGlobalEventTarget(this._doc,e);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(t));return this.addEventListener(r,t,n)}}]),e}(),Ic=function(){var e=function(){function e(){_classCallCheck(this,e),this._stylesSet=new Set}return _createClass(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach(function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))}),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e}(),Ac=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r._hostNodes=new Map,r._hostNodes.set(e.head,[]),r}return _createClass(n,[{key:"_addStylesToHost",value:function(e,t,n){var r=this;e.forEach(function(e){var a=r._doc.createElement("style");a.textContent=e,n.push(t.appendChild(a))})}},{key:"addHost",value:function(e){var t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}},{key:"removeHost",value:function(e){var t=this._hostNodes.get(e);t&&t.forEach(Rc),this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach(function(n,r){t._addStylesToHost(e,r,n)})}},{key:"ngOnDestroy",value:function(){this._hostNodes.forEach(function(e){return e.forEach(Rc)})}}]),n}(Ic);return e.\u0275fac=function(t){return new(t||e)(Gn(Bu))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e}();function Rc(e){Nu().remove(e)}var Oc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Pc=/%COMP%/g;function Mc(e,t,n){for(var r=0;r<t.length;r++){var a=t[r];Array.isArray(a)?Mc(e,a,n):(a=a.replace(Pc,e),n.push(a))}return n}function Dc(e){return function(t){if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var Lc=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Nc(t)}return _createClass(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case Te.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new Bc(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case 1:case Te.ShadowDom:return new Fc(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var r=Mc(t.id,t.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Gn(Sc),Gn(Ac),Gn(Us))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e}(),Nc=function(){function e(t){_classCallCheck(this,e),this.eventManager=t,this.data=Object.create(null)}return _createClass(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(Oc[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,r){if(r){t=r+":"+t;var a=Oc[r];a?e.setAttributeNS(a,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var r=Oc[n];r?e.removeAttributeNS(r,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,r){r&(Gr.DashCase|Gr.Important)?e.style.setProperty(t,n,r&Gr.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&Gr.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Dc(n)):this.eventManager.addEventListener(e,t,Dc(n))}}]),e}(),Bc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,a,i){var o;_classCallCheck(this,n),(o=t.call(this,e)).component=a;var s=Mc(i+"-"+a.id,a.styles,[]);return r.addStyles(s),o.contentAttr="_ngcontent-%COMP%".replace(Pc,i+"-"+a.id),o.hostAttr="_nghost-%COMP%".replace(Pc,i+"-"+a.id),o}return _createClass(n,[{key:"applyToHost",value:function(e){_get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,t){var r=_get(_getPrototypeOf(n.prototype),"createElement",this).call(this,e,t);return _get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(Nc),Fc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,a,i){var o;_classCallCheck(this,n),(o=t.call(this,e)).sharedStylesHost=r,o.hostEl=a,o.shadowRoot=a.attachShadow({mode:"open"}),o.sharedStylesHost.addHost(o.shadowRoot);for(var s=Mc(i.id,i.styles,[]),u=0;u<s.length;u++){var c=document.createElement("style");c.textContent=s[u],o.shadowRoot.appendChild(c)}return o}return _createClass(n,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,t){return _get(_getPrototypeOf(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"insertBefore",value:function(e,t,r){return _get(_getPrototypeOf(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),t,r)}},{key:"removeChild",value:function(e,t){return _get(_getPrototypeOf(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(_get(_getPrototypeOf(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),n}(Nc),zc=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var r=this;return e.addEventListener(t,n,!1),function(){return r.removeEventListener(e,t,n)}}},{key:"removeEventListener",value:function(e,t,n){return e.removeEventListener(t,n)}}]),n}(Ec);return e.\u0275fac=function(t){return new(t||e)(Gn(Bu))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e}(),Uc=["alt","control","meta","shift"],jc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Hc={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Vc={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},Wc=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return null!=n.parseEventName(e)}},{key:"addEventListener",value:function(e,t,r){var a=n.parseEventName(t),i=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return Nu().onAndCancel(e,a.domEventName,i)})}}],[{key:"parseEventName",value:function(e){var t=e.toLowerCase().split("."),r=t.shift();if(0===t.length||"keydown"!==r&&"keyup"!==r)return null;var a=n._normalizeKey(t.pop()),i="";if(Uc.forEach(function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),i+=e+".")}),i+=a,0!=t.length||0===a.length)return null;var o={};return o.domEventName=r,o.fullKey=i,o}},{key:"getEventFullKey",value:function(e){var t="",n=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&Hc.hasOwnProperty(t)&&(t=Hc[t]))}return jc[t]||t}(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Uc.forEach(function(r){r!=n&&(0,Vc[r])(e)&&(t+=r+".")}),t+=n}},{key:"eventCallback",value:function(e,t,r){return function(a){n.getEventFullKey(a)===e&&r.runGuarded(function(){return t(a)})}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),n}(Ec);return e.\u0275fac=function(t){return new(t||e)(Gn(Bu))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e}(),qc=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({factory:function(){return Gn(Xc)},token:e,providedIn:"root"}),e}();function Gc(e){return new Xc(e.get(Bu))}var Xc=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r}return _createClass(n,[{key:"sanitize",value:function(e,t){if(null==t)return null;switch(e){case Dr.NONE:return t;case Dr.HTML:return cr(t,"HTML")?ur(t):Pr(this._doc,String(t)).toString();case Dr.STYLE:return cr(t,"Style")?ur(t):t;case Dr.SCRIPT:if(cr(t,"Script"))return ur(t);throw new Error("unsafe value used in a script context");case Dr.URL:return lr(t),cr(t,"URL")?ur(t):mr(String(t));case Dr.RESOURCE_URL:if(cr(t,"ResourceURL"))return ur(t);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(e," (see https://g.co/ng/security#xss)"))}}},{key:"bypassSecurityTrustHtml",value:function(e){return new rr(e)}},{key:"bypassSecurityTrustStyle",value:function(e){return new ar(e)}},{key:"bypassSecurityTrustScript",value:function(e){return new ir(e)}},{key:"bypassSecurityTrustUrl",value:function(e){return new or(e)}},{key:"bypassSecurityTrustResourceUrl",value:function(e){return new sr(e)}}]),n}(qc);return e.\u0275fac=function(t){return new(t||e)(Gn(Bu))},e.\u0275prov=ce({factory:function(){return Gc(Gn(_i))},token:e,providedIn:"root"}),e}(),Zc=ku(Pu,"browser",[{provide:Ws,useValue:"browser"},{provide:Vs,useValue:function(){bc.makeCurrent(),Cc.init()},multi:!0},{provide:Bu,useFactory:function(){return function(e){nt=e}(document),document},deps:[]}]),Yc=[[],{provide:Ci,useValue:"root"},{provide:Vr,useFactory:function(){return new Vr},deps:[]},{provide:xc,useClass:zc,multi:!0,deps:[Bu,iu,Ws]},{provide:xc,useClass:Wc,multi:!0,deps:[Bu]},[],{provide:Lc,useClass:Lc,deps:[Sc,Ac,Us]},{provide:xo,useExisting:Lc},{provide:Ic,useExisting:Ac},{provide:Ac,useClass:Ac,deps:[Bu]},{provide:du,useClass:du,deps:[iu]},{provide:Sc,useClass:Sc,deps:[xc,iu]},{provide:yc,useClass:Tc,deps:[]},[]],Kc=function(){var e=function(){function e(t){if(_classCallCheck(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:Us,useValue:t.appId},{provide:_c,useExisting:Us},wc]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Gn(e,12))},e.\u0275mod=We({type:e}),e.\u0275inj=le({providers:Yc,imports:[dc,Du]}),e}();"undefined"!=typeof window&&window;var Qc={prefix:"fas",iconName:"bars",icon:[448,512,[],"f0c9","M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"]},$c={prefix:"fas",iconName:"compact-disc",icon:[496,512,[],"f51f","M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zM88 256H56c0-105.9 86.1-192 192-192v32c-88.2 0-160 71.8-160 160zm160 96c-53 0-96-43-96-96s43-96 96-96 96 43 96 96-43 96-96 96zm0-128c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32z"]},Jc={prefix:"fas",iconName:"exclamation-circle",icon:[512,512,[],"f06a","M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"]},el={prefix:"fas",iconName:"list",icon:[512,512,[],"f03a","M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"]},tl={prefix:"fas",iconName:"music",icon:[512,512,[],"f001","M470.38 1.51L150.41 96A32 32 0 0 0 128 126.51v261.41A139 139 0 0 0 96 384c-53 0-96 28.66-96 64s43 64 96 64 96-28.66 96-64V214.32l256-75v184.61a138.4 138.4 0 0 0-32-3.93c-53 0-96 28.66-96 64s43 64 96 64 96-28.65 96-64V32a32 32 0 0 0-41.62-30.49z"]},nl={prefix:"fas",iconName:"pause",icon:[448,512,[],"f04c","M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"]},rl={prefix:"fas",iconName:"play",icon:[448,512,[],"f04b","M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"]},al={prefix:"fas",iconName:"plus",icon:[448,512,[],"f067","M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"]},il={prefix:"fas",iconName:"question",icon:[384,512,[],"f128","M202.021 0C122.202 0 70.503 32.703 29.914 91.026c-7.363 10.58-5.093 25.086 5.178 32.874l43.138 32.709c10.373 7.865 25.132 6.026 33.253-4.148 25.049-31.381 43.63-49.449 82.757-49.449 30.764 0 68.816 19.799 68.816 49.631 0 22.552-18.617 34.134-48.993 51.164-35.423 19.86-82.299 44.576-82.299 106.405V320c0 13.255 10.745 24 24 24h72.471c13.255 0 24-10.745 24-24v-5.773c0-42.86 125.268-44.645 125.268-160.627C377.504 66.256 286.902 0 202.021 0zM192 373.459c-38.196 0-69.271 31.075-69.271 69.271 0 38.195 31.075 69.27 69.271 69.27s69.271-31.075 69.271-69.271-31.075-69.27-69.271-69.27z"]},ol={prefix:"fas",iconName:"record-vinyl",icon:[512,512,[],"f8d9","M256 152a104 104 0 1 0 104 104 104 104 0 0 0-104-104zm0 128a24 24 0 1 1 24-24 24 24 0 0 1-24 24zm0-272C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 376a128 128 0 1 1 128-128 128 128 0 0 1-128 128z"]},sl={prefix:"fas",iconName:"step-backward",icon:[448,512,[],"f048","M64 468V44c0-6.6 5.4-12 12-12h48c6.6 0 12 5.4 12 12v176.4l195.5-181C352.1 22.3 384 36.6 384 64v384c0 27.4-31.9 41.7-52.5 24.6L136 292.7V468c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12z"]},ul={prefix:"fas",iconName:"step-forward",icon:[448,512,[],"f051","M384 44v424c0 6.6-5.4 12-12 12h-48c-6.6 0-12-5.4-12-12V291.6l-195.5 181C95.9 489.7 64 475.4 64 448V64c0-27.4 31.9-41.7 52.5-24.6L312 219.3V44c0-6.6 5.4-12 12-12h48c6.6 0 12 5.4 12 12z"]},cl={prefix:"fas",iconName:"stream",icon:[512,512,[],"f550","M16 128h416c8.84 0 16-7.16 16-16V48c0-8.84-7.16-16-16-16H16C7.16 32 0 39.16 0 48v64c0 8.84 7.16 16 16 16zm480 80H80c-8.84 0-16 7.16-16 16v64c0 8.84 7.16 16 16 16h416c8.84 0 16-7.16 16-16v-64c0-8.84-7.16-16-16-16zm-64 176H16c-8.84 0-16 7.16-16 16v64c0 8.84 7.16 16 16 16h416c8.84 0 16-7.16 16-16v-64c0-8.84-7.16-16-16-16z"]},ll={prefix:"fas",iconName:"times",icon:[352,512,[],"f00d","M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"]},fl={prefix:"fas",iconName:"user",icon:[448,512,[],"f007","M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"]},hl={prefix:"fas",iconName:"volume-mute",icon:[512,512,[],"f6a9","M215.03 71.05L126.06 160H24c-13.26 0-24 10.74-24 24v144c0 13.25 10.74 24 24 24h102.06l88.97 88.95c15.03 15.03 40.97 4.47 40.97-16.97V88.02c0-21.46-25.96-31.98-40.97-16.97zM461.64 256l45.64-45.64c6.3-6.3 6.3-16.52 0-22.82l-22.82-22.82c-6.3-6.3-16.52-6.3-22.82 0L416 210.36l-45.64-45.64c-6.3-6.3-16.52-6.3-22.82 0l-22.82 22.82c-6.3 6.3-6.3 16.52 0 22.82L370.36 256l-45.63 45.63c-6.3 6.3-6.3 16.52 0 22.82l22.82 22.82c6.3 6.3 16.52 6.3 22.82 0L416 301.64l45.64 45.64c6.3 6.3 16.52 6.3 22.82 0l22.82-22.82c6.3-6.3 6.3-16.52 0-22.82L461.64 256z"]},dl={prefix:"fas",iconName:"volume-up",icon:[576,512,[],"f028","M215.03 71.05L126.06 160H24c-13.26 0-24 10.74-24 24v144c0 13.25 10.74 24 24 24h102.06l88.97 88.95c15.03 15.03 40.97 4.47 40.97-16.97V88.02c0-21.46-25.96-31.98-40.97-16.97zm233.32-51.08c-11.17-7.33-26.18-4.24-33.51 6.95-7.34 11.17-4.22 26.18 6.95 33.51 66.27 43.49 105.82 116.6 105.82 195.58 0 78.98-39.55 152.09-105.82 195.58-11.17 7.32-14.29 22.34-6.95 33.5 7.04 10.71 21.93 14.56 33.51 6.95C528.27 439.58 576 351.33 576 256S528.27 72.43 448.35 19.97zM480 256c0-63.53-32.06-121.94-85.77-156.24-11.19-7.14-26.03-3.82-33.12 7.46s-3.78 26.21 7.41 33.36C408.27 165.97 432 209.11 432 256s-23.73 90.03-63.48 115.42c-11.19 7.14-14.5 22.07-7.41 33.36 6.51 10.36 21.12 15.14 33.12 7.46C447.94 377.94 480 319.54 480 256zm-141.77-76.87c-11.58-6.33-26.19-2.16-32.61 9.45-6.39 11.61-2.16 26.2 9.45 32.61C327.98 228.28 336 241.63 336 256c0 14.38-8.02 27.72-20.92 34.81-11.61 6.41-15.84 21-9.45 32.61 6.43 11.66 21.05 15.8 32.61 9.45 28.23-15.55 45.77-45 45.77-76.88s-17.54-61.32-45.78-76.86z"]};function pl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];return S(r)?(t.pop(),L(t,r)):W(t)}var ml=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._value=e,r}return _createClass(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(e){var t=_get(_getPrototypeOf(n.prototype),"_subscribe",this).call(this,e);return t&&!t.closed&&e.next(this._value),t}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new _;return this._value}},{key:"next",value:function(e){_get(_getPrototypeOf(n.prototype),"next",this).call(this,this._value=e)}}]),n}(T),vl=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(e,t,n,r,a){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),n}(p),gl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,a){var i;return _classCallCheck(this,n),(i=t.call(this)).parent=e,i.outerValue=r,i.outerIndex=a,i.index=0,i}return _createClass(n,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(p);function yl(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new gl(e,n,r);if(!a.closed)return t instanceof b?t.subscribe(a):D(t)(a)}var bl={},kl=function(){function e(t){_classCallCheck(this,e),this.resultSelector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new _l(e,this.resultSelector))}}]),e}(),_l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var a;return _classCallCheck(this,n),(a=t.call(this,e)).resultSelector=r,a.active=0,a.values=[],a.observables=[],a}return _createClass(n,[{key:"_next",value:function(e){this.values.push(bl),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++)this.add(yl(this,e[n],void 0,n))}}},{key:"notifyComplete",value:function(e){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n){var r=this.values,a=this.toRespond?r[n]===bl?--this.toRespond:this.toRespond:0;r[n]=t,0===a&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(vl),wl=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}();function Cl(){return V(1)(pl.apply(void 0,arguments))}var Tl=new b(function(e){return e.complete()});function xl(e){return e?function(e){return new b(function(t){return e.schedule(function(){return t.complete()})})}(e):Tl}function Sl(e){return new b(function(t){var n;try{n=e()}catch(r){return void t.error(r)}return(n?N(n):xl()).subscribe(t)})}function El(e,t){return"function"==typeof t?function(n){return n.pipe(El(function(n,r){return N(e(n,r)).pipe(E(function(e,a){return t(n,e,r,a)}))}))}:function(t){return t.lift(new Il(e))}}var Il=function(){function e(t){_classCallCheck(this,e),this.project=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Al(e,this.project))}}]),e}(),Al=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var a;return _classCallCheck(this,n),(a=t.call(this,e)).project=r,a.index=0,a}return _createClass(n,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t)}},{key:"_innerSub",value:function(e){var t=this.innerSubscription;t&&t.unsubscribe();var n=new B(this),r=this.destination;r.add(n),this.innerSubscription=z(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}},{key:"_complete",value:function(){var e=this.innerSubscription;e&&!e.closed||_get(_getPrototypeOf(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e){this.destination.next(e)}}]),n}(F),Rl=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}();function Ol(e){return function(t){return 0===e?xl():t.lift(new Pl(e))}}var Pl=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new Rl}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Ml(e,this.total))}}]),e}(),Ml=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var a;return _classCallCheck(this,n),(a=t.call(this,e)).total=r,a.count=0,a}return _createClass(n,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}]),n}(p);function Dl(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Ll(e,t,n))}}var Ll=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this.accumulator=t,this.seed=n,this.hasSeed=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Nl(e,this.accumulator,this.seed,this.hasSeed))}}]),e}(),Nl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,a,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).accumulator=r,o._seed=a,o.hasSeed=i,o.index=0,o}return _createClass(n,[{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}},{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(r){this.destination.error(r)}this.seed=t,this.destination.next(t)}}]),n}(p);function Bl(e,t){return function(n){return n.lift(new Fl(e,t))}}var Fl=function(){function e(t,n){_classCallCheck(this,e),this.predicate=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new zl(e,this.predicate,this.thisArg))}}]),e}(),zl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,a){var i;return _classCallCheck(this,n),(i=t.call(this,e)).predicate=r,i.thisArg=a,i.count=0,i}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}]),n}(p);function Ul(e){return function(t){var n=new jl(e),r=t.lift(n);return n.caught=r}}var jl=function(){function e(t){_classCallCheck(this,e),this.selector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Hl(e,this.selector,this.caught))}}]),e}(),Hl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,a){var i;return _classCallCheck(this,n),(i=t.call(this,e)).selector=r,i.caught=a,i}return _createClass(n,[{key:"error",value:function(e){if(!this.isStopped){var t;try{t=this.selector(e,this.caught)}catch(i){return void _get(_getPrototypeOf(n.prototype),"error",this).call(this,i)}this._unsubscribeAndRecycle();var r=new B(this);this.add(r);var a=z(t,r);a!==r&&this.add(a)}}}]),n}(F);function Vl(e,t){return U(e,t,1)}function Wl(e){return function(t){return 0===e?xl():t.lift(new ql(e))}}var ql=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new Rl}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Gl(e,this.total))}}]),e}(),Gl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var a;return _classCallCheck(this,n),(a=t.call(this,e)).total=r,a.ring=new Array,a.count=0,a}return _createClass(n,[{key:"_next",value:function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}},{key:"_complete",value:function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,a=0;a<n;a++){var i=t++%n;e.next(r[i])}e.complete()}}]),n}(p);function Xl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kl;return function(t){return t.lift(new Zl(e))}}var Zl=function(){function e(t){_classCallCheck(this,e),this.errorFactory=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Yl(e,this.errorFactory))}}]),e}(),Yl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var a;return _classCallCheck(this,n),(a=t.call(this,e)).errorFactory=r,a.hasValue=!1,a}return _createClass(n,[{key:"_next",value:function(e){this.hasValue=!0,this.destination.next(e)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}]),n}(p);function Kl(){return new wl}function Ql(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t.lift(new $l(e))}}var $l=function(){function e(t){_classCallCheck(this,e),this.defaultValue=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Jl(e,this.defaultValue))}}]),e}(),Jl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var a;return _classCallCheck(this,n),(a=t.call(this,e)).defaultValue=r,a.isEmpty=!0,a}return _createClass(n,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(p);function ef(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Bl(function(t,n){return e(t,n,r)}):g,Ol(1),n?Ql(t):Xl(function(){return new wl}))}}function tf(){}function nf(e,t,n){return function(r){return r.lift(new rf(e,t,n))}}var rf=function(){function e(t,n,r){_classCallCheck(this,e),this.nextOrObserver=t,this.error=n,this.complete=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new af(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),af=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,a,i,o){var s;return _classCallCheck(this,n),(s=t.call(this,e))._tapNext=tf,s._tapError=tf,s._tapComplete=tf,s._tapError=i||tf,s._tapComplete=o||tf,r(a)?(s._context=_assertThisInitialized(s),s._tapNext=a):a&&(s._context=a,s._tapNext=a.next||tf,s._tapError=a.error||tf,s._tapComplete=a.complete||tf),s}return _createClass(n,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}]),n}(p),of=function(){function e(t){_classCallCheck(this,e),this.callback=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new sf(e,this.callback))}}]),e}(),sf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var a;return _classCallCheck(this,n),(a=t.call(this,e)).add(new f(r)),a}return n}(p),uf=function e(t,n){_classCallCheck(this,e),this.id=t,this.url=n},cf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,n),(a=t.call(this,e,r)).navigationTrigger=i,a.restoredState=o,a}return _createClass(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(uf),lf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,a){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).urlAfterRedirects=a,i}return _createClass(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(uf),ff=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,a){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).reason=a,i}return _createClass(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(uf),hf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,a){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).error=a,i}return _createClass(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(uf),df=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,a,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).urlAfterRedirects=a,o.state=i,o}return _createClass(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(uf),pf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,a,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).urlAfterRedirects=a,o.state=i,o}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(uf),mf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,a,i,o){var s;return _classCallCheck(this,n),(s=t.call(this,e,r)).urlAfterRedirects=a,s.state=i,s.shouldActivate=o,s}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(uf),vf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,a,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).urlAfterRedirects=a,o.state=i,o}return _createClass(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(uf),gf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,a,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).urlAfterRedirects=a,o.state=i,o}return _createClass(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(uf),yf=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),e}(),bf=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),e}(),kf=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),_f=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),wf=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Cf=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Tf=function(){function e(t,n,r){_classCallCheck(this,e),this.routerEvent=t,this.position=n,this.anchor=r}return _createClass(e,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),e}(),xf=function(){function e(t){_classCallCheck(this,e),this.params=t||{}}return _createClass(e,[{key:"has",value:function(e){return Object.prototype.hasOwnProperty.call(this.params,e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null}},{key:"getAll",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),e}();function Sf(e){return new xf(e)}function Ef(e){var t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function If(e,t,n){var r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;for(var a={},i=0;i<r.length;i++){var o=r[i],s=e[i];if(o.startsWith(":"))a[o.substring(1)]=s;else if(o!==s.path)return null}return{consumed:e.slice(0,r.length),posParams:a}}function Af(e,t){var n,r=e?Object.keys(e):void 0,a=t?Object.keys(t):void 0;if(!r||!a||r.length!=a.length)return!1;for(var i=0;i<r.length;i++)if(!Rf(e[n=r[i]],t[n]))return!1;return!0}function Rf(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;var n=_toConsumableArray(e).sort(),r=_toConsumableArray(t).sort();return n.every(function(e,t){return r[t]===e})}return e===t}function Of(e){return Array.prototype.concat.apply([],e)}function Pf(e){return e.length>0?e[e.length-1]:null}function Mf(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Df(e){return $i(e)?e:Qi(e)?N(Promise.resolve(e)):pl(e)}var Lf={exact:function e(t,n,r){if(!Wf(t.segments,n.segments))return!1;if(!Uf(t.segments,n.segments,r))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(var a in n.children){if(!t.children[a])return!1;if(!e(t.children[a],n.children[a],r))return!1}return!0},subset:Ff},Nf={exact:function(e,t){return Af(e,t)},subset:function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(function(n){return Rf(e[n],t[n])})},ignored:function(){return!0}};function Bf(e,t,n){return Lf[n.paths](e.root,t.root,n.matrixParams)&&Nf[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function Ff(e,t,n){return zf(e,t,t.segments,n)}function zf(e,t,n,r){if(e.segments.length>n.length){var a=e.segments.slice(0,n.length);return!!Wf(a,n)&&!t.hasChildren()&&!!Uf(a,n,r)}if(e.segments.length===n.length){if(!Wf(e.segments,n))return!1;if(!Uf(e.segments,n,r))return!1;for(var i in t.children){if(!e.children[i])return!1;if(!Ff(e.children[i],t.children[i],r))return!1}return!0}var o=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!Wf(e.segments,o)&&!!Uf(e.segments,o,r)&&!!e.children.primary&&zf(e.children.primary,t,s,r)}function Uf(e,t,n){return t.every(function(t,r){return Nf[n](e[r].parameters,t.parameters)})}var jf=function(){function e(t,n,r){_classCallCheck(this,e),this.root=t,this.queryParams=n,this.fragment=r}return _createClass(e,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Sf(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return Xf.serialize(this)}}]),e}(),Hf=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.segments=t,this.children=n,this.parent=null,Mf(n,function(e,t){return e.parent=r})}return _createClass(e,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return Zf(this)}}]),e}(),Vf=function(){function e(t,n){_classCallCheck(this,e),this.path=t,this.parameters=n}return _createClass(e,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=Sf(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return th(this)}}]),e}();function Wf(e,t){return e.length===t.length&&e.every(function(e,n){return e.path===t[n].path})}var qf=function e(){_classCallCheck(this,e)},Gf=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"parse",value:function(e){var t=new oh(e);return new jf(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}},{key:"serialize",value:function(e){var t,n,r;return"/".concat(Yf(e.root,!0)).concat((n=e.queryParams,r=Object.keys(n).map(function(e){var t=n[e];return Array.isArray(t)?t.map(function(t){return"".concat(Qf(e),"=").concat(Qf(t))}).join("&"):"".concat(Qf(e),"=").concat(Qf(t))}),r.length?"?".concat(r.join("&")):"")).concat("string"==typeof e.fragment?"#".concat((t=e.fragment,encodeURI(t))):"")}}]),e}(),Xf=new Gf;function Zf(e){return e.segments.map(function(e){return th(e)}).join("/")}function Yf(e,t){if(!e.hasChildren())return Zf(e);if(t){var n=e.children.primary?Yf(e.children.primary,!1):"",r=[];return Mf(e.children,function(e,t){"primary"!==t&&r.push("".concat(t,":").concat(Yf(e,!1)))}),r.length>0?"".concat(n,"(").concat(r.join("//"),")"):n}var a=function(e,t){var n=[];return Mf(e.children,function(e,r){"primary"===r&&(n=n.concat(t(e,r)))}),Mf(e.children,function(e,r){"primary"!==r&&(n=n.concat(t(e,r)))}),n}(e,function(t,n){return"primary"===n?[Yf(e.children.primary,!1)]:["".concat(n,":").concat(Yf(t,!1))]});return 1===Object.keys(e.children).length&&null!=e.children.primary?"".concat(Zf(e),"/").concat(a[0]):"".concat(Zf(e),"/(").concat(a.join("//"),")")}function Kf(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qf(e){return Kf(e).replace(/%3B/gi,";")}function $f(e){return Kf(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jf(e){return decodeURIComponent(e)}function eh(e){return Jf(e.replace(/\+/g,"%20"))}function th(e){return"".concat($f(e.path)).concat((t=e.parameters,Object.keys(t).map(function(e){return";".concat($f(e),"=").concat($f(t[e]))}).join("")));var t}var nh=/^[^\/()?;=#]+/;function rh(e){var t=e.match(nh);return t?t[0]:""}var ah=/^[^=?&#]+/,ih=/^[^?&#]+/,oh=function(){function e(t){_classCallCheck(this,e),this.url=t,this.remaining=t}return _createClass(e,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Hf([],{}):new Hf([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new Hf(e,t)),n}},{key:"parseSegment",value:function(){var e=rh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new Vf(Jf(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t=rh(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=rh(this.remaining);r&&(n=r,this.capture(n))}e[Jf(t)]=Jf(n)}}},{key:"parseQueryParam",value:function(e){var t=function(e){var t=e.match(ah);return t?t[0]:""}(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=function(e){var t=e.match(ih);return t?t[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var a=eh(t),i=eh(n);if(e.hasOwnProperty(a)){var o=e[a];Array.isArray(o)||(o=[o],e[a]=o),o.push(i)}else e[a]=i}}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=rh(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var a=void 0;n.indexOf(":")>-1?(a=n.substr(0,n.indexOf(":")),this.capture(a),this.capture(":")):e&&(a="primary");var i=this.parseChildren();t[a]=1===Object.keys(i).length?i.primary:new Hf([],i),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),e}(),sh=function(){function e(t){_classCallCheck(this,e),this._root=t}return _createClass(e,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}},{key:"children",value:function(e){var t=uh(e,this._root);return t?t.children.map(function(e){return e.value}):[]}},{key:"firstChild",value:function(e){var t=uh(e,this._root);return t&&t.children.length>0?t.children[0].value:null}},{key:"siblings",value:function(e){var t=ch(e,this._root);return t.length<2?[]:t[t.length-2].children.map(function(e){return e.value}).filter(function(t){return t!==e})}},{key:"pathFromRoot",value:function(e){return ch(e,this._root).map(function(e){return e.value})}}]),e}();function uh(e,t){if(e===t.value)return t;var n,r=_createForOfIteratorHelper(t.children);try{for(r.s();!(n=r.n()).done;){var a=uh(e,n.value);if(a)return a}}catch(i){r.e(i)}finally{r.f()}return null}function ch(e,t){if(e===t.value)return[t];var n,r=_createForOfIteratorHelper(t.children);try{for(r.s();!(n=r.n()).done;){var a=ch(e,n.value);if(a.length)return a.unshift(t),a}}catch(i){r.e(i)}finally{r.f()}return[]}var lh=function(){function e(t,n){_classCallCheck(this,e),this.value=t,this.children=n}return _createClass(e,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),e}();function fh(e){var t={};return e&&e.children.forEach(function(e){return t[e.value.outlet]=e}),t}var hh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var a;return _classCallCheck(this,n),(a=t.call(this,e)).snapshot=r,yh(_assertThisInitialized(a),e),a}return _createClass(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(sh);function dh(e,t){var n=function(e,t){var n=new vh([],{},{},"",{},"primary",t,null,e.root,-1,{});return new gh("",new lh(n,[]))}(e,t),r=new ml([new Vf("",{})]),a=new ml({}),i=new ml({}),o=new ml({}),s=new ml(""),u=new ph(r,a,o,s,i,"primary",t,n.root);return u.snapshot=n.root,new hh(new lh(u,[]),n)}var ph=function(){function e(t,n,r,a,i,o,s,u){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=a,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=u}return _createClass(e,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(E(function(e){return Sf(e)}))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(E(function(e){return Sf(e)}))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),e}();function mh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=e.pathFromRoot,r=0;if("always"!==t)for(r=n.length-1;r>=1;){var a=n[r],i=n[r-1];if(a.routeConfig&&""===a.routeConfig.path)r--;else{if(i.component)break;r--}}return function(e){return e.reduce(function(e,t){return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(r))}var vh=function(){function e(t,n,r,a,i,o,s,u,c,l,f){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=a,this.data=i,this.outlet=o,this.component=s,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=f}return _createClass(e,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=Sf(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Sf(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return"Route(url:'".concat(this.url.map(function(e){return e.toString()}).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}}]),e}(),gh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var a;return _classCallCheck(this,n),(a=t.call(this,r)).url=e,yh(_assertThisInitialized(a),r),a}return _createClass(n,[{key:"toString",value:function(){return bh(this._root)}}]),n}(sh);function yh(e,t){t.value._routerState=e,t.children.forEach(function(t){return yh(e,t)})}function bh(e){var t=e.children.length>0?" { ".concat(e.children.map(bh).join(", ")," } "):"";return"".concat(e.value).concat(t)}function kh(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Af(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Af(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!Af(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Af(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function _h(e,t){var n,r;return Af(e.params,t.params)&&Wf(n=e.url,r=t.url)&&n.every(function(e,t){return Af(e.parameters,r[t].parameters)})&&!(!e.parent!=!t.parent)&&(!e.parent||_h(e.parent,t.parent))}function wh(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){var r=n.value;r._futureSnapshot=t.value;var a=function(e,t,n){return t.children.map(function(t){var r,a=_createForOfIteratorHelper(n.children);try{for(a.s();!(r=a.n()).done;){var i=r.value;if(e.shouldReuseRoute(t.value,i.value.snapshot))return wh(e,t,i)}}catch(o){a.e(o)}finally{a.f()}return wh(e,t)})}(e,t,n);return new lh(r,a)}if(e.shouldAttach(t.value)){var i=e.retrieve(t.value);if(null!==i){var o=i.route;return Ch(t,o),o}}var s,u=new ph(new ml((s=t.value).url),new ml(s.params),new ml(s.queryParams),new ml(s.fragment),new ml(s.data),s.outlet,s.component,s),c=t.children.map(function(t){return wh(e,t)});return new lh(u,c)}function Ch(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(var n=0;n<e.children.length;++n)Ch(e.children[n],t.children[n])}function Th(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function xh(e){return"object"==typeof e&&null!=e&&e.outlets}function Sh(e,t,n,r,a){var i={};return r&&Mf(r,function(e,t){i[t]=Array.isArray(e)?e.map(function(e){return"".concat(e)}):"".concat(e)}),new jf(n.root===e?t:Eh(n.root,e,t),i,a)}function Eh(e,t,n){var r={};return Mf(e.children,function(e,a){r[a]=e===t?n:Eh(e,t,n)}),new Hf(e.segments,r)}var Ih=function(){function e(t,n,r){if(_classCallCheck(this,e),this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Th(r[0]))throw new Error("Root segment cannot have matrix parameters");var a=r.find(xh);if(a&&a!==Pf(r))throw new Error("{outlets:{}} has to be the last command")}return _createClass(e,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),e}(),Ah=function e(t,n,r){_classCallCheck(this,e),this.segmentGroup=t,this.processChildren=n,this.index=r};function Rh(e,t,n){if(e||(e=new Hf([],{})),0===e.segments.length&&e.hasChildren())return Oh(e,t,n);var r=function(e,t,n){for(var r=0,a=t,i={match:!1,pathIndex:0,commandIndex:0};a<e.segments.length;){if(r>=n.length)return i;var o=e.segments[a],s=n[r];if(xh(s))break;var u="".concat(s),c=r<n.length-1?n[r+1]:null;if(a>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!Lh(u,c,o))return i;r+=2}else{if(!Lh(u,{},o))return i;r++}a++}return{match:!0,pathIndex:a,commandIndex:r}}(e,t,n),a=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){var i=new Hf(e.segments.slice(0,r.pathIndex),{});return i.children.primary=new Hf(e.segments.slice(r.pathIndex),e.children),Oh(i,0,a)}return r.match&&0===a.length?new Hf(e.segments,{}):r.match&&!e.hasChildren()?Ph(e,t,n):r.match?Oh(e,0,a):Ph(e,t,n)}function Oh(e,t,n){if(0===n.length)return new Hf(e.segments,{});var r=function(e){return xh(e[0])?e[0].outlets:{primary:e}}(n),a={};return Mf(r,function(n,r){"string"==typeof n&&(n=[n]),null!==n&&(a[r]=Rh(e.children[r],t,n))}),Mf(e.children,function(e,t){void 0===r[t]&&(a[t]=e)}),new Hf(e.segments,a)}function Ph(e,t,n){for(var r=e.segments.slice(0,t),a=0;a<n.length;){var i=n[a];if(xh(i)){var o=Mh(i.outlets);return new Hf(r,o)}if(0===a&&Th(n[0]))r.push(new Vf(e.segments[t].path,Dh(n[0]))),a++;else{var s=xh(i)?i.outlets.primary:"".concat(i),u=a<n.length-1?n[a+1]:null;s&&u&&Th(u)?(r.push(new Vf(s,Dh(u))),a+=2):(r.push(new Vf(s,{})),a++)}}return new Hf(r,{})}function Mh(e){var t={};return Mf(e,function(e,n){"string"==typeof e&&(e=[e]),null!==e&&(t[n]=Ph(new Hf([],{}),0,e))}),t}function Dh(e){var t={};return Mf(e,function(e,n){return t[n]="".concat(e)}),t}function Lh(e,t,n){return e==n.path&&Af(t,n.parameters)}var Nh=function(){function e(t,n,r,a){_classCallCheck(this,e),this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=a}return _createClass(e,[{key:"activate",value:function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),kh(this.futureState.root),this.activateChildRoutes(t,n,e)}},{key:"deactivateChildRoutes",value:function(e,t,n){var r=this,a=fh(t);e.children.forEach(function(e){var t=e.value.outlet;r.deactivateRoutes(e,a[t],n),delete a[t]}),Mf(a,function(e,t){r.deactivateRouteAndItsChildren(e,n)})}},{key:"deactivateRoutes",value:function(e,t,n){var r=e.value,a=t?t.value:null;if(r===a)if(r.component){var i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(e,t,i.children)}else this.deactivateChildRoutes(e,t,n);else a&&this.deactivateRouteAndItsChildren(t,n)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:a})}}},{key:"deactivateRouteAndOutlet",value:function(e,t){for(var n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,a=fh(e),i=0,o=Object.keys(a);i<o.length;i++){var s=o[i];this.deactivateRouteAndItsChildren(a[s],r)}n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}},{key:"activateChildRoutes",value:function(e,t,n){var r=this,a=fh(t);e.children.forEach(function(e){r.activateRoutes(e,a[e.value.outlet],n),r.forwardEvent(new Cf(e.value.snapshot))}),e.children.length&&this.forwardEvent(new _f(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,n){var r=e.value,a=t?t.value:null;if(kh(r),r===a)if(r.component){var i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,i.children)}else this.activateChildRoutes(e,t,n);else if(r.component){var o=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(s.contexts),o.attachRef=s.componentRef,o.route=s.route.value,o.outlet&&o.outlet.attach(s.componentRef,s.route.value),Bh(s.route)}else{var u=function(e){for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;o.attachRef=null,o.route=r,o.resolver=c,o.outlet&&o.outlet.activateWith(r,c),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,n)}}]),e}();function Bh(e){kh(e.value),e.children.forEach(Bh)}var Fh=function e(t,n){_classCallCheck(this,e),this.routes=t,this.module=n};function zh(e){return"function"==typeof e}function Uh(e){return e instanceof jf}var jh=Symbol("INITIAL_VALUE");function Hh(){return El(function(e){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,a;return S(t[t.length-1])&&(a=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&u(t[0])&&(t=t[0]),W(t,a).lift(new kl(r))}(e.map(function(e){return e.pipe(Ol(1),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];return S(r)?(t.pop(),function(e){return Cl(t,e,r)}):function(e){return Cl(t,e)}}(jh))})).pipe(Dl(function(e,t){var n=!1;return t.reduce(function(e,r,a){if(e!==jh)return e;if(r===jh&&(n=!0),!n){if(!1===r)return r;if(a===t.length-1||Uh(r))return r}return e},e)},jh),Bl(function(e){return e!==jh}),E(function(e){return Uh(e)?e:!0===e}),Ol(1))})}var Vh=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ue({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&Yi(0,"router-outlet")},directives:function(){return[Ud]},encapsulation:2}),e}();function Wh(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<e.length;n++){var r=e[n];qh(r,Gh(t,r))}}function qh(e,t){e.children&&Wh(e.children,t)}function Gh(e,t){return t?e||t.path?e&&!t.path?"".concat(e,"/"):!e&&t.path?t.path:"".concat(e,"/").concat(t.path):"":e}function Xh(e){var t=e.children&&e.children.map(Xh),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Vh),n}function Zh(e){return e.outlet||"primary"}function Yh(e,t){var n=e.filter(function(e){return Zh(e)===t});return n.push.apply(n,_toConsumableArray(e.filter(function(e){return Zh(e)!==t}))),n}var Kh={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Qh(e,t,n){var r;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},Kh):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};var a=(t.matcher||If)(n,e,t);if(!a)return Object.assign({},Kh);var i={};Mf(a.posParams,function(e,t){i[t]=e.path});var o=a.consumed.length>0?Object.assign(Object.assign({},i),a.consumed[a.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:a.consumed,lastChild:a.consumed.length,parameters:o,positionalParamSegments:null!==(r=a.posParams)&&void 0!==r?r:{}}}function $h(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"corrected";if(n.length>0&&function(e,t,n){return n.some(function(n){return Jh(e,t,n)&&"primary"!==Zh(n)})}(e,n,r)){var i=new Hf(t,function(e,t,n,r){var a={};a.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;var i,o=_createForOfIteratorHelper(n);try{for(o.s();!(i=o.n()).done;){var s=i.value;if(""===s.path&&"primary"!==Zh(s)){var u=new Hf([],{});u._sourceSegment=e,u._segmentIndexShift=t.length,a[Zh(s)]=u}}}catch(c){o.e(c)}finally{o.f()}return a}(e,t,r,new Hf(n,e.children)));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(function(n){return Jh(e,t,n)})}(e,n,r)){var o=new Hf(e.segments,function(e,t,n,r,a,i){var o,s={},u=_createForOfIteratorHelper(r);try{for(u.s();!(o=u.n()).done;){var c=o.value;if(Jh(e,n,c)&&!a[Zh(c)]){var l=new Hf([],{});l._sourceSegment=e,l._segmentIndexShift="legacy"===i?e.segments.length:t.length,s[Zh(c)]=l}}}catch(f){u.e(f)}finally{u.f()}return Object.assign(Object.assign({},a),s)}(e,t,n,r,e.children,a));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}var s=new Hf(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function Jh(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function ed(e,t,n,r){return!!(Zh(e)===r||"primary"!==r&&Jh(t,n,e))&&("**"===e.path||Qh(t,e,n).matched)}function td(e,t,n){return 0===t.length&&!e.children[n]}var nd=function e(t){_classCallCheck(this,e),this.segmentGroup=t||null},rd=function e(t){_classCallCheck(this,e),this.urlTree=t};function ad(e){return new b(function(t){return t.error(new nd(e))})}function id(e){return new b(function(t){return t.error(new rd(e))})}function od(e){return new b(function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(e,"'")))})}var sd=function(){function e(t,n,r,a,i){_classCallCheck(this,e),this.configLoader=n,this.urlSerializer=r,this.urlTree=a,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(ns)}return _createClass(e,[{key:"apply",value:function(){var e=this,t=$h(this.urlTree.root,[],[],this.config).segmentGroup,n=new Hf(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,n,"primary").pipe(E(function(t){return e.createUrlTree(ud(t),e.urlTree.queryParams,e.urlTree.fragment)})).pipe(Ul(function(t){if(t instanceof rd)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof nd)throw e.noMatchError(t);throw t}))}},{key:"match",value:function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(E(function(n){return t.createUrlTree(ud(n),e.queryParams,e.fragment)})).pipe(Ul(function(e){if(e instanceof nd)throw t.noMatchError(e);throw e}))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,t,n){var r=e.segments.length>0?new Hf([],{primary:e}):e;return new jf(r,t,n)}},{key:"expandSegmentGroup",value:function(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(E(function(e){return new Hf([],e)})):this.expandSegment(e,n,t,n.segments,r,!0)}},{key:"expandChildren",value:function(e,t,n){for(var r=this,a=[],i=0,o=Object.keys(n.children);i<o.length;i++){var s=o[i];"primary"===s?a.unshift(s):a.push(s)}return N(a).pipe(Vl(function(a){var i=n.children[a],o=Yh(t,a);return r.expandSegmentGroup(e,o,i,a).pipe(E(function(e){return{segment:e,outlet:a}}))}),Dl(function(e,t){return e[t.outlet]=t.segment,e},{}),function(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Bl(function(t,n){return e(t,n,r)}):g,Wl(1),n?Ql(t):Xl(function(){return new wl}))}}())}},{key:"expandSegment",value:function(e,t,n,r,a,i){var o=this;return N(n).pipe(Vl(function(s){return o.expandSegmentAgainstRoute(e,t,n,s,r,a,i).pipe(Ul(function(e){if(e instanceof nd)return pl(null);throw e}))}),ef(function(e){return!!e}),Ul(function(e,n){if(e instanceof wl||"EmptyError"===e.name){if(td(t,r,a))return pl(new Hf([],{}));throw new nd(t)}throw e}))}},{key:"expandSegmentAgainstRoute",value:function(e,t,n,r,a,i,o){return ed(r,t,a,i)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,a,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,a,i):ad(t):ad(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,a,i){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,a,i)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,t,n,r){var a=this,i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?id(i):this.lineralizeSegments(n,i).pipe(U(function(n){var i=new Hf(n,{});return a.expandSegment(e,i,t,n,r,!1)}))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,a,i){var o=this,s=Qh(t,r,a),u=s.matched,c=s.consumedSegments,l=s.lastChild,f=s.positionalParamSegments;if(!u)return ad(t);var h=this.applyRedirectCommands(c,r.redirectTo,f);return r.redirectTo.startsWith("/")?id(h):this.lineralizeSegments(r,h).pipe(U(function(r){return o.expandSegment(e,t,n,r.concat(a.slice(l)),i,!1)}))}},{key:"matchSegmentAgainstRoute",value:function(e,t,n,r,a){var i=this;if("**"===n.path)return n.loadChildren?(n._loadedConfig?pl(n._loadedConfig):this.configLoader.load(e.injector,n)).pipe(E(function(e){return n._loadedConfig=e,new Hf(r,{})})):pl(new Hf(r,{}));var o=Qh(t,n,r),s=o.matched,u=o.consumedSegments,c=o.lastChild;if(!s)return ad(t);var l=r.slice(c);return this.getChildConfig(e,n,r).pipe(U(function(e){var r=e.module,o=e.routes,s=$h(t,u,l,o),c=s.segmentGroup,f=s.slicedSegments,h=new Hf(c.segments,c.children);if(0===f.length&&h.hasChildren())return i.expandChildren(r,o,h).pipe(E(function(e){return new Hf(u,e)}));if(0===o.length&&0===f.length)return pl(new Hf(u,{}));var d=Zh(n)===a;return i.expandSegment(r,h,o,f,d?"primary":a,!0).pipe(E(function(e){return new Hf(u.concat(e.segments),e.children)}))}))}},{key:"getChildConfig",value:function(e,t,n){var r=this;return t.children?pl(new Fh(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?pl(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe(U(function(n){return n?r.configLoader.load(e.injector,t).pipe(E(function(e){return t._loadedConfig=e,e})):function(e){return new b(function(t){return t.error(Ef("Cannot load children because the guard of the route \"path: '".concat(e.path,"'\" returned false")))})}(t)})):pl(new Fh([],e))}},{key:"runCanLoadGuards",value:function(e,t,n){var r=this,a=t.canLoad;return a&&0!==a.length?pl(a.map(function(r){var a,i=e.get(r);if(function(e){return e&&zh(e.canLoad)}(i))a=i.canLoad(t,n);else{if(!zh(i))throw new Error("Invalid CanLoad guard");a=i(t,n)}return Df(a)})).pipe(Hh(),nf(function(e){if(Uh(e)){var t=Ef('Redirecting to "'.concat(r.urlSerializer.serialize(e),'"'));throw t.url=e,t}}),E(function(e){return!0===e})):pl(!0)}},{key:"lineralizeSegments",value:function(e,t){for(var n=[],r=t.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return pl(n);if(r.numberOfChildren>1||!r.children.primary)return od(e.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,n,r){var a=this.createSegmentGroup(e,t.root,n,r);return new jf(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,t){var n={};return Mf(e,function(e,r){if("string"==typeof e&&e.startsWith(":")){var a=e.substring(1);n[r]=t[a]}else n[r]=e}),n}},{key:"createSegmentGroup",value:function(e,t,n,r){var a=this,i=this.createSegments(e,t.segments,n,r),o={};return Mf(t.children,function(t,i){o[i]=a.createSegmentGroup(e,t,n,r)}),new Hf(i,o)}},{key:"createSegments",value:function(e,t,n,r){var a=this;return t.map(function(t){return t.path.startsWith(":")?a.findPosParam(e,t,r):a.findOrReturn(t,n)})}},{key:"findPosParam",value:function(e,t,n){var r=n[t.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return r}},{key:"findOrReturn",value:function(e,t){var n,r=0,a=_createForOfIteratorHelper(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(i.path===e.path)return t.splice(r),i;r++}}catch(o){a.e(o)}finally{a.f()}return e}}]),e}();function ud(e){for(var t={},n=0,r=Object.keys(e.children);n<r.length;n++){var a=r[n],i=ud(e.children[a]);(i.segments.length>0||i.hasChildren())&&(t[a]=i)}return function(e){if(1===e.numberOfChildren&&e.children.primary){var t=e.children.primary;return new Hf(e.segments.concat(t.segments),t.children)}return e}(new Hf(e.segments,t))}var cd=function e(t){_classCallCheck(this,e),this.path=t,this.route=this.path[this.path.length-1]},ld=function e(t,n){_classCallCheck(this,e),this.component=t,this.route=n};function fd(e,t,n){var r=e._root;return dd(r,t?t._root:null,n,[r.value])}function hd(e,t,n){var r=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function dd(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},i=fh(t);return e.children.forEach(function(e){!function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},i=e.value,o=t?t.value:null,s=n?n.getContext(e.value.outlet):null;if(o&&i.routeConfig===o.routeConfig){var u=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Wf(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Wf(e.url,t.url)||!Af(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_h(e,t)||!Af(e.queryParams,t.queryParams);case"paramsChange":default:return!_h(e,t)}}(o,i,i.routeConfig.runGuardsAndResolvers);u?a.canActivateChecks.push(new cd(r)):(i.data=o.data,i._resolvedData=o._resolvedData),dd(e,t,i.component?s?s.children:null:n,r,a),u&&s&&s.outlet&&s.outlet.isActivated&&a.canDeactivateChecks.push(new ld(s.outlet.component,o))}else o&&pd(t,s,a),a.canActivateChecks.push(new cd(r)),dd(e,null,i.component?s?s.children:null:n,r,a)}(e,i[e.value.outlet],n,r.concat([e.value]),a),delete i[e.value.outlet]}),Mf(i,function(e,t){return pd(e,n.getContext(t),a)}),a}function pd(e,t,n){var r=fh(e),a=e.value;Mf(r,function(e,r){pd(e,a.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new ld(a.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,a))}var md=function e(){_classCallCheck(this,e)};function vd(e){return new b(function(t){return t.error(e)})}var gd=function(){function e(t,n,r,a,i,o){_classCallCheck(this,e),this.rootComponentType=t,this.config=n,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}return _createClass(e,[{key:"recognize",value:function(){var e=$h(this.urlTree.root,[],[],this.config.filter(function(e){return void 0===e.redirectTo}),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary");if(null===t)return null;var n=new vh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new lh(n,t),a=new gh(this.url,r);return this.inheritParamsAndData(a._root),a}},{key:"inheritParamsAndData",value:function(e){var t=this,n=e.value,r=mh(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(function(e){return t.inheritParamsAndData(e)})}},{key:"processSegmentGroup",value:function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}},{key:"processChildren",value:function(e,t){for(var n=[],r=0,a=Object.keys(t.children);r<a.length;r++){var i=a[r],o=t.children[i],s=Yh(e,i),u=this.processSegmentGroup(s,o,i);if(null===u)return null;n.push.apply(n,_toConsumableArray(u))}var c=yd(n);return c.sort(function(e,t){return"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)}),c}},{key:"processSegment",value:function(e,t,n,r){var a,i=_createForOfIteratorHelper(e);try{for(i.s();!(a=i.n()).done;){var o=a.value,s=this.processSegmentAgainstRoute(o,t,n,r);if(null!==s)return s}}catch(u){i.e(u)}finally{i.f()}return td(t,n,r)?[]:null}},{key:"processSegmentAgainstRoute",value:function(e,t,n,r){if(e.redirectTo||!ed(e,t,n,r))return null;var a,i=[],o=[];if("**"===e.path){var s=n.length>0?Pf(n).parameters:{};a=new vh(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_d(e),Zh(e),e.component,e,bd(t),kd(t)+n.length,wd(e))}else{var u=Qh(t,e,n);if(!u.matched)return null;i=u.consumedSegments,o=n.slice(u.lastChild),a=new vh(i,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_d(e),Zh(e),e.component,e,bd(t),kd(t)+i.length,wd(e))}var c=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),l=$h(t,i,o,c.filter(function(e){return void 0===e.redirectTo}),this.relativeLinkResolution),f=l.segmentGroup,h=l.slicedSegments;if(0===h.length&&f.hasChildren()){var d=this.processChildren(c,f);return null===d?null:[new lh(a,d)]}if(0===c.length&&0===h.length)return[new lh(a,[])];var p=Zh(e)===r,m=this.processSegment(c,f,h,p?"primary":r);return null===m?null:[new lh(a,m)]}}]),e}();function yd(e){var t,n=[],r=new Set,a=_createForOfIteratorHelper(e);try{var i=function(){var e,a=t.value;if(!function(e){var t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}(a))return n.push(a),"continue";var i=n.find(function(e){return a.value.routeConfig===e.value.routeConfig});void 0!==i?((e=i.children).push.apply(e,_toConsumableArray(a.children)),r.add(i)):n.push(a)};for(a.s();!(t=a.n()).done;)i()}catch(l){a.e(l)}finally{a.f()}var o,s=_createForOfIteratorHelper(r);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=yd(u.children);n.push(new lh(u.value,c))}}catch(l){s.e(l)}finally{s.f()}return n.filter(function(e){return!r.has(e)})}function bd(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function kd(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function _d(e){return e.data||{}}function wd(e){return e.resolve||{}}function Cd(e){return El(function(t){var n=e(t);return n?N(n).pipe(E(function(){return t})):pl(t)})}var Td=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}()),xd=new Pn("ROUTES"),Sd=function(){function e(t,n,r,a){_classCallCheck(this,e),this.loader=t,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=a}return _createClass(e,[{key:"load",value:function(e,t){var n=this;if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);var r=this.loadModuleFactory(t.loadChildren).pipe(E(function(r){n.onLoadEndListener&&n.onLoadEndListener(t);var a=r.create(e);return new Fh(Of(a.injector.get(xd,void 0,be.Self|be.Optional)).map(Xh),a)}),Ul(function(e){throw t._loader$=void 0,e}));return t._loader$=new Y(r,function(){return new T}).pipe(q()),t._loader$}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?N(this.loader.load(e)):Df(e()).pipe(U(function(e){return e instanceof rs?pl(e):N(t.compiler.compileModuleAsync(e))}))}}]),e}(),Ed=function e(){_classCallCheck(this,e),this.outlet=null,this.route=null,this.resolver=null,this.children=new Id,this.attachRef=null},Id=function(){function e(){_classCallCheck(this,e),this.contexts=new Map}return _createClass(e,[{key:"onChildOutletCreated",value:function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}},{key:"onChildOutletDestroyed",value:function(e){var t=this.getContext(e);t&&(t.outlet=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new Ed,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),e}(),Ad=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),e}();function Rd(e){throw e}function Od(e,t,n){return t.parse("/")}function Pd(e,t){return pl(null)}var Md={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Dd={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ld=function(){var e=function(){function e(t,n,r,a,i,o,s,u){var c=this;_classCallCheck(this,e),this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=r,this.location=a,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new T,this.errorHandler=Rd,this.malformedUriErrorHandler=Od,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Pd,afterPreactivation:Pd},this.urlHandlingStrategy=new Ad,this.routeReuseStrategy=new Td,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=i.get(ns),this.console=i.get(Gs);var l=i.get(iu);this.isNgZoneEnabled=l instanceof iu&&iu.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new jf(new Hf([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Sd(o,s,function(e){return c.triggerEvent(new yf(e))},function(e){return c.triggerEvent(new bf(e))}),this.routerState=dh(this.currentUrlTree,this.rootComponentType),this.transitions=new ml({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(e,[{key:"setupNavigations",value:function(e){var t=this,n=this.events;return e.pipe(Bl(function(e){return 0!==e.id}),E(function(e){return Object.assign(Object.assign({},e),{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})}),El(function(e){var r,a,i,o,s=!1,u=!1;return pl(e).pipe(nf(function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object.assign(Object.assign({},t.lastSuccessfulNavigation),{previousNavigation:null}):null}}),El(function(e){var r=!t.navigated||e.extractedUrl.toString()!==t.browserUrlTree.toString();if(("reload"===t.onSameUrlNavigation||r)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return pl(e).pipe(El(function(e){var r=t.transitions.getValue();return n.next(new cf(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),r!==t.transitions.getValue()?Tl:Promise.resolve(e)}),function(e,t,n,r){return El(function(a){return function(e,t,n,r,a){return new sd(e,t,n,r,a).apply()}(e,t,n,a.extractedUrl,r).pipe(E(function(e){return Object.assign(Object.assign({},a),{urlAfterRedirects:e})}))})}(t.ngModule.injector,t.configLoader,t.urlSerializer,t.config),nf(function(e){t.currentNavigation=Object.assign(Object.assign({},t.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,n,r,a,i){return U(function(r){return function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";try{var o=new gd(e,t,n,r,a,i).recognize();return null===o?vd(new md):pl(o)}catch(s){return vd(s)}}(e,n,r.urlAfterRedirects,(o=r.urlAfterRedirects,t.serializeUrl(o)),a,i).pipe(E(function(e){return Object.assign(Object.assign({},r),{targetSnapshot:e})}));var o})}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),nf(function(e){"eager"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects);var r=new df(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(r)}));if(r&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var a=e.id,i=e.extractedUrl,o=e.source,s=e.restoredState,u=e.extras,c=new cf(a,t.serializeUrl(i),o,s);n.next(c);var l=dh(i,t.rootComponentType).snapshot;return pl(Object.assign(Object.assign({},e),{targetSnapshot:l,urlAfterRedirects:i,extras:Object.assign(Object.assign({},u),{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,t.browserUrlTree=e.urlAfterRedirects,e.resolve(null),Tl}),Cd(function(e){var n=e.targetSnapshot,r=e.id,a=e.extractedUrl,i=e.rawUrl,o=e.extras,s=o.skipLocationChange,u=o.replaceUrl;return t.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:a,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!u})}),nf(function(e){var n=new pf(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}),E(function(e){return Object.assign(Object.assign({},e),{guards:fd(e.targetSnapshot,e.currentSnapshot,t.rootContexts)})}),function(e,t){return U(function(n){var r=n.targetSnapshot,a=n.currentSnapshot,i=n.guards,o=i.canActivateChecks,s=i.canDeactivateChecks;return 0===s.length&&0===o.length?pl(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return N(e).pipe(U(function(e){return function(e,t,n,r,a){var i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return i&&0!==i.length?pl(i.map(function(i){var o,s=hd(i,t,a);if(function(e){return e&&zh(e.canDeactivate)}(s))o=Df(s.canDeactivate(e,t,n,r));else{if(!zh(s))throw new Error("Invalid CanDeactivate guard");o=Df(s(e,t,n,r))}return o.pipe(ef())})).pipe(Hh()):pl(!0)}(e.component,e.route,n,t,r)}),ef(function(e){return!0!==e},!0))}(s,r,a,e).pipe(U(function(n){return n&&"boolean"==typeof n?function(e,t,n,r){return N(t).pipe(Vl(function(t){return Cl(function(e,t){return null!==e&&t&&t(new kf(e)),pl(!0)}(t.route.parent,r),function(e,t){return null!==e&&t&&t(new wf(e)),pl(!0)}(t.route,r),function(e,t,n){var r=t[t.length-1],a=t.slice(0,t.length-1).reverse().map(function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)}).filter(function(e){return null!==e}).map(function(t){return Sl(function(){return pl(t.guards.map(function(a){var i,o=hd(a,t.node,n);if(function(e){return e&&zh(e.canActivateChild)}(o))i=Df(o.canActivateChild(r,e));else{if(!zh(o))throw new Error("Invalid CanActivateChild guard");i=Df(o(r,e))}return i.pipe(ef())})).pipe(Hh())})});return pl(a).pipe(Hh())}(e,t.path,n),function(e,t,n){var r=t.routeConfig?t.routeConfig.canActivate:null;return r&&0!==r.length?pl(r.map(function(r){return Sl(function(){var a,i=hd(r,t,n);if(function(e){return e&&zh(e.canActivate)}(i))a=Df(i.canActivate(t,e));else{if(!zh(i))throw new Error("Invalid CanActivate guard");a=Df(i(t,e))}return a.pipe(ef())})})).pipe(Hh()):pl(!0)}(e,t.route,n))}),ef(function(e){return!0!==e},!0))}(r,o,e,t):pl(n)}),E(function(e){return Object.assign(Object.assign({},n),{guardsResult:e})}))})}(t.ngModule.injector,function(e){return t.triggerEvent(e)}),nf(function(e){if(Uh(e.guardsResult)){var n=Ef('Redirecting to "'.concat(t.serializeUrl(e.guardsResult),'"'));throw n.url=e.guardsResult,n}var r=new mf(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(r)}),Bl(function(e){if(!e.guardsResult){t.resetUrlToCurrentUrlTree();var r=new ff(e.id,t.serializeUrl(e.extractedUrl),"");return n.next(r),e.resolve(!1),!1}return!0}),Cd(function(e){if(e.guards.canActivateChecks.length)return pl(e).pipe(nf(function(e){var n=new vf(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}),El(function(e){var r,a,i=!1;return pl(e).pipe((r=t.paramsInheritanceStrategy,a=t.ngModule.injector,U(function(e){var t=e.targetSnapshot,n=e.guards.canActivateChecks;if(!n.length)return pl(e);var i=0;return N(n).pipe(Vl(function(e){return function(e,t,n,r){return function(e,t,n,r){var a=Object.keys(e);if(0===a.length)return pl({});var i={};return N(a).pipe(U(function(a){return function(e,t,n,r){var a=hd(e,t,r);return Df(a.resolve?a.resolve(t,n):a(t,n))}(e[a],t,n,r).pipe(nf(function(e){i[a]=e}))}),Wl(1),U(function(){return Object.keys(i).length===a.length?pl(i):Tl}))}(e._resolve,e,t,r).pipe(E(function(t){return e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),mh(e,n).resolve),null}))}(e.route,t,r,a)}),nf(function(){return i++}),Wl(1),U(function(t){return i===n.length?pl(e):Tl}))})),nf({next:function(){return i=!0},complete:function(){if(!i){var r=new ff(e.id,t.serializeUrl(e.extractedUrl),"At least one route resolver didn't emit any value.");n.next(r),e.resolve(!1)}}}))}),nf(function(e){var n=new gf(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}))}),Cd(function(e){var n=e.targetSnapshot,r=e.id,a=e.extractedUrl,i=e.rawUrl,o=e.extras,s=o.skipLocationChange,u=o.replaceUrl;return t.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:a,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!u})}),E(function(e){var n=function(e,t,n){var r=wh(e,t._root,n?n._root:void 0);return new hh(r,t)}(t.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:n})}),nf(function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(t.currentUrlTree,e.rawUrl),t.routerState=e.targetRouterState,"deferred"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)}),(a=t.rootContexts,i=t.routeReuseStrategy,o=function(e){return t.triggerEvent(e)},E(function(e){return new Nh(i,e.targetRouterState,e.currentRouterState,o).activate(a),e})),nf({next:function(){s=!0},complete:function(){s=!0}}),(r=function(){if(!s&&!u){t.resetUrlToCurrentUrlTree();var r=new ff(e.id,t.serializeUrl(e.extractedUrl),"Navigation ID ".concat(e.id," is not equal to the current navigation id ").concat(t.navigationId));n.next(r),e.resolve(!1)}t.currentNavigation=null},function(e){return e.lift(new of(r))}),Ul(function(r){if(u=!0,(s=r)&&s.ngNavigationCancelingError){var a=Uh(r.url);a||(t.navigated=!0,t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));var i=new ff(e.id,t.serializeUrl(e.extractedUrl),r.message);n.next(i),a?setTimeout(function(){var n=t.urlHandlingStrategy.merge(r.url,t.rawUrlTree);t.scheduleNavigation(n,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);var o=new hf(e.id,t.serializeUrl(e.extractedUrl),r);n.next(o);try{e.resolve(t.errorHandler(r))}catch(c){e.reject(c)}}var s;return Tl}))}))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(t){var n=e.extractLocationChangeInfoFromEvent(t);e.shouldScheduleNavigation(e.lastLocationChangeInfo,n)&&setTimeout(function(){var t=n.source,r=n.state,a=n.urlTree,i={replaceUrl:!0};if(r){var o=Object.assign({},r);delete o.navigationId,0!==Object.keys(o).length&&(i.state=o)}e.scheduleNavigation(a,t,r,i)},0),e.lastLocationChangeInfo=n}))}},{key:"extractLocationChangeInfoFromEvent",value:function(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}},{key:"shouldScheduleNavigation",value:function(e,t){if(!e)return!0;var n=t.urlTree.toString()===e.urlTree.toString();return!(t.transitionId===e.transitionId&&n&&("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source))}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){Wh(e),this.config=e.map(Xh),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}},{key:"createUrlTree",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.relativeTo,r=t.queryParams,a=t.fragment,i=t.queryParamsHandling,o=t.preserveFragment,s=n||this.routerState.root,u=o?this.currentUrlTree.fragment:a,c=null;switch(i){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(e,t,n,r,a){if(0===n.length)return Sh(t.root,t.root,t,r,a);var i=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Ih(!0,0,e);var t=0,n=!1,r=e.reduce(function(e,r,a){if("object"==typeof r&&null!=r){if(r.outlets){var i={};return Mf(r.outlets,function(e,t){i[t]="string"==typeof e?e.split("/"):e}),[].concat(_toConsumableArray(e),[{outlets:i}])}if(r.segmentPath)return[].concat(_toConsumableArray(e),[r.segmentPath])}return"string"!=typeof r?[].concat(_toConsumableArray(e),[r]):0===a?(r.split("/").forEach(function(r,a){0==a&&"."===r||(0==a&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[].concat(_toConsumableArray(e),[r])},[]);return new Ih(n,t,r)}(n);if(i.toRoot())return Sh(t.root,new Hf([],{}),t,r,a);var o=function(e,t,n){if(e.isAbsolute)return new Ah(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){var r=n.snapshot._urlSegment;return new Ah(r,r===t.root,0)}var a=Th(e.commands[0])?0:1;return function(e,t,n){for(var r=e,a=t,i=n;i>a;){if(i-=a,!(r=r.parent))throw new Error("Invalid number of '../'");a=r.segments.length}return new Ah(r,!1,a-i)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+a,e.numberOfDoubleDots)}(i,t,e),s=o.processChildren?Oh(o.segmentGroup,o.index,i.commands):Rh(o.segmentGroup,o.index,i.commands);return Sh(o.segmentGroup,s,t,r,a)}(s,this.currentUrlTree,e,c,null!=u?u:null)}},{key:"navigateByUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},n=Uh(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(t))}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(e){var t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}},{key:"isActive",value:function(e,t){var n;if(n=!0===t?Object.assign({},Md):!1===t?Object.assign({},Dd):t,Uh(e))return Bf(this.currentUrlTree,e,n);var r=this.parseUrl(e);return Bf(this.currentUrlTree,r,n)}},{key:"removeEmptyProps",value:function(e){return Object.keys(e).reduce(function(t,n){var r=e[n];return null!=r&&(t[n]=r),t},{})}},{key:"processNavigations",value:function(){var e=this;this.navigations.subscribe(function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.events.next(new lf(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,t.resolve(!0)},function(t){e.console.warn("Unhandled Navigation Error: ")})}},{key:"scheduleNavigation",value:function(e,t,n,r,a){if(this.disposed)return Promise.resolve(!1);var i,o,s,u=this.getTransition(),c="imperative"!==t&&"imperative"===(null==u?void 0:u.source),l=(this.lastSuccessfulId===u.id||this.currentNavigation?u.rawUrl:u.urlAfterRedirects).toString()===e.toString();if(c&&l)return Promise.resolve(!0);a?(i=a.resolve,o=a.reject,s=a.promise):s=new Promise(function(e,t){i=e,o=t});var f=++this.navigationId;return this.setTransition({id:f,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:i,reject:o,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch(function(e){return Promise.reject(e)})}},{key:"setBrowserUrl",value:function(e,t,n,r){var a=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(a)||t?this.location.replaceState(a,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(a,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Gn(Dn),Gn(qf),Gn(Id),Gn($u),Gn(Di),Gn(Eu),Gn(nu),Gn(void 0))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e}(),Nd=function(){var e=function(){function e(t,n,r,a,i){_classCallCheck(this,e),this.router=t,this.route=n,this.commands=[],this.onChanges=new T,null==r&&a.setAttribute(i.nativeElement,"tabindex","0")}return _createClass(e,[{key:"ngOnChanges",value:function(e){this.onChanges.next(this)}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"onClick",value:function(){var e={skipLocationChange:Fd(this.skipLocationChange),replaceUrl:Fd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Fd(this.preserveFragment)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Wi(Ld),Wi(ph),Rn("tabindex"),Wi(So),Wi(Co))},e.\u0275dir=Ge({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&Ji("click",function(){return t.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[at]}),e}(),Bd=function(){var e=function(){function e(t,n,r){var a=this;_classCallCheck(this,e),this.router=t,this.route=n,this.locationStrategy=r,this.commands=[],this.onChanges=new T,this.subscription=t.events.subscribe(function(e){e instanceof lf&&a.updateTargetUrlAndHref()})}return _createClass(e,[{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"ngOnChanges",value:function(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(e,t,n,r,a){if(0!==e||t||n||r||a)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:Fd(this.skipLocationChange),replaceUrl:Fd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Fd(this.preserveFragment)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Wi(Ld),Wi(ph),Wi(Xu))},e.\u0275dir=Ge({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&Ji("click",function(e){return t.onClick(e.button,e.ctrlKey,e.shiftKey,e.altKey,e.metaKey)}),2&e&&(co("href",t.href,Nr),Hi("target",t.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[at]}),e}();function Fd(e){return""===e||!!e}var zd=function(){var e=function(){function e(t,n,r,a,i,o){var s=this;_classCallCheck(this,e),this.router=t,this.element=n,this.renderer=r,this.cdr=a,this.link=i,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(function(e){e instanceof lf&&s.update()})}return _createClass(e,[{key:"ngAfterContentInit",value:function(){var e=this;pl(this.links.changes,this.linksWithHrefs.changes,pl(null)).pipe(V()).subscribe(function(t){e.update(),e.subscribeToEachLinkOnChanges()})}},{key:"subscribeToEachLinkOnChanges",value:function(){var e,t=this;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();var n=[].concat(_toConsumableArray(this.links.toArray()),_toConsumableArray(this.linksWithHrefs.toArray()),[this.link,this.linkWithHref]).filter(function(e){return!!e}).map(function(e){return e.onChanges});this.linkInputChangesSubscription=N(n).pipe(V()).subscribe(function(e){t.isActive!==t.isLinkActive(t.router)(e)&&t.update()})}},{key:"routerLinkActive",set:function(e){var t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter(function(e){return!!e})}},{key:"ngOnChanges",value:function(e){this.update()}},{key:"ngOnDestroy",value:function(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}},{key:"update",value:function(){var e=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(function(){var t=e.hasActiveLinks();e.isActive!==t&&(e.isActive=t,e.cdr.markForCheck(),e.classes.forEach(function(n){t?e.renderer.addClass(e.element.nativeElement,n):e.renderer.removeClass(e.element.nativeElement,n)}))})}},{key:"isLinkActive",value:function(e){var t="paths"in this.routerLinkActiveOptions?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return function(n){return e.isActive(n.urlTree,t)}}},{key:"hasActiveLinks",value:function(){var e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Wi(Ld),Wi(Co),Wi(So),Wi(Zo),Wi(Nd,8),Wi(Bd,8))},e.\u0275dir=Ge({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(e,t,n){var r;(1&e&&(Ls(n,Nd,5),Ls(n,Bd,5)),2&e)&&(Ds(r=Ns())&&(t.links=r),Ds(r=Ns())&&(t.linksWithHrefs=r))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[at]}),e}(),Ud=function(){var e=function(){function e(t,n,r,a,i){_classCallCheck(this,e),this.parentContexts=t,this.location=n,this.resolver=r,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new ws,this.deactivateEvents=new ws,this.name=a||"primary",t.onChildOutletCreated(this.name,this)}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,a=new jd(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,a),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Wi(Id),Wi(is),Wi(bo),Rn("name"),Wi(Zo))},e.\u0275dir=Ge({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e}(),jd=function(){function e(t,n,r){_classCallCheck(this,e),this.route=t,this.childContexts=n,this.parent=r}return _createClass(e,[{key:"get",value:function(e,t){return e===ph?this.route:e===Id?this.childContexts:this.parent.get(e,t)}}]),e}(),Hd=function e(){_classCallCheck(this,e)},Vd=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return pl(null)}}]),e}(),Wd=function(){var e=function(){function e(t,n,r,a,i){_classCallCheck(this,e),this.router=t,this.injector=a,this.preloadingStrategy=i,this.loader=new Sd(n,r,function(e){return t.triggerEvent(new yf(e))},function(e){return t.triggerEvent(new bf(e))})}return _createClass(e,[{key:"setUpPreloading",value:function(){var e=this;this.subscription=this.router.events.pipe(Bl(function(e){return e instanceof lf}),Vl(function(){return e.preload()})).subscribe(function(){})}},{key:"preload",value:function(){var e=this.injector.get(ns);return this.processRoutes(e,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(e,t){var n,r=[],a=_createForOfIteratorHelper(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(i.loadChildren&&!i.canLoad&&i._loadedConfig){var o=i._loadedConfig;r.push(this.processRoutes(o.module,o.routes))}else i.loadChildren&&!i.canLoad?r.push(this.preloadConfig(e,i)):i.children&&r.push(this.processRoutes(e,i.children))}}catch(s){a.e(s)}finally{a.f()}return N(r).pipe(V(),E(function(e){}))}},{key:"preloadConfig",value:function(e,t){var n=this;return this.preloadingStrategy.preload(t,function(){return(t._loadedConfig?pl(t._loadedConfig):n.loader.load(e.injector,t)).pipe(U(function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)}))})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Gn(Ld),Gn(Eu),Gn(nu),Gn(Di),Gn(Hd))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e}(),qd=function(){var e=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,e),this.router=t,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return _createClass(e,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var e=this;return this.router.events.subscribe(function(t){t instanceof cf?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof lf&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))})}},{key:"consumeScrollEvents",value:function(){var e=this;return this.router.events.subscribe(function(t){t instanceof Tf&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))})}},{key:"scheduleScrollEvent",value:function(e,t){this.router.triggerEvent(new Tf(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Gn(Ld),Gn(pc),Gn(void 0))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e}(),Gd=new Pn("ROUTER_CONFIGURATION"),Xd=new Pn("ROUTER_FORROOT_GUARD"),Zd=[$u,{provide:qf,useClass:Gf},{provide:Ld,useFactory:function(e,t,n,r,a,i,o){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,l=new Ld(null,e,t,n,r,a,i,Of(o));return u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(s,l),s.enableTracing&&l.events.subscribe(function(e){var t,n;null===(t=console.group)||void 0===t||t.call(console,"Router Event: ".concat(e.constructor.name)),console.log(e.toString()),console.log(e),null===(n=console.groupEnd)||void 0===n||n.call(console)}),l},deps:[qf,Id,$u,Di,Eu,nu,xd,Gd,[function(){return function e(){_classCallCheck(this,e)}}(),new $n],[function(){return function e(){_classCallCheck(this,e)}}(),new $n]]},Id,{provide:ph,useFactory:function(e){return e.routerState.root},deps:[Ld]},{provide:Eu,useClass:Ru},Wd,Vd,function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return t().pipe(Ul(function(){return pl(null)}))}}]),e}(),{provide:Gd,useValue:{enableTracing:!1}}];function Yd(){return new bu("Router",Ld)}var Kd=function(){var e=function(){function e(t,n){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(t,n){return{ngModule:e,providers:[Zd,ep(t),{provide:Xd,useFactory:Jd,deps:[[Ld,new $n,new Jn]]},{provide:Gd,useValue:n||{}},{provide:Xu,useFactory:$d,deps:[Fu,[new Qn(Yu),new $n],Gd]},{provide:qd,useFactory:Qd,deps:[Ld,pc,Gd]},{provide:Hd,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Vd},{provide:bu,multi:!0,useFactory:Yd},[tp,{provide:Fs,multi:!0,useFactory:np,deps:[tp]},{provide:ap,useFactory:rp,deps:[tp]},{provide:qs,multi:!0,useExisting:ap}]]}}},{key:"forChild",value:function(t){return{ngModule:e,providers:[ep(t)]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Gn(Xd,8),Gn(Ld,8))},e.\u0275mod=We({type:e}),e.\u0275inj=le({}),e}();function Qd(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new qd(e,t,n)}function $d(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new Qu(e,t):new Ku(e,t)}function Jd(e){return"guarded"}function ep(e){return[{provide:Mn,multi:!0,useValue:e},{provide:xd,multi:!0,useValue:e}]}var tp=function(){var e=function(){function e(t){_classCallCheck(this,e),this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new T}return _createClass(e,[{key:"appInitializer",value:function(){var e=this;return this.injector.get(Uu,Promise.resolve(null)).then(function(){var t=null,n=new Promise(function(e){return t=e}),r=e.injector.get(Ld),a=e.injector.get(Gd);return"disabled"===a.initialNavigation?(r.setUpLocationChangeListener(),t(!0)):"enabled"===a.initialNavigation||"enabledBlocking"===a.initialNavigation?(r.hooks.afterPreactivation=function(){return e.initNavigation?pl(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},r.initialNavigation()):t(!0),n})}},{key:"bootstrapListener",value:function(e){var t=this.injector.get(Gd),n=this.injector.get(Wd),r=this.injector.get(qd),a=this.injector.get(Ld),i=this.injector.get(xu);e===i.components[0]&&("enabledNonBlocking"!==t.initialNavigation&&void 0!==t.initialNavigation||a.initialNavigation(),n.setUpPreloading(),r.init(),a.resetRootComponentType(i.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Gn(Di))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e}();function np(e){return e.appInitializer.bind(e)}function rp(e){return e.bootstrapListener.bind(e)}var ap=new Pn("Router Initializer");function ip(e){return(ip="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function op(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){op(e,t,n[t])})}return e}function up(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){a=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var cp={},lp={};try{"undefined"!=typeof window&&(cp=window),"undefined"!=typeof document&&(lp=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&performance}catch(pg){}var fp=(cp.navigator||{}).userAgent,hp=void 0===fp?"":fp,dp=cp,pp=lp,mp=!!pp.documentElement&&!!pp.head&&"function"==typeof pp.addEventListener&&"function"==typeof pp.createElement,vp=(~hp.indexOf("MSIE")||hp.indexOf("Trident/"),[1,2,3,4,5,6,7,8,9,10]),gp=vp.concat([11,12,13,14,15,16,17,18,19,20]),yp={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},bp=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",yp.GROUP,yp.SWAP_OPACITY,yp.PRIMARY,yp.SECONDARY].concat(vp.map(function(e){return"".concat(e,"x")})).concat(gp.map(function(e){return"w-".concat(e)})),dp.FontAwesomeConfig||{});pp&&"function"==typeof pp.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(e){var t=up(e,2),n=t[1],r=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=pp.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(t[0]));null!=r&&(bp[n]=r)});var kp=sp({},{familyPrefix:"fa",replacementClass:"svg-inline--fa",autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},bp);kp.autoReplaceSvg||(kp.observeMutations=!1);var _p=sp({},kp);dp.FontAwesomeConfig=_p;var wp=dp||{};wp.___FONT_AWESOME___||(wp.___FONT_AWESOME___={}),wp.___FONT_AWESOME___.styles||(wp.___FONT_AWESOME___.styles={}),wp.___FONT_AWESOME___.hooks||(wp.___FONT_AWESOME___.hooks={}),wp.___FONT_AWESOME___.shims||(wp.___FONT_AWESOME___.shims=[]);var Cp=wp.___FONT_AWESOME___,Tp=[];mp&&((pp.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(pp.readyState)||pp.addEventListener("DOMContentLoaded",function e(){pp.removeEventListener("DOMContentLoaded",e),Tp.map(function(e){return e()})}));var xp,Sp=function(){},Ep="undefined"!=typeof global&&void 0!==global.process&&"function"==typeof global.process.emit,Ip="undefined"==typeof setImmediate?setTimeout:setImmediate,Ap=[];function Rp(){for(var e=0;e<Ap.length;e++)Ap[e][0](Ap[e][1]);Ap=[],xp=!1}function Op(e,t){Ap.push([e,t]),xp||(xp=!0,Ip(Rp,0))}function Pp(e){var t=e.owner,n=t._state,r=t._data,a=e[n],i=e.then;if("function"==typeof a){n="fulfilled";try{r=a(r)}catch(pg){Np(i,pg)}}Mp(i,r)||("fulfilled"===n&&Dp(i,r),"rejected"===n&&Np(i,r))}function Mp(e,t){var n;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"==typeof t||"object"===ip(t))){var r=t.then;if("function"==typeof r)return r.call(t,function(r){n||(n=!0,t===r?Lp(e,r):Dp(e,r))},function(t){n||(n=!0,Np(e,t))}),!0}}catch(pg){return n||Np(e,pg),!0}return!1}function Dp(e,t){e!==t&&Mp(e,t)||Lp(e,t)}function Lp(e,t){"pending"===e._state&&(e._state="settled",e._data=t,Op(Fp,e))}function Np(e,t){"pending"===e._state&&(e._state="settled",e._data=t,Op(zp,e))}function Bp(e){e._then=e._then.forEach(Pp)}function Fp(e){e._state="fulfilled",Bp(e)}function zp(e){e._state="rejected",Bp(e),!e._handled&&Ep&&global.process.emit("unhandledRejection",e._data,e)}function Up(e){global.process.emit("rejectionHandled",e)}function jp(e){if("function"!=typeof e)throw new TypeError("Promise resolver "+e+" is not a function");if(this instanceof jp==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(e,t){function n(e){Np(t,e)}try{e(function(e){Dp(t,e)},n)}catch(pg){n(pg)}}(e,this)}jp.prototype={constructor:jp,_state:"pending",_then:null,_data:void 0,_handled:!1,then:function(e,t){var n={owner:this,then:new this.constructor(Sp),fulfilled:e,rejected:t};return!t&&!e||this._handled||(this._handled=!0,"rejected"===this._state&&Ep&&Op(Up,this)),"fulfilled"===this._state||"rejected"===this._state?Op(Pp,n):this._then.push(n),n.then},catch:function(e){return this.then(null,e)}},jp.all=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.all().");return new jp(function(t,n){var r=[],a=0;function i(e){return a++,function(n){r[e]=n,--a||t(r)}}for(var o,s=0;s<e.length;s++)(o=e[s])&&"function"==typeof o.then?o.then(i(s),n):r[s]=o;a||t(r)})},jp.race=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.race().");return new jp(function(t,n){for(var r,a=0;a<e.length;a++)(r=e[a])&&"function"==typeof r.then?r.then(t,n):t(r)})},jp.resolve=function(e){return e&&"object"===ip(e)&&e.constructor===jp?e:new jp(function(t){t(e)})},jp.reject=function(e){return new jp(function(t,n){n(e)})};var Hp={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Vp(){for(var e=12,t="";e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function Wp(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function qp(e){return Object.keys(e||{}).reduce(function(t,n){return t+"".concat(n,": ").concat(e[n],";")},"")}function Gp(e){return e.size!==Hp.size||e.x!==Hp.x||e.y!==Hp.y||e.rotate!==Hp.rotate||e.flipX||e.flipY}function Xp(e){var t=e.transform,n=e.iconWidth,r={transform:"translate(".concat(e.containerWidth/2," 256)")},a="translate(".concat(32*t.x,", ").concat(32*t.y,") "),i="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),o="rotate(".concat(t.rotate," 0 0)");return{outer:r,inner:{transform:"".concat(a," ").concat(i," ").concat(o)},path:{transform:"translate(".concat(n/2*-1," -256)")}}}var Zp={x:0,y:0,width:"100%",height:"100%"};function Yp(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function Kp(e){var t=e.icons,n=t.main,r=t.mask,a=e.prefix,i=e.iconName,o=e.transform,s=e.symbol,u=e.title,c=e.maskId,l=e.titleId,f=e.extra,h=e.watchable,d=void 0!==h&&h,p=r.found?r:n,m=p.width,v=p.height,g="fak"===a,y=g?"":"fa-w-".concat(Math.ceil(m/v*16)),b=[_p.replacementClass,i?"".concat(_p.familyPrefix,"-").concat(i):"",y].filter(function(e){return-1===f.classes.indexOf(e)}).filter(function(e){return""!==e||!!e}).concat(f.classes).join(" "),k={children:[],attributes:sp({},f.attributes,{"data-prefix":a,"data-icon":i,class:b,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(v)})},_=g&&!~f.classes.indexOf("fa-fw")?{width:"".concat(m/v*16*.0625,"em")}:{};d&&(k.attributes["data-fa-i2svg"]=""),u&&k.children.push({tag:"title",attributes:{id:k.attributes["aria-labelledby"]||"title-".concat(l||Vp())},children:[u]});var w=sp({},k,{prefix:a,iconName:i,main:n,mask:r,maskId:c,transform:o,symbol:s,styles:sp({},_,f.styles)}),C=r.found&&n.found?function(e){var t,n=e.children,r=e.attributes,a=e.main,i=e.mask,o=e.maskId,s=a.icon,u=i.icon,c=Xp({transform:e.transform,containerWidth:i.width,iconWidth:a.width}),l={tag:"rect",attributes:sp({},Zp,{fill:"white"})},f=s.children?{children:s.children.map(Yp)}:{},h={tag:"g",attributes:sp({},c.inner),children:[Yp(sp({tag:s.tag,attributes:sp({},s.attributes,c.path)},f))]},d={tag:"g",attributes:sp({},c.outer),children:[h]},p="mask-".concat(o||Vp()),m="clip-".concat(o||Vp()),v={tag:"mask",attributes:sp({},Zp,{id:p,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[l,d]},g={tag:"defs",children:[{tag:"clipPath",attributes:{id:m},children:(t=u,"g"===t.tag?t.children:[t])},v]};return n.push(g,{tag:"rect",attributes:sp({fill:"currentColor","clip-path":"url(#".concat(m,")"),mask:"url(#".concat(p,")")},Zp)}),{children:n,attributes:r}}(w):function(e){var t=e.children,n=e.attributes,r=e.main,a=e.transform,i=qp(e.styles);if(i.length>0&&(n.style=i),Gp(a)){var o=Xp({transform:a,containerWidth:r.width,iconWidth:r.width});t.push({tag:"g",attributes:sp({},o.outer),children:[{tag:"g",attributes:sp({},o.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:sp({},r.icon.attributes,o.path)}]}]})}else t.push(r.icon);return{children:t,attributes:n}}(w),T=C.attributes;return w.children=C.children,w.attributes=T,s?function(e){var t=e.iconName,n=e.children,r=e.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:sp({},e.attributes,{id:!0===r?"".concat(e.prefix,"-").concat(_p.familyPrefix,"-").concat(t):r}),children:n}]}]}(w):function(e){var t=e.children,n=e.main,r=e.mask,a=e.attributes,i=e.styles,o=e.transform;if(Gp(o)&&n.found&&!r.found){var s={x:n.width/n.height/2,y:.5};a.style=qp(sp({},i,{"transform-origin":"".concat(s.x+o.x/16,"em ").concat(s.y+o.y/16,"em")}))}return[{tag:"svg",attributes:a,children:t}]}(w)}var Qp=function(e,t,n,r){var a,i,o,s=Object.keys(e),u=s.length,c=void 0!==r?function(e,t){return function(n,r,a,i){return e.call(t,n,r,a,i)}}(t,r):t;for(void 0===n?(a=1,o=e[s[0]]):(a=0,o=n);a<u;a++)o=c(o,e[i=s[a]],i,e);return o};function $p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipHooks,a=void 0!==r&&r,i=Object.keys(t).reduce(function(e,n){var r=t[n];return r.icon?e[r.iconName]=r.icon:e[n]=r,e},{});"function"!=typeof Cp.hooks.addPack||a?Cp.styles[e]=sp({},Cp.styles[e]||{},i):Cp.hooks.addPack(e,i),"fas"===e&&$p("fa",t)}var Jp=Cp.styles,em=Cp.shims,tm=function(){var e=function(e){return Qp(Jp,function(t,n,r){return t[r]=Qp(n,e,{}),t},{})};e(function(e,t,n){return t[3]&&(e[t[3]]=n),e}),e(function(e,t,n){var r=t[2];return e[n]=n,r.forEach(function(t){e[t]=n}),e});var t="far"in Jp;Qp(em,function(e,n){var r=n[1];return"far"!==r||t||(r="fas"),e[n[0]]={prefix:r,iconName:n[2]},e},{})};function nm(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}function rm(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,a=e.children,i=void 0===a?[]:a;return"string"==typeof e?Wp(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce(function(t,n){return t+"".concat(n,'="').concat(Wp(e[n]),'" ')},"").trim()}(r),">").concat(i.map(rm).join(""),"</").concat(t,">")}function am(e){this.name="MissingIcon",this.message=e||"Icon unavailable",this.stack=(new Error).stack}tm(),(am.prototype=Object.create(Error.prototype)).constructor=am;var im={fill:"currentColor"},om={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},sm=(sp({},im,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),sp({},om,{attributeName:"opacity"}));function um(e){var t=e[0],n=e[1],r=up(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(_p.familyPrefix,"-").concat(yp.GROUP)},children:[{tag:"path",attributes:{class:"".concat(_p.familyPrefix,"-").concat(yp.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(_p.familyPrefix,"-").concat(yp.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}function cm(){_p.autoAddCss&&!pm&&(function(e){if(e&&mp){var t=pp.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=pp.head.childNodes,r=null,a=n.length-1;a>-1;a--){var i=n[a],o=(i.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=i)}pp.head.insertBefore(t,r)}}(function(){var e="svg-inline--fa",t=_p.familyPrefix,n=_p.replacementClass,r='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if("fa"!==t||n!==e){var a=new RegExp("\\.".concat("fa","\\-"),"g"),i=new RegExp("\\--".concat("fa","\\-"),"g"),o=new RegExp("\\.".concat(e),"g");r=r.replace(a,".".concat(t,"-")).replace(i,"--".concat(t,"-")).replace(o,".".concat(n))}return r}()),pm=!0)}function lm(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(function(e){return rm(e)})}}),Object.defineProperty(e,"node",{get:function(){if(mp){var t=pp.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function fm(e){var t=e.prefix,n=void 0===t?"fa":t,r=e.iconName;if(r)return nm(dm.definitions,n,r)||nm(Cp.styles,n,r)}sp({},im,{cx:"256",cy:"364",r:"28"}),sp({},om,{attributeName:"r",values:"28;14;28;28;14;28;"}),sp({},sm,{values:"1;0;1;1;0;1;"}),sp({},im,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),sp({},sm,{values:"1;0;0;0;0;1;"}),sp({},im,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),sp({},sm,{values:"0;0;1;1;0;0;"});var hm,dm=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t;return(t=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n.reduce(this._pullDefinitions,{});Object.keys(a).forEach(function(t){e.definitions[t]=sp({},e.definitions[t]||{},a[t]),$p(t,a[t]),tm()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map(function(t){var r=n[t],a=r.prefix,i=r.iconName,o=r.icon;e[a]||(e[a]={}),e[a][i]=o}),e}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}()),pm=!1,mm=(hm=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?Hp:n,a=t.symbol,i=void 0!==a&&a,o=t.mask,s=void 0===o?null:o,u=t.maskId,c=void 0===u?null:u,l=t.title,f=void 0===l?null:l,h=t.titleId,d=void 0===h?null:h,p=t.classes,m=void 0===p?[]:p,v=t.attributes,g=void 0===v?{}:v,y=t.styles,b=void 0===y?{}:y;if(e){var k=e.prefix,_=e.iconName,w=e.icon;return lm(sp({type:"icon"},e),function(){return cm(),_p.autoA11y&&(f?g["aria-labelledby"]="".concat(_p.replacementClass,"-title-").concat(d||Vp()):(g["aria-hidden"]="true",g.focusable="false")),Kp({icons:{main:um(w),mask:s?um(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:k,iconName:_,transform:sp({},Hp,r),symbol:i,title:f,maskId:c,titleId:d,extra:{attributes:g,styles:b,classes:m}})})}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(e||{}).icon?e:fm(e||{}),r=t.mask;return r&&(r=(r||{}).icon?r:fm(r||{})),hm(n,sp({},t,{mask:r}))}),vm=["*"],gm=function(){var e=function e(){_classCallCheck(this,e),this.defaultPrefix="fas",this.fallbackIcon=null,this.globalLibrary=!1};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({factory:function(){return new e},token:e,providedIn:"root"}),e}(),ym=function(){var e=function(){function e(){_classCallCheck(this,e),this.definitions={}}return _createClass(e,[{key:"addIcons",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,a=t;r<a.length;r++){var i=a[r];i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i}}},{key:"addIconPacks",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var a=function(){var t=o[i],n=Object.keys(t).map(function(e){return t[e]});e.addIcons.apply(e,_toConsumableArray(n))},i=0,o=n;i<o.length;i++)a()}},{key:"getIconDefinition",value:function(e,t){return e in this.definitions&&t in this.definitions[e]?this.definitions[e][t]:null}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({factory:function(){return new e},token:e,providedIn:"root"}),e}(),bm=function(){var e=function(){function e(){_classCallCheck(this,e),this.stackItemSize="1x"}return _createClass(e,[{key:"ngOnChanges",value:function(e){if("size"in e)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=Ge({type:e,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[at]}),e}(),km=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.renderer=t,this.elementRef=n}return _createClass(e,[{key:"ngOnInit",value:function(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}},{key:"ngOnChanges",value:function(e){"size"in e&&(null!=e.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,"fa-".concat(e.size.currentValue)),null!=e.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,"fa-".concat(e.size.previousValue)))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Wi(So),Wi(Co))},e.\u0275cmp=Ue({type:e,selectors:[["fa-stack"]],inputs:{size:"size"},features:[at],ngContentSelectors:vm,decls:1,vars:0,template:function(e,t){1&e&&(ao(),io(0))},encapsulation:2}),e}(),_m=function(){var e=function(){function e(t,n,r,a,i){_classCallCheck(this,e),this.sanitizer=t,this.config=n,this.iconLibrary=r,this.stackItem=a,this.classes=[],null!=i&&null==a&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}return _createClass(e,[{key:"ngOnChanges",value:function(e){if(null==this.icon&&null==this.config.fallbackIcon)return function(){throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")}();var t;if(t=null==this.icon?this.config.fallbackIcon:this.icon,e){var n=this.findIconDefinition(t);if(null!=n){var r=this.buildParams();this.renderIcon(n,r)}}}},{key:"render",value:function(){this.ngOnChanges({})}},{key:"findIconDefinition",value:function(e){var t=function(e,t){return void 0!==(n=e).prefix&&void 0!==n.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"==typeof e?{prefix:t,iconName:e}:void 0;var n}(e,this.config.defaultPrefix);if("icon"in t)return t;var n=this.iconLibrary.getIconDefinition(t.prefix,t.iconName);if(null!=n)return n;var r=fm(t);if(null!=r){var a="Global icon library is deprecated. Consult https://github.com/FortAwesome/angular-fontawesome/blob/master/UPGRADING.md for the migration instructions.";if("unset"===this.config.globalLibrary)console.error("FontAwesome: "+a);else if(!this.config.globalLibrary)throw new Error(a);return r}return function(e){throw new Error("Could not find icon with iconName=".concat(e.iconName," and prefix=").concat(e.prefix," in the icon library."))}(t),null}},{key:"buildParams",value:function(){var e,t,n,r,a,i={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},o="string"==typeof this.transform?(e=this.transform,t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0},e?e.toLowerCase().split(" ").reduce(function(e,t){var n=t.toLowerCase().split("-"),r=n[0],a=n.slice(1).join("-");if(r&&"h"===a)return e.flipX=!0,e;if(r&&"v"===a)return e.flipY=!0,e;if(a=parseFloat(a),isNaN(a))return e;switch(r){case"grow":e.size=e.size+a;break;case"shrink":e.size=e.size-a;break;case"left":e.x=e.x-a;break;case"right":e.x=e.x+a;break;case"up":e.y=e.y-a;break;case"down":e.y=e.y+a;break;case"rotate":e.rotate=e.rotate+a}return e},t):t):this.transform;return{title:this.title,transform:o,classes:[].concat(_toConsumableArray((n=i,_defineProperty2(r={"fa-spin":n.spin,"fa-pulse":n.pulse,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":"horizontal"===n.flip||"both"===n.flip,"fa-flip-vertical":"vertical"===n.flip||"both"===n.flip},"fa-".concat(n.size),null!==n.size),_defineProperty2(r,"fa-rotate-".concat(n.rotate),null!==n.rotate),_defineProperty2(r,"fa-pull-".concat(n.pull),null!==n.pull),_defineProperty2(r,"fa-stack-".concat(n.stackItemSize),null!=n.stackItemSize),a=r,Object.keys(a).map(function(e){return a[e]?e:null}).filter(function(e){return e}))),_toConsumableArray(this.classes)),mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}},{key:"renderIcon",value:function(e,t){var n=mm(e,t);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(n.html.join("\n"))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Wi(qc),Wi(gm),Wi(ym),Wi(bm,8),Wi(km,8))},e.\u0275cmp=Ue({type:e,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(e,t){2&e&&(co("innerHTML",t.renderedIconHTML,Lr),Hi("title",t.title))},inputs:{classes:"classes",icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",transform:"transform",a11yRole:"a11yRole"},features:[at],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e}(),wm=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=We({type:e}),e.\u0275inj=le({}),e}(),Cm=function(){var e=function(){function e(){_classCallCheck(this,e),this.playIcon=rl,this.albumIcon=$c,this.artistIcon=fl,this.catalogIcon=Qc}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ue({type:e,selectors:[["app-navigation"]],decls:13,vars:4,consts:[[1,"nav-container"],[1,"title-bar"],[3,"icon"],[1,"nav-menu"],["title","Albums","routerLink","albums/list","routerLinkActive","active",1,"luna-btn","text-white"],["title","Artists","routerLink","artists/list","routerLinkActive","active",1,"luna-btn","text-white"],["title","Catalog","routerLink","catalog/songs","routerLinkActive","active",1,"luna-btn","text-white"]],template:function(e,t){1&e&&(Xi(0,"div",0),Xi(1,"div",1),Xi(2,"h1"),oo(3," Luna "),Yi(4,"fa-icon",2),oo(5," Player "),Zi(),Zi(),Xi(6,"div",3),Xi(7,"div",4),Yi(8,"fa-icon",2),Zi(),Xi(9,"div",5),Yi(10,"fa-icon",2),Zi(),Xi(11,"div",6),Yi(12,"fa-icon",2),Zi(),Zi(),Zi()),2&e&&(Pa(4),qi("icon",t.playIcon),Pa(4),qi("icon",t.albumIcon),Pa(2),qi("icon",t.artistIcon),Pa(2),qi("icon",t.catalogIcon))},directives:[_m,Nd,zd],styles:[".nav-container[_ngcontent-%COMP%]{background:var(--luna-bg-dark);padding:2px;margin:0}.title-bar[_ngcontent-%COMP%]{display:flex;flex-direction:row;background:var(--luna-blue-1);font-family:ReggaeOne,monospace}.title-bar[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{flex-grow:1;text-align:center;margin:8px 2px}.nav-menu[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;align-items:center}.nav-menu[_ngcontent-%COMP%] > .luna-btn[_ngcontent-%COMP%]{flex-grow:1;text-align:center;font-size:2em}.app-loading[_ngcontent-%COMP%]{background:var(--luna-bg-dark);position:relative;height:8px}.app-loading-inner[_ngcontent-%COMP%]{position:absolute;height:100%;background:var(--luna-blue-3)}"]}),e}(),Tm=function(e){return e[e.DESKTOP=0]="DESKTOP",e[e.ANDROID=1]="ANDROID",e}({});function xm(){return-1!==navigator.userAgent.indexOf("Android")?Tm.ANDROID:Tm.DESKTOP}var Sm=function(){function e(t,n,r,a,i,o,s){_classCallCheck(this,e),this._id=t,this.location=n,this.title=r,this.trackNo=a,this.album=i,this.artist=o,this.duration=s}return _createClass(e,null,[{key:"empty",value:function(){return new e("","","",new Om(-1),"","",0)}}]),e}(),Em=function(e){return e[e.ALBUM=0]="ALBUM",e[e.ARTIST=1]="ARTIST",e[e.SINGLE=2]="SINGLE",e}({}),Im=function e(t,n,r){_classCallCheck(this,e),this.id=t,this.reqType=n,this.parentId=r},Am=function e(t,n){_classCallCheck(this,e),this.song=t,this.addedBy=n},Rm=function(e){return e[e.USER=0]="USER",e[e.RECOMMENDED=1]="RECOMMENDED",e}({}),Om=function(){function e(t,n){_classCallCheck(this,e),this.no=t||-1,this.of=n||-1}return _createClass(e,null,[{key:"fromTags",value:function(t){return new e(t.track.no,t.track.of)}}]),e}(),Pm=function(){function e(t,n,r){_classCallCheck(this,e),this._id=t,this.name=n,this.songs=r}return _createClass(e,null,[{key:"fromTags",value:function(t){return new e("0",t.album||"Unknown",[])}}]),e}(),Mm=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,null,[{key:"fromTags",value:function(e){return new n("0",e.artist||"Unknown",[])}}]),n}(Pm),Dm=function(){var e=function(){function e(t){_classCallCheck(this,e),this.library=t,this.playerEE=new ws,this.queueEE=new ws,this.currentIdx=-1,this.queue=[]}return _createClass(e,[{key:"play",value:function(e,t){var n=this;this.library.getSong(e.id).subscribe(function(t){switch(t&&(e.reqType!==Em.SINGLE&&(n.queue.length=0),n.queue.splice(0,1,new Am(t,Rm.USER)),n.currentIdx=0),n.playerEE.emit(t),e.reqType){case Em.ALBUM:e.parentId&&n.library.getAlbum(e.parentId).subscribe(function(t){t&&n.setRecommendations(t,e.id)});break;case Em.ARTIST:e.parentId&&n.library.getArtist(e.parentId).subscribe(function(t){t&&n.setRecommendations(t,e.id)})}})}},{key:"skipTo",value:function(e){this.currentIdx<this.queue.length-1&&(this.currentIdx=e,this.queueEE.emit(e))}},{key:"addToQueue",value:function(e){var t=this;e.reqType===Em.SINGLE?this.library.getSong(e.id).subscribe(function(e){e&&t.queue.splice(t.currentIdx+1,0,new Am(e,Rm.USER))}):console.error("ENQUEUE METHOD FOR ".concat(e.reqType.toString()," NOT IMPLEMENTED"))}},{key:"getCurrent",value:function(){var e=this.queue[this.currentIdx];if(e)return e.song}},{key:"getPrevious",value:function(){var e,t=this.currentIdx-1;return t>-1&&(e=this.queue[t].song),e&&(this.currentIdx=t,this.queueEE.emit(t)),e}},{key:"getNext",value:function(){var e,t=this.currentIdx+1;return t<this.queue.length&&(e=this.queue[t].song),e&&(this.currentIdx=t,this.queueEE.emit(t)),e}},{key:"clearQueue",value:function(){this.queue.length=0,this.playerEE.emit()}},{key:"setRecommendations",value:function(e,t){var n,r=e.songs.findIndex(function(e){return e._id===t}),a=e.songs.slice(r+1).map(function(e){return new Am(e,Rm.RECOMMENDED)});(n=this.queue).push.apply(n,_toConsumableArray(a))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Gn("LibraryService"))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e}(),Lm=function(e){return{"icon-btn":e}},Nm=["*"],Bm=function(){var e=function e(){_classCallCheck(this,e),this.btnType=Fm.DEFAULT};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ue({type:e,selectors:[["luna-btn"]],inputs:{btnType:"btnType"},ngContentSelectors:Nm,decls:2,vars:3,consts:[[1,"luna-btn",3,"ngClass"]],template:function(e,t){1&e&&(ao(),Xi(0,"div",0),io(1),Zi()),2&e&&qi("ngClass",bs(1,Lm,"icon"===t.btnType))},directives:[ic],styles:[".luna-btn[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin:2px 6px;padding:6px 15px;transition:.3s;border-radius:10px;border-radius:15px;cursor:pointer}.luna-btn[_ngcontent-%COMP%]:hover{background-color:var(--luna-panel-bg);border-color:var(--luna-blue-3)}.luna-btn.disabled[_ngcontent-%COMP%]{color:#333;cursor:not-allowed}"]}),e}(),Fm=function(e){return e.DEFAULT="default",e.ICON_ONLY="icon",e}({});function zm(e,t){if(1&e){var n=Ki();Xi(0,"luna-btn",18),Ji("click",function(){xt(n);var e=no();return e.volumeOpen=!e.volumeOpen})("dblclick",function(){return xt(n),no().toggleMute()}),Yi(1,"fa-icon",13),Zi()}if(2&e){var r=no();Pa(1),qi("icon",r.isMuted?r.mutedIcon:r.volumeIcon)}}var Um=function(e){return{height:e}};function jm(e,t){if(1&e){var n=Ki();Xi(0,"div",19),Xi(1,"div",20),Ji("click",function(e){return xt(n),no().adjustVolume(e)}),Yi(2,"div",21),Zi(),Zi()}if(2&e){var r=no();Pa(2),qi("ngStyle",bs(1,Um,r.playerVol+"%"))}}var Hm=function(e){return{width:e}},Vm=function(e){return{disabled:e}},Wm=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.service=t,this.library=n,this.playIcon=rl,this.pauseIcon=nl,this.skipLeft=sl,this.skipRight=ul,this.listIcon=el,this.isMuted=!1,this.volumeIcon=dl,this.mutedIcon=hl,this.lastVolume=0,this.volumeOpen=!1,this.playerPos="0",this.playerVol="100",this.player=new Audio,this.canBackward=!1,this.canForward=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.service.playerEE.subscribe(function(t){e.nowPlaying=t,e.canBackward=e.service.currentIdx>0,e.canForward=e.service.currentIdx<e.service.queue.length-1,e.start(t)}),this.player.addEventListener("timeupdate",function(t){e.nowPlaying&&(e.playerPos=(e.player.currentTime/e.nowPlaying.duration*100).toFixed(1))}),this.player.addEventListener("ended",function(){e.start(e.service.getNext())})}},{key:"skipForward",value:function(){var e=this.service.getNext();e&&this.start(e)}},{key:"skipBackward",value:function(){var e=this.service.getPrevious();e&&this.start(e)}},{key:"start",value:function(e){var t=this;this.nowPlaying=e,this.nowPlaying?(this.player.src=this.nowPlaying.src||this.nowPlaying.location,this.player.addEventListener("canplay",function(){t.player.play()},{once:!0})):(this.player.currentTime=0,this.player.pause())}},{key:"getApproxPercentage",value:function(e,t,n){var r=e.target.getBoundingClientRect();return t?n?(r.bottom-e.y)/r.height:(e.y-r.y)/r.height:n?(r.right-e.x)/r.width:(e.x-r.x)/r.width}},{key:"seekTrack",value:function(e){if(e.target&&this.nowPlaying){var t=this.getApproxPercentage(e),n=this.nowPlaying.duration*t;n=Math.floor(100*n)/100,this.player.currentTime=n}}},{key:"adjustVolume",value:function(e){var t=this.getApproxPercentage(e,!0,!0);t=Math.floor(100*t)/100,this.playerVol=(100*t).toFixed(1),this.player.volume=t,this.isMuted=this.player.volume<.01}},{key:"toggleMute",value:function(){this.isMuted?(this.isMuted=!1,this.player.volume=this.lastVolume):(this.isMuted=!0,this.lastVolume=this.player.volume,this.player.volume=0)}},{key:"isMobile",value:function(){return xm()===Tm.ANDROID}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Wi(Dm),Wi("LibraryService"))},e.\u0275cmp=Ue({type:e,selectors:[["app-player"]],decls:22,vars:17,consts:[[1,"player-container"],[1,"player-progress",3,"click"],[1,"player-progress-inner",3,"ngStyle"],[1,"player-panel-main","luna-panel"],[1,"playing-info"],[1,"now-playing-text"],[1,"now-playing-title"],[1,"now-playing-subtitle"],[1,"player-controls"],[3,"click"],[1,"fa-lg",3,"icon","ngClass"],[1,"fa-2x",3,"icon"],[3,"ngClass","click"],[1,"fa-lg",3,"icon"],[1,"player-settings"],[3,"click","dblclick",4,"ngIf"],["routerLink","/playlist"],["class","volume-control",4,"ngIf"],[3,"click","dblclick"],[1,"volume-control"],[1,"slider-control-horizontal",3,"click"],[1,"slider-control-inner",3,"ngStyle"]],template:function(e,t){1&e&&(Xi(0,"div",0),Xi(1,"div",1),Ji("click",function(e){return t.seekTrack(e)}),Yi(2,"div",2),Zi(),Xi(3,"div",3),Xi(4,"div",4),Xi(5,"div",5),Xi(6,"div",6),oo(7),Zi(),Xi(8,"div",7),oo(9),Zi(),Zi(),Zi(),Xi(10,"div",8),Xi(11,"luna-btn",9),Ji("click",function(){return t.skipBackward()}),Yi(12,"fa-icon",10),Zi(),Xi(13,"luna-btn",9),Ji("click",function(){return t.player.paused?t.player.play():t.player.pause()}),Yi(14,"fa-icon",11),Zi(),Xi(15,"luna-btn",12),Ji("click",function(){return t.skipForward()}),Yi(16,"fa-icon",13),Zi(),Zi(),Xi(17,"div",14),Vi(18,zm,2,1,"luna-btn",15),Xi(19,"luna-btn",16),Yi(20,"fa-icon",13),Zi(),Zi(),Zi(),Zi(),Vi(21,jm,3,3,"div",17)),2&e&&(Pa(2),qi("ngStyle",bs(11,Hm,t.playerPos+"%")),Pa(5),uo(" ",t.nowPlaying?t.nowPlaying.title:"Nothing"," "),Pa(2),so(t.nowPlaying?t.nowPlaying.album:"Nothing"),Pa(3),qi("icon",t.skipLeft)("ngClass",bs(13,Vm,!t.canBackward)),Pa(2),qi("icon",t.player.paused?t.playIcon:t.pauseIcon),Pa(1),qi("ngClass",bs(15,Vm,!t.canForward)),Pa(1),qi("icon",t.skipRight),Pa(2),qi("ngIf",!t.isMobile()),Pa(2),qi("icon",t.listIcon),Pa(1),qi("ngIf",t.volumeOpen))},directives:[hc,Bm,_m,ic,cc,Nd],styles:[".player-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.player-panel-main[_ngcontent-%COMP%]{display:grid;justify-content:space-between;align-items:center;text-align:center;grid-template-columns:33.3% 46.7% 20%}.playing-info[_ngcontent-%COMP%]{width:100%;margin:0 5px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-align:left}.now-playing-title[_ngcontent-%COMP%]{margin:0;padding:0;font-weight:700;font-size:1.2em}.now-playing-text[_ngcontent-%COMP%]{margin:0;padding:0}.now-playing-subtitle[_ngcontent-%COMP%]{margin:0;padding:0 2px}.player-controls[_ngcontent-%COMP%], .player-settings[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center}.player-progress[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;height:12px;background:var(--luna-blue-1)}.player-progress-inner[_ngcontent-%COMP%]{pointer-events:none;background-color:var(--luna-blue-3);border-right:6px solid var(--luna-white)}.volume-control[_ngcontent-%COMP%]{position:fixed;right:8px;bottom:70px;width:40px;height:120px;background:var(--luna-blue-1);border-radius:10px}.slider-control-horizontal[_ngcontent-%COMP%]{position:relative;margin:2px auto;width:12px;height:98%;background:var(--luna-blue-2)}.slider-control-inner[_ngcontent-%COMP%]{pointer-events:none}.slider-control-horizontal[_ngcontent-%COMP%] > .slider-control-inner[_ngcontent-%COMP%]{width:100%;position:absolute;bottom:0;border-top:5px solid #fff;background:var(--luna-blue-3)}"]}),e}(),qm=function(e){return{open:e}},Gm=["*"],Xm=function(){var e=function(){function e(){_classCallCheck(this,e),this.isOpen=!1}return _createClass(e,[{key:"open",value:function(){this.isOpen=!0}},{key:"close",value:function(){this.isOpen=!1}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ue({type:e,selectors:[["luna-overlay"]],ngContentSelectors:Gm,decls:2,vars:3,consts:[[1,"luna-overlay-container",3,"ngClass","click"]],template:function(e,t){1&e&&(ao(),Xi(0,"div",0),Ji("click",function(){return t.close()}),io(1),Zi()),2&e&&qi("ngClass",bs(1,qm,t.isOpen))},directives:[ic],styles:[".luna-overlay-container[_ngcontent-%COMP%]{display:flex;flex-grow:1;flex-direction:row;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,15,30,.75);z-index:100;opacity:0;pointer-events:none;transition:.25s}.luna-overlay-container.open[_ngcontent-%COMP%]{opacity:1;pointer-events:all}"]}),e}(),Zm=function(){var e=function(){function e(){_classCallCheck(this,e),this.openChange=new ws,this.selection=Sm.empty(),this.selectionType=Em.SINGLE}return _createClass(e,[{key:"selectItem",value:function(e){this.selection=e,this.selectionType=e instanceof Pm?Em.ALBUM:e instanceof Mm?Em.ARTIST:Em.SINGLE,this.open()}},{key:"open",value:function(){this.openChange.emit(!0)}},{key:"close",value:function(){this.openChange.emit(!1)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();function Ym(e,t){1&e&&Yi(0,"fa-icon",5),2&e&&qi("icon",no().icon)}function Km(e,t){if(1&e&&(Xi(0,"h3"),oo(1),Zi()),2&e){var n=no();Pa(1),so(n.title)}}var Qm=["*"],$m=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ue({type:e,selectors:[["luna-action-list"]],inputs:{icon:"icon",title:"title"},ngContentSelectors:Qm,decls:6,vars:2,consts:[[1,"action-list-container"],[1,"menu-top"],["class","fa-lg",3,"icon",4,"ngIf"],[4,"ngIf"],[1,"menu-content"],[1,"fa-lg",3,"icon"]],template:function(e,t){1&e&&(ao(),Xi(0,"div",0),Xi(1,"div",1),Vi(2,Ym,1,1,"fa-icon",2),Vi(3,Km,2,1,"h3",3),Zi(),Xi(4,"div",4),io(5),Zi(),Zi()),2&e&&(Pa(2),qi("ngIf",t.icon),Pa(1),qi("ngIf",t.title))},directives:[cc,_m],styles:[".action-list-container{width:90vw;display:flex;flex-direction:column;justify-content:space-around;background:var(--luna-bg-dark);padding:2px 5px;font-size:1.5em}.menu-top{color:var(--luna-white);background:var(--luna-panel-bg);padding:8px 4px;flex-grow:1;display:flex;flex-direction:row}.menu-top>fa-icon{margin:2px 10px}.menu-top>h3{margin:0 5px}.menu-content{margin:5px}.action-item{cursor:pointer;padding:12px 8px;box-shadow:0 2px var(--luna-blue-2)}.action-item>fa-icon{margin-right:20px}.action-item:hover{background:var(--luna-panel-bg);box-shadow:0 3px 2px var(--luna-text)}.action-item.disabled{cursor:not-allowed;box-shadow:0 2px #333;color:#333}.action-item.item-cancel{color:var(--luna-red-3);box-shadow:0 2px var(--luna-red-1);align-self:flex-end}.action-item.item-cancel:hover{box-shadow:0 3px 2px var(--luna-red-3)}"],encapsulation:2}),e}();function Jm(e,t){if(1&e){var n=Ki();Xi(0,"div"),Xi(1,"div",5),Ji("click",function(){return xt(n),no(2).playSelection()}),Yi(2,"fa-icon",4),oo(3," Play Now "),Zi(),Xi(4,"div",5),Ji("click",function(){return xt(n),no(2).queueSelection()}),Yi(5,"fa-icon",4),oo(6," Add to queue "),Zi(),Xi(7,"div",6),Yi(8,"fa-icon",4),oo(9," Add to playlist... "),Zi(),Zi()}if(2&e){var r=no(2);Pa(2),qi("icon",r.playIcon),Pa(3),qi("icon",r.plusIcon),Pa(3),qi("icon",r.listIcon)}}function ev(e,t){1&e&&(Xi(0,"div"),Xi(1,"div",7),oo(2,"Play All Now"),Zi(),Xi(3,"div",7),oo(4,"Add all to Queue"),Zi(),Zi())}function tv(e,t){if(1&e&&(Xi(0,"luna-action-list",1),Vi(1,Jm,10,3,"div",2),Vi(2,ev,5,0,"div",2),Xi(3,"div",3),Yi(4,"fa-icon",4),oo(5," Cancel "),Zi(),Zi()),2&e){var n=no();qi("icon",n.entityIcon)("title",n.selection.title||n.selection.name),Pa(1),qi("ngIf",2===n.selectionType),Pa(1),qi("ngIf",2!==n.selectionType),Pa(2),qi("icon",n.cancelIcon)}}var nv=function(){var e=function(){function e(t,n,r){var a=this;_classCallCheck(this,e),this.overlay=t,this.service=n,this.player=r,this.isOpen=!1,this.entityIcon=tl,this.selection=Sm.empty(),this.selectionType=Em.SINGLE,this.playIcon=rl,this.plusIcon=al,this.listIcon=el,this.cancelIcon=ll,this.service.openChange.subscribe(function(e){switch(a.isOpen=e,a.isOpen?a.open():a.close(),a.selection=n.selection,a.selectionType=n.selectionType,n.selectionType){case Em.ALBUM:a.entityIcon=$c;break;case Em.ARTIST:a.entityIcon=fl;break;default:a.entityIcon=tl}})}return _createClass(e,[{key:"playSelection",value:function(){this.player.play(new Im(this.selection._id,this.selectionType),!0)}},{key:"queueSelection",value:function(){this.player.addToQueue(new Im(this.selection._id,this.selectionType))}},{key:"open",value:function(){this.overlay.open()}},{key:"close",value:function(){this.overlay.close()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Wi(Xm,1),Wi(Zm),Wi(Dm))},e.\u0275cmp=Ue({type:e,selectors:[["app-selection-menu"]],decls:1,vars:1,consts:[[3,"icon","title",4,"ngIf"],[3,"icon","title"],[4,"ngIf"],[1,"action-item","item-cancel"],[3,"icon"],[1,"action-item",3,"click"],[1,"action-item","disabled"],[1,"action-item"]],template:function(e,t){1&e&&Vi(0,tv,6,5,"luna-action-list",0),2&e&&qi("ngIf",t.selection)},directives:[cc,$m,_m],styles:[""]}),e}(),rv=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.router=t,this.service=n,this.title="LunaPlayer",this.songIcon=tl}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Wi(Ld),Wi("LibraryService"))},e.\u0275cmp=Ue({type:e,selectors:[["app-root"]],decls:8,vars:0,consts:[[1,"flex-container"],[1,"luna-panel"],[1,"app-main-panel"]],template:function(e,t){1&e&&(Xi(0,"div",0),Yi(1,"app-navigation"),Xi(2,"div",1),Xi(3,"div",2),Yi(4,"router-outlet"),Zi(),Yi(5,"app-player"),Zi(),Zi(),Xi(6,"luna-overlay"),Yi(7,"app-selection-menu"),Zi())},directives:[Cm,Ud,Wm,Xm,nv],styles:[".flex-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;height:100%;overflow:hidden}.luna-panel[_ngcontent-%COMP%]{position:relative;max-height:100%;flex-grow:1;overflow:hidden;display:grid;grid-template-rows:calc(100% - 84px) 84px}.app-main-panel[_ngcontent-%COMP%]{max-height:100%;overflow-y:auto}app-player[_ngcontent-%COMP%]{align-self:end}",""]}),e}(),av=function e(){_classCallCheck(this,e)},iv=function e(){_classCallCheck(this,e)},ov=function(){function e(t){var n=this;_classCallCheck(this,e),this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){n.headers=new Map,t.split("\n").forEach(function(e){var t=e.indexOf(":");if(t>0){var r=e.slice(0,t),a=r.toLowerCase(),i=e.slice(t+1).trim();n.maybeSetNormalizedName(r,a),n.headers.has(a)?n.headers.get(a).push(i):n.headers.set(a,[i])}})}:function(){n.headers=new Map,Object.keys(t).forEach(function(e){var r=t[e],a=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(a,r),n.maybeSetNormalizedName(e,a))})}:this.headers=new Map}return _createClass(e,[{key:"has",value:function(e){return this.init(),this.headers.has(e.toLowerCase())}},{key:"get",value:function(e){this.init();var t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(e){return this.init(),this.headers.get(e.toLowerCase())||null}},{key:"append",value:function(e,t){return this.clone({name:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({name:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({name:e,value:t,op:"d"})}},{key:"maybeSetNormalizedName",value:function(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}},{key:"init",value:function(){var t=this;this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(e){return t.applyUpdate(e)}),this.lazyUpdate=null))}},{key:"copyFrom",value:function(e){var t=this;e.init(),Array.from(e.headers.keys()).forEach(function(n){t.headers.set(n,e.headers.get(n)),t.normalizedNames.set(n,e.normalizedNames.get(n))})}},{key:"clone",value:function(t){var n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}},{key:"applyUpdate",value:function(e){var t=e.name.toLowerCase();switch(e.op){case"a":case"s":var n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);var r=("a"===e.op?this.headers.get(t):void 0)||[];r.push.apply(r,_toConsumableArray(n)),this.headers.set(t,r);break;case"d":var a=e.value;if(a){var i=this.headers.get(t);if(!i)return;0===(i=i.filter(function(e){return-1===a.indexOf(e)})).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,i)}else this.headers.delete(t),this.normalizedNames.delete(t)}}},{key:"forEach",value:function(e){var t=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return e(t.normalizedNames.get(n),t.headers.get(n))})}}]),e}(),sv=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"encodeKey",value:function(e){return uv(e)}},{key:"encodeValue",value:function(e){return uv(e)}},{key:"decodeKey",value:function(e){return decodeURIComponent(e)}},{key:"decodeValue",value:function(e){return decodeURIComponent(e)}}]),e}();function uv(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function cv(e){return"".concat(e)}var lv=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_classCallCheck(this,e),this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new sv,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){var n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(function(e){var r=e.indexOf("="),a=_slicedToArray2(-1==r?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,r)),t.decodeValue(e.slice(r+1))],2),i=a[0],o=a[1],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(function(e){var r=n.fromObject[e];t.map.set(e,Array.isArray(r)?r:[r])})):this.map=null}return _createClass(e,[{key:"has",value:function(e){return this.init(),this.map.has(e)}},{key:"get",value:function(e){this.init();var t=this.map.get(e);return t?t[0]:null}},{key:"getAll",value:function(e){return this.init(),this.map.get(e)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(e,t){return this.clone({param:e,value:t,op:"a"})}},{key:"appendAll",value:function(e){var t=[];return Object.keys(e).forEach(function(n){var r=e[n];Array.isArray(r)?r.forEach(function(e){t.push({param:n,value:e,op:"a"})}):t.push({param:n,value:r,op:"a"})}),this.clone(t)}},{key:"set",value:function(e,t){return this.clone({param:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({param:e,value:t,op:"d"})}},{key:"toString",value:function(){var e=this;return this.init(),this.keys().map(function(t){var n=e.encoder.encodeKey(t);return e.map.get(t).map(function(t){return n+"="+e.encoder.encodeValue(t)}).join("&")}).filter(function(e){return""!==e}).join("&")}},{key:"clone",value:function(t){var n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}},{key:"init",value:function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(t){return e.map.set(t,e.cloneFrom.map.get(t))}),this.updates.forEach(function(t){switch(t.op){case"a":case"s":var n=("a"===t.op?e.map.get(t.param):void 0)||[];n.push(cv(t.value)),e.map.set(t.param,n);break;case"d":if(void 0===t.value){e.map.delete(t.param);break}var r=e.map.get(t.param)||[],a=r.indexOf(cv(t.value));-1!==a&&r.splice(a,1),r.length>0?e.map.set(t.param,r):e.map.delete(t.param)}}),this.cloneFrom=this.updates=null)}}]),e}(),fv=function(){function e(){_classCallCheck(this,e),this.map=new Map}return _createClass(e,[{key:"set",value:function(e,t){return this.map.set(e,t),this}},{key:"get",value:function(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}},{key:"delete",value:function(e){return this.map.delete(e),this}},{key:"keys",value:function(){return this.map.keys()}}]),e}();function hv(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function dv(e){return"undefined"!=typeof Blob&&e instanceof Blob}function pv(e){return"undefined"!=typeof FormData&&e instanceof FormData}var mv=function(){function e(t,n,r,a){var i;if(_classCallCheck(this,e),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||a?(this.body=void 0!==r?r:null,i=a):i=r,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new ov),this.context||(this.context=new fv),this.params){var o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+o}}else this.params=new lv,this.urlWithParams=n}return _createClass(e,[{key:"serializeBody",value:function(){return null===this.body?null:hv(this.body)||dv(this.body)||pv(this.body)||"string"==typeof this.body?this.body:this.body instanceof lv?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||pv(this.body)?null:dv(this.body)?this.body.type||null:hv(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof lv?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}},{key:"clone",value:function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.method||this.method,a=n.url||this.url,i=n.responseType||this.responseType,o=void 0!==n.body?n.body:this.body,s=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,u=void 0!==n.reportProgress?n.reportProgress:this.reportProgress,c=n.headers||this.headers,l=n.params||this.params,f=null!==(t=n.context)&&void 0!==t?t:this.context;return void 0!==n.setHeaders&&(c=Object.keys(n.setHeaders).reduce(function(e,t){return e.set(t,n.setHeaders[t])},c)),n.setParams&&(l=Object.keys(n.setParams).reduce(function(e,t){return e.set(t,n.setParams[t])},l)),new e(r,a,o,{params:l,headers:c,context:f,reportProgress:u,responseType:i,withCredentials:s})}}]),e}(),vv=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}({}),gv=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";_classCallCheck(this,e),this.headers=t.headers||new ov,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300},yv=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(e=t.call(this,r)).type=vv.ResponseHeader,e}return _createClass(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(gv),bv=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(e=t.call(this,r)).type=vv.Response,e.body=void 0!==r.body?r.body:null,e}return _createClass(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(gv),kv=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e,0,"Unknown Error")).name="HttpErrorResponse",r.ok=!1,r.message=r.status>=200&&r.status<300?"Http failure during parsing for ".concat(e.url||"(unknown url)"):"Http failure response for ".concat(e.url||"(unknown url)",": ").concat(e.status," ").concat(e.statusText),r.error=e.error||null,r}return n}(gv);function _v(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}var wv=function(){var e=function(){function e(t){_classCallCheck(this,e),this.handler=t}return _createClass(e,[{key:"request",value:function(e,t){var n,r,a,i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e instanceof mv?n=e:(r=o.headers instanceof ov?o.headers:new ov(o.headers),o.params&&(a=o.params instanceof lv?o.params:new lv({fromObject:o.params})),n=new mv(e,t,void 0!==o.body?o.body:null,{headers:r,context:o.context,params:a,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials}));var s=pl(n).pipe(Vl(function(e){return i.handler.handle(e)}));if(e instanceof mv||"events"===o.observe)return s;var u=s.pipe(Bl(function(e){return e instanceof bv}));switch(o.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return u.pipe(E(function(e){if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return u.pipe(E(function(e){if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return u.pipe(E(function(e){if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return u.pipe(E(function(e){return e.body}))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type ".concat(o.observe,"}"))}}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",e,t)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",e,t)}},{key:"head",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",e,t)}},{key:"jsonp",value:function(e,t){return this.request("JSONP",e,{params:(new lv).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",e,t)}},{key:"patch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",e,_v(n,t))}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",e,_v(n,t))}},{key:"put",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",e,_v(n,t))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Gn(av))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e}(),Cv=function(){function e(t,n){_classCallCheck(this,e),this.next=t,this.interceptor=n}return _createClass(e,[{key:"handle",value:function(e){return this.interceptor.intercept(e,this.next)}}]),e}(),Tv=new Pn("HTTP_INTERCEPTORS"),xv=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"intercept",value:function(e,t){return t.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e}(),Sv=/^\)\]\}',?\n/,Ev=function(){var e=function(){function e(t){_classCallCheck(this,e),this.xhrFactory=t}return _createClass(e,[{key:"handle",value:function(e){var t=this;if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new b(function(n){var r=t.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach(function(e,t){return r.setRequestHeader(e,t.join(","))}),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){var a=e.detectContentTypeHeader();null!==a&&r.setRequestHeader("Content-Type",a)}if(e.responseType){var i=e.responseType.toLowerCase();r.responseType="json"!==i?i:"text"}var o=e.serializeBody(),s=null,u=function(){if(null!==s)return s;var t=1223===r.status?204:r.status,n=r.statusText||"OK",a=new ov(r.getAllResponseHeaders()),i=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(r)||e.url;return s=new yv({headers:a,status:t,statusText:n,url:i})},c=function(){var t=u(),a=t.headers,i=t.status,o=t.statusText,s=t.url,c=null;204!==i&&(c=void 0===r.response?r.responseText:r.response),0===i&&(i=c?200:0);var l=i>=200&&i<300;if("json"===e.responseType&&"string"==typeof c){var f=c;c=c.replace(Sv,"");try{c=""!==c?JSON.parse(c):null}catch(h){c=f,l&&(l=!1,c={error:h,text:c})}}l?(n.next(new bv({body:c,headers:a,status:i,statusText:o,url:s||void 0})),n.complete()):n.error(new kv({error:c,headers:a,status:i,statusText:o,url:s||void 0}))},l=function(e){var t=u().url,a=new kv({error:e,status:r.status||0,statusText:r.statusText||"Unknown Error",url:t||void 0});n.error(a)},f=!1,h=function(t){f||(n.next(u()),f=!0);var a={type:vv.DownloadProgress,loaded:t.loaded};t.lengthComputable&&(a.total=t.total),"text"===e.responseType&&r.responseText&&(a.partialText=r.responseText),n.next(a)},d=function(e){var t={type:vv.UploadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),n.next(t)};return r.addEventListener("load",c),r.addEventListener("error",l),r.addEventListener("timeout",l),r.addEventListener("abort",l),e.reportProgress&&(r.addEventListener("progress",h),null!==o&&r.upload&&r.upload.addEventListener("progress",d)),r.send(o),n.next({type:vv.Sent}),function(){r.removeEventListener("error",l),r.removeEventListener("abort",l),r.removeEventListener("load",c),r.removeEventListener("timeout",l),e.reportProgress&&(r.removeEventListener("progress",h),null!==o&&r.upload&&r.upload.removeEventListener("progress",d)),r.readyState!==r.DONE&&r.abort()}})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Gn(yc))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e}(),Iv=new Pn("XSRF_COOKIE_NAME"),Av=new Pn("XSRF_HEADER_NAME"),Rv=function e(){_classCallCheck(this,e)},Ov=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this.doc=t,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return _createClass(e,[{key:"getToken",value:function(){if("server"===this.platform)return null;var e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=ac(e,this.cookieName),this.lastCookieString=e),this.lastToken}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Gn(Bu),Gn(Ws),Gn(Iv))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e}(),Pv=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.tokenService=t,this.headerName=n}return _createClass(e,[{key:"intercept",value:function(e,t){var n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);var r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Gn(Rv),Gn(Av))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e}(),Mv=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.backend=t,this.injector=n,this.chain=null}return _createClass(e,[{key:"handle",value:function(e){if(null===this.chain){var t=this.injector.get(Tv,[]);this.chain=t.reduceRight(function(e,t){return new Cv(e,t)},this.backend)}return this.chain.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Gn(iv),Gn(Di))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e}(),Dv=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"disable",value:function(){return{ngModule:e,providers:[{provide:Pv,useClass:xv}]}}},{key:"withOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[t.cookieName?{provide:Iv,useValue:t.cookieName}:[],t.headerName?{provide:Av,useValue:t.headerName}:[]]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=We({type:e}),e.\u0275inj=le({providers:[Pv,{provide:Tv,useExisting:Pv,multi:!0},{provide:Rv,useClass:Ov},{provide:Iv,useValue:"XSRF-TOKEN"},{provide:Av,useValue:"X-XSRF-TOKEN"}]}),e}(),Lv=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=We({type:e}),e.\u0275inj=le({providers:[wv,{provide:av,useClass:Mv},Ev,{provide:iv,useExisting:Ev}],imports:[[Dv.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e}();function Nv(e,t){if(1&e&&(Xi(0,"h3",6),oo(1),Zi()),2&e){var n=no();Pa(1),so(n.title)}}function Bv(e,t){if(1&e&&(Xi(0,"p",7),oo(1),Zi()),2&e){var n=no();Pa(1),uo(" ",n.subtitle,"")}}var Fv=function(e,t){return{"card-bg-panel":e,"card-sm":t}},zv=function(){var e=function(){function e(){_classCallCheck(this,e),this.icon=il,this.color=Uv.DEFAULT,this.size=jv.DEFAULT,this.longPressed=new ws}return _createClass(e,[{key:"touchStart",value:function(){this.timer&&clearTimeout(this.timer),this.timer=setTimeout(this.longPressHandler.bind(this),1e3)}},{key:"touchEnd",value:function(){this.timer&&clearTimeout(this.timer)}},{key:"longPressHandler",value:function(){this.longPressed.emit("fire")}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ue({type:e,selectors:[["luna-card"]],inputs:{icon:"icon",title:"title",subtitle:"subtitle",color:"color",size:"size"},outputs:{longPressed:"longPressed"},decls:6,vars:8,consts:[[1,"app-card","card-sg",3,"ngClass","touchstart","touchend","mousedown","mouseup"],[1,"app-card-icon"],[3,"ngClass","icon"],[1,"app-card-content"],["class","app-card-title",4,"ngIf"],["class","app-card-subtitle",4,"ngIf"],[1,"app-card-title"],[1,"app-card-subtitle"]],template:function(e,t){var n,r,a;1&e&&(Xi(0,"div",0),Ji("touchstart",function(){return t.touchStart()})("touchend",function(){return t.touchEnd()})("mousedown",function(){return t.touchStart()})("mouseup",function(){return t.touchEnd()}),Xi(1,"div",1),Yi(2,"fa-icon",2),Zi(),Xi(3,"div",3),Vi(4,Nv,2,1,"h3",4),Vi(5,Bv,2,1,"p",5),Zi(),Zi()),2&e&&(qi("ngClass",(5,n=Fv,r="panel"===t.color,a="small"===t.size,function(e,t,n,r,a,i,o){var s=t+5;return function(e,t,n,r){var a=ji(e,t,n);return ji(e,t+1,r)||a}(e,s,a,i)?Ui(e,s+2,r(a,i)):ks(e,s+2)}(Ct(),Mt(),0,n,r,a))),Pa(2),qi("ngClass","small"===t.size?"fa-2x":"fa-3x")("icon",t.icon),Pa(2),qi("ngIf",t.title),Pa(1),qi("ngIf",t.subtitle))},directives:[ic,_m,cc],styles:[".app-card[_ngcontent-%COMP%]{cursor:pointer;background:var(--luna-blue-2);color:#fff;margin:2px;padding:10px;transition:.2s;-webkit-animation:slide-in .2s forwards;animation:slide-in .2s forwards}.app-card[_ngcontent-%COMP%]:hover{background:var(--luna-blue-3)}.app-card-title[_ngcontent-%COMP%]{margin:0;padding:0;font-size:1.4rem}.app-card-content[_ngcontent-%COMP%]{margin:2px 5px}.app-card-subtitle[_ngcontent-%COMP%]{margin:4px 0;padding:0}@-webkit-keyframes slide-in{0%{transform:translateX(75%);opacity:0}to{transform:none;opacity:1}}@keyframes slide-in{0%{transform:translateX(75%);opacity:0}to{transform:none;opacity:1}}.card-bg-panel[_ngcontent-%COMP%], .card-bg-panel[_ngcontent-%COMP%]:hover{background:var(--luna-panel-bg)}.card-bg-panel[_ngcontent-%COMP%]:hover{-webkit-backdrop-filter:brightness(125%);backdrop-filter:brightness(125%)}.card-sm[_ngcontent-%COMP%]{padding:0 5px}.card-sm[_ngcontent-%COMP%] > .app-card-content[_ngcontent-%COMP%]{font-size:.8em}"]}),e}(),Uv=function(e){return e.DEFAULT="default",e.PANEL="panel",e}({}),jv=function(e){return e.DEFAULT="default",e.SMALL="small",e}({}),Hv=function(e){return["/album",e]};function Vv(e,t){if(1&e&&Yi(0,"luna-card",1),2&e){var n=t.$implicit;qi("icon",no().albumIcon)("title",n.name)("subtitle",n.songs.length+" Track(s)")("routerLink",bs(4,Hv,n._id))}}var Wv=function(){var e=function(){function e(t){_classCallCheck(this,e),this.service=t,this.albums=[],this.albumIcon=ol}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.refreshList(),this.sub=this.service.updated.subscribe(function(){e.refreshList()})}},{key:"ngOnDestroy",value:function(){var e;null===(e=this.sub)||void 0===e||e.unsubscribe()}},{key:"refreshList",value:function(){var e=this;this.service.getAllAlbums().subscribe(function(t){e.albums=t})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Wi("LibraryService"))},e.\u0275cmp=Ue({type:e,selectors:[["app-album-list"]],decls:1,vars:1,consts:[[3,"icon","title","subtitle","routerLink",4,"ngFor","ngForOf"],[3,"icon","title","subtitle","routerLink"]],template:function(e,t){1&e&&Vi(0,Vv,1,6,"luna-card",0),2&e&&qi("ngForOf",t.albums)},directives:[sc,zv,Nd],styles:[""]}),e}(),qv=function(e){return["/artist",e]};function Gv(e,t){if(1&e&&Yi(0,"luna-card",1),2&e){var n=t.$implicit;qi("icon",no().artistIcon)("title",n.name||"Unknown Artist")("subtitle",n.songs.length+" Track(s)")("routerLink",bs(4,qv,n._id))}}var Xv=function(){var e=function(){function e(t){_classCallCheck(this,e),this.service=t,this.artists=[],this.artistIcon=fl}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.refreshList(),this.sub=this.service.updated.subscribe(function(){e.refreshList()})}},{key:"ngOnDestroy",value:function(){var e;null===(e=this.sub)||void 0===e||e.unsubscribe()}},{key:"refreshList",value:function(){var e=this;this.service.getAllArtists().subscribe(function(t){e.artists=t})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Wi("LibraryService"))},e.\u0275cmp=Ue({type:e,selectors:[["app-artist-list"]],decls:1,vars:1,consts:[[3,"icon","title","subtitle","routerLink",4,"ngFor","ngForOf"],[3,"icon","title","subtitle","routerLink"]],template:function(e,t){1&e&&Vi(0,Gv,1,6,"luna-card",0),2&e&&qi("ngForOf",t.artists)},directives:[sc,zv,Nd],styles:[""]}),e}();function Zv(e,t){if(1&e&&Yi(0,"luna-card",2),2&e){var n=no();qi("icon",n.entityIcon)("title",n.entity.name||"Unknown ")("subtitle",n.entity.songs.length+" Track(s)")("color","panel")}}function Yv(e,t){if(1&e){var n=Ki();Xi(0,"luna-card",4),Ji("click",function(){var e=xt(n).$implicit;return no(2).enqueue(e._id)})("longPressed",function(){var e=xt(n).$implicit;return no(2).longPressHandler(e)}),Zi()}if(2&e){var r=t.$implicit;qi("icon",no(2).trackIcon)("title",r.title)("subtitle",r.artist)}}function Kv(e,t){if(1&e&&(Xi(0,"div"),Vi(1,Yv,1,3,"luna-card",3),Zi()),2&e){var n=no();Pa(1),qi("ngForOf",n.entity.songs)}}var Qv=function(){var e=function(){function e(t,n,r,a,i){_classCallCheck(this,e),this.route=t,this.service=n,this.router=r,this.player=a,this.selector=i,this.resType=Em.ALBUM,this.entityIcon=il,this.trackIcon=tl}return _createClass(e,[{key:"goToError",value:function(){this.router.navigateByUrl("error")}},{key:"ngOnInit",value:function(){var e=this;this.route.paramMap.subscribe(function(t){var n=t.get("type"),r=t.get("id");"album"===n&&r?(e.resType=Em.ALBUM,e.entityIcon=ol,e.service.getAlbum(r).subscribe(function(t){e.entity=t})):"artist"==n&&r?(e.resType=Em.ARTIST,e.entityIcon=fl,e.service.getArtist(r).subscribe(function(t){e.entity=t})):"catalog"==n?(e.resType=Em.SINGLE,e.entityIcon=el,e.service.getAllSongs().subscribe(function(t){e.entity=new Pm("0","Complete Song List",t)})):e.goToError(),console.log("attempting to load ".concat(n," with id ").concat(r)),console.log(e.entity)})}},{key:"enqueue",value:function(e){var t;this.player.play(new Im(e,this.resType,null===(t=this.entity)||void 0===t?void 0:t._id))}},{key:"longPressHandler",value:function(e){this.selector.selectItem(e),navigator.vibrate(200)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Wi(ph),Wi("LibraryService"),Wi(Ld),Wi(Dm),Wi(Zm))},e.\u0275cmp=Ue({type:e,selectors:[["app-catalog-list"]],decls:2,vars:2,consts:[[3,"icon","title","subtitle","color",4,"ngIf"],[4,"ngIf"],[3,"icon","title","subtitle","color"],["color","default","size","small",3,"icon","title","subtitle","click","longPressed",4,"ngFor","ngForOf"],["color","default","size","small",3,"icon","title","subtitle","click","longPressed"]],template:function(e,t){1&e&&(Vi(0,Zv,1,4,"luna-card",0),Vi(1,Kv,2,1,"div",1)),2&e&&(qi("ngIf",t.entity),Pa(1),qi("ngIf",t.entity&&t.entity.songs))},directives:[cc,zv,sc],styles:[".sticky-top[_ngcontent-%COMP%]{position:sticky}.app-card-icon[_ngcontent-%COMP%]{vertical-align:middle;margin:0;padding:0}.app-card-content[_ngcontent-%COMP%]{font-size:.8em}.app-card-content[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:2px}.app-card-content[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{font-size:1.4em}ul[_ngcontent-%COMP%]{list-style:none;font-size:12pt;margin:0 0 2px}li[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{padding:0}li[_ngcontent-%COMP%]{margin:0}"]}),e}(),$v=function(){var e=function(){function e(t){_classCallCheck(this,e),this.router=t,this.errorIcon=Jc}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"goHome",value:function(){this.router.navigateByUrl("/albums/list")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Wi(Ld))},e.\u0275cmp=Ue({type:e,selectors:[["app-error"]],decls:5,vars:1,consts:[[1,"error-container"],[1,"fa-4x",3,"icon"],[1,"luna-btn",3,"click"]],template:function(e,t){1&e&&(Xi(0,"div",0),Yi(1,"fa-icon",1),Xi(2,"h3"),oo(3,"Error Occurred"),Zi(),Xi(4,"div",2),Ji("click",function(){return t.goHome()}),Zi(),Zi()),2&e&&(Pa(1),qi("icon",t.errorIcon))},directives:[_m],styles:[".error-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:relative;width:100%;height:100%}"]}),e}();function Jv(e,t){if(1&e&&Yi(0,"luna-card",7),2&e){var n=no();qi("icon",n.songIcon)("title",n.nowPlaying.title)("subtitle",n.nowPlaying.artist)}}function eg(e,t){if(1&e&&Yi(0,"luna-card",8),2&e){var n=t.$implicit;qi("icon",no().songIcon)("title",n.title)("subtitle",n.artist)}}function tg(e,t){1&e&&(Xi(0,"h3",9),oo(1,"No Tracks"),Zi())}function ng(e,t){if(1&e&&Yi(0,"luna-card",8),2&e){var n=t.$implicit;qi("icon",no().songIcon)("title",n.title)("subtitle",n.artist)}}function rg(e,t){1&e&&(Xi(0,"h3",9),oo(1,"No Tracks"),Zi())}var ag,ig,og=[{path:"albums/list",component:Wv},{path:"artists/list",component:Xv},{path:":type/:id",component:Qv},{path:"catalog/songs",component:Qv},{path:"playlist",component:(ag=function(){function e(t){_classCallCheck(this,e),this.service=t,this.songIcon=tl,this.listIcon=cl,this.clearIcon=ll,this.userQueue=[],this.recommendedQueue=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.loadQueue(),this.service.queueEE.subscribe(function(){e.loadQueue()})}},{key:"skipTo",value:function(e){this.service.skipTo(e)}},{key:"loadQueue",value:function(){var e=this,t=[],n=[];this.service.queue.forEach(function(r,a){a>e.service.currentIdx&&(r.addedBy===Rm.RECOMMENDED?n.push(r.song):t.push(r.song))}),this.userQueue=t,this.recommendedQueue=n,this.nowPlaying=this.service.getCurrent()}},{key:"clearQueue",value:function(){this.service.clearQueue(),this.loadQueue()}}]),e}(),ag.\u0275fac=function(e){return new(e||ag)(Wi(Dm))},ag.\u0275cmp=Ue({type:ag,selectors:[["app-current-playlist"]],decls:21,vars:9,consts:[[1,"action-buttons"],[3,"click"],[3,"icon"],[1,"luna-card-divider"],["color","panel",3,"icon","title","subtitle",4,"ngIf"],["size","small",3,"icon","title","subtitle",4,"ngFor","ngForOf"],["style","margin: 10px 15px;",4,"ngIf"],["color","panel",3,"icon","title","subtitle"],["size","small",3,"icon","title","subtitle"],[2,"margin","10px 15px"]],template:function(e,t){1&e&&(Xi(0,"div",0),Xi(1,"luna-btn",1),Ji("click",function(){return t.clearQueue()}),Yi(2,"fa-icon",2),oo(3," Clear "),Zi(),Zi(),Xi(4,"div",3),Xi(5,"h6"),Yi(6,"fa-icon",2),oo(7," Now Playing (Current) "),Zi(),Zi(),Vi(8,Jv,1,3,"luna-card",4),Xi(9,"div",3),Xi(10,"h6"),Yi(11,"fa-icon",2),oo(12," Your Up Next "),Zi(),Zi(),Vi(13,eg,1,3,"luna-card",5),Vi(14,tg,2,0,"h3",6),Xi(15,"div",3),Xi(16,"h6"),Yi(17,"fa-icon",2),oo(18," Recommended Tracks (Autoplay) "),Zi(),Zi(),Vi(19,ng,1,3,"luna-card",5),Vi(20,rg,2,0,"h3",6)),2&e&&(Pa(2),qi("icon",t.clearIcon),Pa(4),qi("icon",t.songIcon),Pa(2),qi("ngIf",t.nowPlaying),Pa(3),qi("icon",t.listIcon),Pa(2),qi("ngForOf",t.userQueue),Pa(1),qi("ngIf",t.userQueue.length<1),Pa(3),qi("icon",t.listIcon),Pa(2),qi("ngForOf",t.recommendedQueue),Pa(1),qi("ngIf",t.recommendedQueue.length<1))},directives:[Bm,_m,cc,sc,zv],styles:[".action-buttons[_ngcontent-%COMP%]{display:flex;flex-grow:1;padding:6px 0;flex-direction:row;justify-content:flex-end;background:var(--luna-blue-1);text-align:right;font-size:1.5em}.luna-card-divider[_ngcontent-%COMP%]{padding:8px 0;background:var(--luna-blue-1);color:var(--luna-white);font-size:1.6em;width:100%}.luna-card-divider[_ngcontent-%COMP%] > h6[_ngcontent-%COMP%]{margin:0 15px;padding:0}luna-btn[_ngcontent-%COMP%]{color:#fff}"]}),ag)},{path:"error",component:$v}],sg=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=We({type:e}),e.\u0275inj=le({imports:[[Kd.forRoot(og)],Kd]}),e}(),ug=function(){function e(){_classCallCheck(this,e),this.id=0,this.albums=new Map,this.artists=new Map,this.songs=new Map}return _createClass(e,[{key:"getNextId",value:function(){return(++this.id).toString()}},{key:"registerSong",value:function(e,t){var n=e.common,r=n.album,a=n.artist,i=n.title,o=n.track,s=e.format.duration,u=new Sm(this.getNextId(),t,i||"Untitled",new Om(o.no,o.of),r||"Unknown Album",a||"Unknown Artist",s||0);this.songs.set(u._id,u),this.albums.has(u.album)?this.albums.get(u.album).songs.push(u):this.albums.set(r||"Unknown",new Pm(this.getNextId().toString(),u.album,[u])),this.artists.has(u.artist)?this.artists.get(u.artist).songs.push(u):this.artists.set(u.artist,new Mm(this.getNextId().toString(),u.artist,[u]))}}]),e}(),cg=n(6223),lg=function(){var e=function(){function e(){var t=this;_classCallCheck(this,e),this.library=new ug,this.updated=new ws,console.debug("Music Library Initialising ..."),window.cordova&&(console.log("Cordova Detected Successfully!"),setTimeout(function(){console.debug("Checking System Permissions...");var e=cordova.plugins.permissions;e.checkPermission(e.READ_EXTERNAL_STORAGE,function(n){n.hasPermission?t.loadLibrary():e.requestPermission(e.READ_EXTERNAL_STORAGE,function(){t.loadLibrary()},function(e){console.error("something went terribly wrong."),window.close()})},function(){console.error("something went terribly wrong."),window.close()})},1e3))}return _createClass(e,[{key:"onListRetrieved",value:function(e){var t=this;e.forEach(function(e){e.isDirectory?t.onFileSystemRequested(e):e.isFile&&(e.name.match(/\.(mp3|wav|ogg|m4a)$/gm)?e.file(function(n){(0,cg.parseBlob)(n).then(function(n){t.library.registerSong(n,e.toURL()),t.updated.emit(!0)})}):console.debug("not music ... skipping"))})}},{key:"onFileSystemRequested",value:function(e){e.createReader().readEntries(this.onListRetrieved.bind(this))}},{key:"loadLibrary",value:function(){var e="".concat(cordova.file.externalRootDirectory,"Music");window.resolveLocalFileSystemURL(e,this.onFileSystemRequested.bind(this))}},{key:"getAllAlbums",value:function(){var e=this;return new b(function(t){t.next(Array.from(e.library.albums.values()))})}},{key:"getAllArtists",value:function(){var e=this;return new b(function(t){t.next(Array.from(e.library.artists.values()))})}},{key:"getAllSongs",value:function(){var e=this;return new b(function(t){t.next(Array.from(e.library.songs.values()))})}},{key:"getAlbum",value:function(e){var t=this;return new b(function(n){n.next(Array.from(t.library.albums.values()).find(function(t){return t._id===e}))})}},{key:"getArtist",value:function(e){var t=this;return new b(function(n){n.next(Array.from(t.library.artists.values()).find(function(t){return t._id===e}))})}},{key:"getSong",value:function(e){var t=this;return new b(function(n){n.next(t.library.songs.get(e))})}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e}(),fg=function(){var e=function(){function e(t){_classCallCheck(this,e),this.http=t,this.updated=new ws}return _createClass(e,[{key:"getAllAlbums",value:function(){return this.http.get("/api/albums/list")}},{key:"getAllArtists",value:function(){return this.http.get("/api/artists/list")}},{key:"getAllSongs",value:function(){return this.http.get("/api/songs/all")}},{key:"getAlbum",value:function(e){return this.http.get("/api/albums/".concat(e))}},{key:"getArtist",value:function(e){return this.http.get("/api/artists/".concat(e))}},{key:"getSong",value:function(e){return this.http.get("/api/songs/".concat(e))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Gn(wv))},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),hg=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=We({type:e}),e.\u0275inj=le({imports:[[dc,wm]]}),e}();switch(xm()){case Tm.ANDROID:ig=lg;break;default:ig=fg}var dg=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=We({type:e,bootstrap:[rv]}),e.\u0275inj=le({providers:[Dm,{provide:"LibraryService",useClass:ig}],imports:[[Kc,wm,Lv,sg,hg]]}),e}();(function(){if(gu)throw new Error("Cannot enable prod mode after platform setup.");vu=!1})(),Zc().bootstrapModule(dg).catch(function(e){return console.error(e)})},1052:function(e){function t(e,t,n,r,a,i,o){try{var s=e[i](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,a)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise(function(a,i){var o=e.apply(n,r);function s(e){t(o,a,i,s,u,"next",e)}function u(e){t(o,a,i,s,u,"throw",e)}s(void 0)})}},e.exports.default=e.exports,e.exports.__esModule=!0},2361:function(){},4616:function(){}},function(e){"use strict";e(e.s=1637)}])})();